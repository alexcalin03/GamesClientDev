"use strict";(self.webpackChunkgames_client_dev=self.webpackChunkgames_client_dev||[]).push([[580],{279:(e,t,r)=>{r.d(t,{O:()=>o});var n=r(133),s=r(583),a=r(4492);const i=class e{constructor(t={}){if(this.uid=(0,n.L)("renderTarget"),this.colorTextures=[],this.dirtyId=0,this.isRoot=!1,this._size=new Float32Array(2),this._managedColorTextures=!1,t={...e.defaultOptions,...t},this.stencil=t.stencil,this.depth=t.depth,this.isRoot=t.isRoot,"number"==typeof t.colorTextures){this._managedColorTextures=!0;for(let e=0;e<t.colorTextures;e++)this.colorTextures.push(new s.v({width:t.width,height:t.height,resolution:t.resolution,antialias:t.antialias}))}else{this.colorTextures=[...t.colorTextures.map(e=>e.source)];const e=this.colorTexture.source;this.resize(e.width,e.height,e._resolution)}this.colorTexture.source.on("resize",this.onSourceResize,this),(t.depthStencilTexture||this.stencil)&&(t.depthStencilTexture instanceof a.g||t.depthStencilTexture instanceof s.v?this.depthStencilTexture=t.depthStencilTexture.source:this.ensureDepthStencilTexture())}get size(){const e=this._size;return e[0]=this.pixelWidth,e[1]=this.pixelHeight,e}get width(){return this.colorTexture.source.width}get height(){return this.colorTexture.source.height}get pixelWidth(){return this.colorTexture.source.pixelWidth}get pixelHeight(){return this.colorTexture.source.pixelHeight}get resolution(){return this.colorTexture.source._resolution}get colorTexture(){return this.colorTextures[0]}onSourceResize(e){this.resize(e.width,e.height,e._resolution,!0)}ensureDepthStencilTexture(){this.depthStencilTexture||(this.depthStencilTexture=new s.v({width:this.width,height:this.height,resolution:this.resolution,format:"depth24plus-stencil8",autoGenerateMipmaps:!1,antialias:!1,mipLevelCount:1}))}resize(e,t,r=this.resolution,n=!1){this.dirtyId++,this.colorTextures.forEach((s,a)=>{n&&0===a||s.source.resize(e,t,r)}),this.depthStencilTexture&&this.depthStencilTexture.source.resize(e,t,r)}destroy(){this.colorTexture.source.off("resize",this.onSourceResize,this),this._managedColorTextures&&this.colorTextures.forEach(e=>{e.destroy()}),this.depthStencilTexture&&(this.depthStencilTexture.destroy(),delete this.depthStencilTexture)}};i.defaultOptions={width:0,height:0,resolution:1,colorTextures:1,stencil:!1,depth:!1,antialias:!1,isRoot:!1};let o=i},581:(e,t,r)=>{r.d(t,{d:()=>a});var n=r(4486),s=r(133);class a extends n.A{constructor({buffer:e,offset:t,size:r}){super(),this.uid=(0,s.L)("buffer"),this._resourceType="bufferResource",this._touched=0,this._resourceId=(0,s.L)("resource"),this._bufferResource=!0,this.destroyed=!1,this.buffer=e,this.offset=0|t,this.size=r,this.buffer.on("change",this.onBufferChange,this)}onBufferChange(){this._resourceId=(0,s.L)("resource"),this.emit("change",this)}destroy(e=!1){this.destroyed=!0,e&&this.buffer.destroy(),this.emit("change",this),this.buffer=null}}},1172:(e,t,r)=>{r.d(t,{g:()=>s});var n=r(1957);const s=[];s[n.K.NONE]=void 0,s[n.K.DISABLED]={stencilWriteMask:0,stencilReadMask:0},s[n.K.RENDERING_MASK_ADD]={stencilFront:{compare:"equal",passOp:"increment-clamp"},stencilBack:{compare:"equal",passOp:"increment-clamp"}},s[n.K.RENDERING_MASK_REMOVE]={stencilFront:{compare:"equal",passOp:"decrement-clamp"},stencilBack:{compare:"equal",passOp:"decrement-clamp"}},s[n.K.MASK_ACTIVE]={stencilWriteMask:0,stencilFront:{compare:"equal",passOp:"keep"},stencilBack:{compare:"equal",passOp:"keep"}},s[n.K.INVERSE_MASK_ACTIVE]={stencilWriteMask:0,stencilFront:{compare:"not-equal",passOp:"keep"},stencilBack:{compare:"not-equal",passOp:"keep"}}},1266:(e,t,r)=>{function n(e,t){return`\n        for (let i = 0; i < ${e*t}; i++) {\n            data[offset + (((i / ${e})|0) * 4) + (i % ${e})] = v[i];\n        }\n    `}r.d(t,{_:()=>a,g:()=>s});const s={f32:"\n        data[offset] = v;",i32:"\n        dataInt32[offset] = v;","vec2<f32>":"\n        data[offset] = v[0];\n        data[offset + 1] = v[1];","vec3<f32>":"\n        data[offset] = v[0];\n        data[offset + 1] = v[1];\n        data[offset + 2] = v[2];","vec4<f32>":"\n        data[offset] = v[0];\n        data[offset + 1] = v[1];\n        data[offset + 2] = v[2];\n        data[offset + 3] = v[3];","vec2<i32>":"\n        dataInt32[offset] = v[0];\n        dataInt32[offset + 1] = v[1];","vec3<i32>":"\n        dataInt32[offset] = v[0];\n        dataInt32[offset + 1] = v[1];\n        dataInt32[offset + 2] = v[2];","vec4<i32>":"\n        dataInt32[offset] = v[0];\n        dataInt32[offset + 1] = v[1];\n        dataInt32[offset + 2] = v[2];\n        dataInt32[offset + 3] = v[3];","mat2x2<f32>":"\n        data[offset] = v[0];\n        data[offset + 1] = v[1];\n        data[offset + 4] = v[2];\n        data[offset + 5] = v[3];","mat3x3<f32>":"\n        data[offset] = v[0];\n        data[offset + 1] = v[1];\n        data[offset + 2] = v[2];\n        data[offset + 4] = v[3];\n        data[offset + 5] = v[4];\n        data[offset + 6] = v[5];\n        data[offset + 8] = v[6];\n        data[offset + 9] = v[7];\n        data[offset + 10] = v[8];","mat4x4<f32>":"\n        for (let i = 0; i < 16; i++) {\n            data[offset + i] = v[i];\n        }","mat3x2<f32>":n(3,2),"mat4x2<f32>":n(4,2),"mat2x3<f32>":n(2,3),"mat4x3<f32>":n(4,3),"mat2x4<f32>":n(2,4),"mat3x4<f32>":n(3,4)},a={...s,"mat2x2<f32>":"\n        data[offset] = v[0];\n        data[offset + 1] = v[1];\n        data[offset + 2] = v[2];\n        data[offset + 3] = v[3];\n    "}},1662:(e,t,r)=>{r.d(t,{f:()=>Fe,i:()=>Oe});var n=r(8507);class s{constructor(e){this._renderer=e}updateRenderable(){}destroyRenderable(){}validateRenderable(){return!1}addRenderable(e,t){this._renderer.renderPipes.batch.break(t),t.add(e)}execute(e){e.isRenderable&&e.render(this._renderer)}destroy(){this._renderer=null}}s.extension={type:[n.Ag.WebGLPipes,n.Ag.WebGPUPipes,n.Ag.CanvasPipes],name:"customRender"};var a=r(9313),i=r(8655),o=r(8422);function d(e,t){const r=e.instructionSet,n=r.instructions;for(let e=0;e<r.instructionSize;e++){const r=n[e];t[r.renderPipeId].execute(r)}}const u=new a.u;class l{constructor(e){this._renderer=e}addRenderGroup(e,t){e.isCachedAsTexture?this._addRenderableCacheAsTexture(e,t):this._addRenderableDirect(e,t)}execute(e){e.isRenderable&&(e.isCachedAsTexture?this._executeCacheAsTexture(e):this._executeDirect(e))}destroy(){this._renderer=null}_addRenderableDirect(e,t){this._renderer.renderPipes.batch.break(t),e._batchableRenderGroup&&(i.Z.return(e._batchableRenderGroup),e._batchableRenderGroup=null),t.add(e)}_addRenderableCacheAsTexture(e,t){const r=e._batchableRenderGroup??(e._batchableRenderGroup=i.Z.get(o.K));r.renderable=e.root,r.transform=e.root.relativeGroupTransform,r.texture=e.texture,r.bounds=e._textureBounds,t.add(e),this._renderer.renderPipes.blendMode.pushBlendMode(e,e.root.groupBlendMode,t),this._renderer.renderPipes.batch.addToBatch(r,t),this._renderer.renderPipes.blendMode.popBlendMode(t)}_executeCacheAsTexture(e){if(e.textureNeedsUpdate){e.textureNeedsUpdate=!1;const t=u.identity().translate(-e._textureBounds.x,-e._textureBounds.y);this._renderer.renderTarget.push(e.texture,!0,null,e.texture.frame),this._renderer.globalUniforms.push({worldTransformMatrix:t,worldColor:4294967295,offset:{x:0,y:0}}),d(e,this._renderer.renderPipes),this._renderer.renderTarget.finishRenderPass(),this._renderer.renderTarget.pop(),this._renderer.globalUniforms.pop()}e._batchableRenderGroup._batcher.updateElement(e._batchableRenderGroup),e._batchableRenderGroup._batcher.geometry.buffers[0].update()}_executeDirect(e){this._renderer.globalUniforms.push({worldTransformMatrix:e.inverseParentTextureTransform,worldColor:e.worldColorAlpha}),d(e,this._renderer.renderPipes),this._renderer.globalUniforms.pop()}}l.extension={type:[n.Ag.WebGLPipes,n.Ag.WebGPUPipes,n.Ag.CanvasPipes],name:"renderGroup"};var c=r(2437),h=r(218),p=r(9636);function f(e,t){t||(t=0);for(let r=t;r<e.length&&e[r];r++)e[r]=null}var m=r(7457),g=r(753);const v=new m.mc,_=m.fR|m.ig|m.u;function x(e,t=!1){!function(e){const t=e.root;let r;if(e.renderGroupParent){const n=e.renderGroupParent;e.worldTransform.appendFrom(t.relativeGroupTransform,n.worldTransform),e.worldColor=(0,g.j)(t.groupColor,n.worldColor),r=t.groupAlpha*n.worldAlpha}else e.worldTransform.copyFrom(t.localTransform),e.worldColor=t.localColor,r=t.localAlpha;r=r<0?0:r>1?1:r,e.worldAlpha=r,e.worldColorAlpha=e.worldColor+(255*r<<24)}(e);const r=e.childrenToUpdate,n=e.updateTick++;for(const t in r){const s=Number(t),a=r[t],i=a.list,o=a.index;for(let t=0;t<o;t++){const r=i[t];r.parentRenderGroup===e&&r.relativeRenderGroupDepth===s&&b(r,n,0)}f(i,o),a.index=0}if(t)for(let r=0;r<e.renderGroupChildren.length;r++)x(e.renderGroupChildren[r],t)}function b(e,t,r){if(t===e.updateTick)return;e.updateTick=t,e.didChange=!1;const n=e.localTransform;e.updateLocalTransform();const s=e.parent;if(s&&!s.renderGroup?(r|=e._updateFlags,e.relativeGroupTransform.appendFrom(n,s.relativeGroupTransform),r&_&&T(e,s,r)):(r=e._updateFlags,e.relativeGroupTransform.copyFrom(n),r&_&&T(e,v,r)),!e.renderGroup){const n=e.children,s=n.length;for(let e=0;e<s;e++)b(n[e],t,r);const a=e.parentRenderGroup,i=e;i.renderPipeId&&!a.structureDidChange&&a.updateRenderable(i)}}function T(e,t,r){if(r&m.ig){e.groupColor=(0,g.j)(e.localColor,t.groupColor);let r=e.localAlpha*t.groupAlpha;r=r<0?0:r>1?1:r,e.groupAlpha=r,e.groupColorAlpha=e.groupColor+(255*r<<24)}r&m.u&&(e.groupBlendMode="inherit"===e.localBlendMode?t.groupBlendMode:e.localBlendMode),r&m.fR&&(e.globalDisplayStatus=e.localDisplayStatus&t.globalDisplayStatus),e._updateFlags=0}const y=new a.u;class k{constructor(e){this._renderer=e}render({container:e,transform:t}){const r=e.parent,n=e.renderGroup.renderGroupParent;e.parent=null,e.renderGroup.renderGroupParent=null;const s=this._renderer,a=y;t&&(a.copyFrom(e.renderGroup.localTransform),e.renderGroup.localTransform.copyFrom(t));const i=s.renderPipes;this._updateCachedRenderGroups(e.renderGroup,null),this._updateRenderGroups(e.renderGroup),s.globalUniforms.start({worldTransformMatrix:t?e.renderGroup.localTransform:e.renderGroup.worldTransform,worldColor:e.renderGroup.worldColorAlpha}),d(e.renderGroup,i),i.uniformBatch&&i.uniformBatch.renderEnd(),t&&e.renderGroup.localTransform.copyFrom(a),e.parent=r,e.renderGroup.renderGroupParent=n}destroy(){this._renderer=null}_updateCachedRenderGroups(e,t){if(e._parentCacheAsTextureRenderGroup=t,e.isCachedAsTexture){if(!e.textureNeedsUpdate)return;t=e}for(let r=e.renderGroupChildren.length-1;r>=0;r--)this._updateCachedRenderGroups(e.renderGroupChildren[r],t);if(e.invalidateMatrices(),e.isCachedAsTexture){if(e.textureNeedsUpdate){const t=e.root.getLocalBounds();t.ceil();const r=e.texture;e.texture&&c.W.returnTexture(e.texture,!0);const n=this._renderer,s=e.textureOptions.resolution||n.view.resolution,a=e.textureOptions.antialias??n.view.antialias,i=e.textureOptions.scaleMode??"linear",o=c.W.getOptimalTexture(t.width,t.height,s,a);o._source.style=new h.n({scaleMode:i}),e.texture=o,e._textureBounds||(e._textureBounds=new p.c),e._textureBounds.copyFrom(t),r!==e.texture&&e.renderGroupParent&&(e.renderGroupParent.structureDidChange=!0)}}else e.texture&&(c.W.returnTexture(e.texture,!0),e.texture=null)}_updateRenderGroups(e){const t=this._renderer,r=t.renderPipes;if(e.runOnRender(t),e.instructionSet.renderPipes=r,e.structureDidChange?f(e.childrenRenderablesToUpdate.list,0):function(e,t){const{list:r}=e.childrenRenderablesToUpdate;let n=!1;for(let s=0;s<e.childrenRenderablesToUpdate.index;s++){const e=r[s];if(n=t[e.renderPipeId].validateRenderable(e),n)break}e.structureDidChange=n}(e,r),x(e),e.structureDidChange?(e.structureDidChange=!1,this._buildInstructions(e,t)):this._updateRenderables(e),e.childrenRenderablesToUpdate.index=0,t.renderPipes.batch.upload(e.instructionSet),!e.isCachedAsTexture||e.textureNeedsUpdate)for(let t=0;t<e.renderGroupChildren.length;t++)this._updateRenderGroups(e.renderGroupChildren[t])}_updateRenderables(e){const{list:t,index:r}=e.childrenRenderablesToUpdate;for(let n=0;n<r;n++){const r=t[n];r.didViewUpdate&&e.updateRenderable(r)}f(t,r)}_buildInstructions(e,t){const r=e.root,n=e.instructionSet;n.reset();const s=t.renderPipes?t:t.batch.renderer,a=s.renderPipes;a.batch.buildStart(n),a.blendMode.buildStart(),a.colorMask.buildStart(),r.sortableChildren&&r.sortChildren(),r.collectRenderablesWithEffects(n,s,null),a.batch.buildEnd(n),a.blendMode.buildEnd(n)}}k.extension={type:[n.Ag.WebGLSystem,n.Ag.WebGPUSystem,n.Ag.CanvasSystem],name:"renderGroup"};class M{constructor(e){this._renderer=e}addRenderable(e,t){const r=this._getGpuSprite(e);e.didViewUpdate&&this._updateBatchableSprite(e,r),this._renderer.renderPipes.batch.addToBatch(r,t)}updateRenderable(e){const t=this._getGpuSprite(e);e.didViewUpdate&&this._updateBatchableSprite(e,t),t._batcher.updateElement(t)}validateRenderable(e){const t=this._getGpuSprite(e);return!t._batcher.checkAndUpdateTexture(t,e._texture)}_updateBatchableSprite(e,t){t.bounds=e.visualBounds,t.texture=e._texture}_getGpuSprite(e){return e._gpuData[this._renderer.uid]||this._initGPUSprite(e)}_initGPUSprite(e){const t=new o.K;return t.renderable=e,t.transform=e.groupTransform,t.texture=e._texture,t.bounds=e.visualBounds,t.roundPixels=this._renderer._roundPixels|e._roundPixels,e._gpuData[this._renderer.uid]=t,t}destroy(){this._renderer=null}}M.extension={type:[n.Ag.WebGLPipes,n.Ag.WebGPUPipes,n.Ag.CanvasPipes],name:"sprite"};var C=r(7073),S=r(7547),w=r(3721);const G=class e{constructor(e,t){this.state=S.U.for2d(),this._batchersByInstructionSet=Object.create(null),this._activeBatches=Object.create(null),this.renderer=e,this._adaptor=t,this._adaptor.init?.(this)}static getBatcher(e){return new this._availableBatchers[e]}buildStart(e){let t=this._batchersByInstructionSet[e.uid];t||(t=this._batchersByInstructionSet[e.uid]=Object.create(null),t.default||(t.default=new w.J({maxTextures:this.renderer.limits.maxBatchableTextures}))),this._activeBatches=t,this._activeBatch=this._activeBatches.default;for(const e in this._activeBatches)this._activeBatches[e].begin()}addToBatch(t,r){if(this._activeBatch.name!==t.batcherName){this._activeBatch.break(r);let n=this._activeBatches[t.batcherName];n||(n=this._activeBatches[t.batcherName]=e.getBatcher(t.batcherName),n.begin()),this._activeBatch=n}this._activeBatch.add(t)}break(e){this._activeBatch.break(e)}buildEnd(e){this._activeBatch.break(e);const t=this._activeBatches;for(const e in t){const r=t[e],n=r.geometry;n.indexBuffer.setDataWithSize(r.indexBuffer,r.indexSize,!0),n.buffers[0].setDataWithSize(r.attributeBuffer.float32View,r.attributeSize,!1)}}upload(e){const t=this._batchersByInstructionSet[e.uid];for(const e in t){const r=t[e],n=r.geometry;r.dirty&&(r.dirty=!1,n.buffers[0].update(4*r.attributeSize))}}execute(e){if("startBatch"===e.action){const t=e.batcher,r=t.geometry,n=t.shader;this._adaptor.start(this,r,n)}this._adaptor.execute(this,e)}destroy(){this.state=null,this.renderer=null,this._adaptor=null;for(const e in this._activeBatches)this._activeBatches[e].destroy();this._activeBatches=null}};G.extension={type:[n.Ag.WebGLPipes,n.Ag.WebGPUPipes,n.Ag.CanvasPipes],name:"batch"},G._availableBatchers=Object.create(null);let P=G;n.XO.handleByMap(n.Ag.Batcher,P._availableBatchers),n.XO.add(w.J);var A=r(9049),R=r(9113),B=r(3012),U=r(5811),I=r(1196),O=r(6554),F="struct GlobalFilterUniforms {\n  uInputSize:vec4<f32>,\n  uInputPixel:vec4<f32>,\n  uInputClamp:vec4<f32>,\n  uOutputFrame:vec4<f32>,\n  uGlobalFrame:vec4<f32>,\n  uOutputTexture:vec4<f32>,\n};\n\nstruct MaskUniforms {\n  uFilterMatrix:mat3x3<f32>,\n  uMaskClamp:vec4<f32>,\n  uAlpha:f32,\n  uInverse:f32,\n};\n\n@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;\n@group(0) @binding(1) var uTexture: texture_2d<f32>;\n@group(0) @binding(2) var uSampler : sampler;\n\n@group(1) @binding(0) var<uniform> filterUniforms : MaskUniforms;\n@group(1) @binding(1) var uMaskTexture: texture_2d<f32>;\n\nstruct VSOutput {\n    @builtin(position) position: vec4<f32>,\n    @location(0) uv : vec2<f32>,\n    @location(1) filterUv : vec2<f32>,\n};\n\nfn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>\n{\n    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;\n\n    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;\n    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;\n\n    return vec4(position, 0.0, 1.0);\n}\n\nfn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>\n{\n    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);\n}\n\nfn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>\n{\n  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);\n}\n\nfn getFilterCoord(aPosition:vec2<f32> ) -> vec2<f32>\n{\n  return ( filterUniforms.uFilterMatrix * vec3( filterTextureCoord(aPosition), 1.0)  ).xy;\n}\n\nfn getSize() -> vec2<f32>\n{\n  return gfu.uGlobalFrame.zw;\n}\n\n@vertex\nfn mainVertex(\n  @location(0) aPosition : vec2<f32>,\n) -> VSOutput {\n  return VSOutput(\n   filterVertexPosition(aPosition),\n   filterTextureCoord(aPosition),\n   getFilterCoord(aPosition)\n  );\n}\n\n@fragment\nfn mainFragment(\n  @location(0) uv: vec2<f32>,\n  @location(1) filterUv: vec2<f32>,\n  @builtin(position) position: vec4<f32>\n) -> @location(0) vec4<f32> {\n\n    var maskClamp = filterUniforms.uMaskClamp;\n    var uAlpha = filterUniforms.uAlpha;\n\n    var clip = step(3.5,\n      step(maskClamp.x, filterUv.x) +\n      step(maskClamp.y, filterUv.y) +\n      step(filterUv.x, maskClamp.z) +\n      step(filterUv.y, maskClamp.w));\n\n    var mask = textureSample(uMaskTexture, uSampler, filterUv);\n    var source = textureSample(uTexture, uSampler, uv);\n    var alphaMul = 1.0 - uAlpha * (1.0 - mask.a);\n\n    var a: f32 = alphaMul * mask.r * uAlpha * clip;\n\n    if (filterUniforms.uInverse == 1.0) {\n        a = 1.0 - a;\n    }\n\n    return source * a;\n}\n";class E extends O.d{constructor(e){const{sprite:t,...r}=e,n=new I.N(t.texture),s=new U.k({uFilterMatrix:{value:new a.u,type:"mat3x3<f32>"},uMaskClamp:{value:n.uClampFrame,type:"vec4<f32>"},uAlpha:{value:1,type:"f32"},uInverse:{value:e.inverse?1:0,type:"f32"}});super({...r,gpuProgram:B.B.from({vertex:{source:F,entryPoint:"mainVertex"},fragment:{source:F,entryPoint:"mainFragment"}}),glProgram:R.M.from({vertex:"in vec2 aPosition;\n\nout vec2 vTextureCoord;\nout vec2 vMaskCoord;\n\n\nuniform vec4 uInputSize;\nuniform vec4 uOutputFrame;\nuniform vec4 uOutputTexture;\nuniform mat3 uFilterMatrix;\n\nvec4 filterVertexPosition(  vec2 aPosition )\n{\n    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;\n       \n    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;\n    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;\n\n    return vec4(position, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord(  vec2 aPosition )\n{\n    return aPosition * (uOutputFrame.zw * uInputSize.zw);\n}\n\nvec2 getFilterCoord( vec2 aPosition )\n{\n    return  ( uFilterMatrix * vec3( filterTextureCoord(aPosition), 1.0)  ).xy;\n}   \n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition(aPosition);\n    vTextureCoord = filterTextureCoord(aPosition);\n    vMaskCoord = getFilterCoord(aPosition);\n}\n",fragment:"in vec2 vMaskCoord;\nin vec2 vTextureCoord;\n\nuniform sampler2D uTexture;\nuniform sampler2D uMaskTexture;\n\nuniform float uAlpha;\nuniform vec4 uMaskClamp;\nuniform float uInverse;\n\nout vec4 finalColor;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(uMaskClamp.x, vMaskCoord.x) +\n        step(uMaskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, uMaskClamp.z) +\n        step(vMaskCoord.y, uMaskClamp.w));\n\n    // TODO look into why this is needed\n    float npmAlpha = uAlpha;\n    vec4 original = texture(uTexture, vTextureCoord);\n    vec4 masky = texture(uMaskTexture, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    float a = alphaMul * masky.r * npmAlpha * clip;\n\n    if (uInverse == 1.0) {\n        a = 1.0 - a;\n    }\n\n    finalColor = original * a;\n}\n",name:"mask-filter"}),clipToViewport:!1,resources:{filterUniforms:s,uMaskTexture:t.texture.source}}),this.sprite=t,this._textureMatrix=n}set inverse(e){this.resources.filterUniforms.uniforms.uInverse=e?1:0}get inverse(){return 1===this.resources.filterUniforms.uniforms.uInverse}apply(e,t,r,n){this._textureMatrix.texture=this.sprite.texture,e.calculateSpriteMatrix(this.resources.filterUniforms.uniforms.uFilterMatrix,this.sprite).prepend(this._textureMatrix.mapCoord),this.resources.uMaskTexture=this.sprite.texture.source,e.applyFilter(this,t,r,n)}}var D=r(9443),z=r(6844),W=r(4492),L=r(5099);const H=new p.c;class V extends A.a{constructor(){super(),this.filters=[new E({sprite:new z.k(W.g.EMPTY),inverse:!1,resolution:"inherit",antialias:"inherit"})]}get sprite(){return this.filters[0].sprite}set sprite(e){this.filters[0].sprite=e}get inverse(){return this.filters[0].inverse}set inverse(e){this.filters[0].inverse=e}}class j{constructor(e){this._activeMaskStage=[],this._renderer=e}push(e,t,r){const n=this._renderer;if(n.renderPipes.batch.break(r),r.add({renderPipeId:"alphaMask",action:"pushMaskBegin",mask:e,inverse:t._maskOptions.inverse,canBundle:!1,maskedContainer:t}),e.inverse=t._maskOptions.inverse,e.renderMaskToTexture){const t=e.mask;t.includeInBuild=!0,t.collectRenderables(r,n,null),t.includeInBuild=!1}n.renderPipes.batch.break(r),r.add({renderPipeId:"alphaMask",action:"pushMaskEnd",mask:e,maskedContainer:t,inverse:t._maskOptions.inverse,canBundle:!1})}pop(e,t,r){this._renderer.renderPipes.batch.break(r),r.add({renderPipeId:"alphaMask",action:"popMaskEnd",mask:e,inverse:t._maskOptions.inverse,canBundle:!1})}execute(e){const t=this._renderer,r=e.mask.renderMaskToTexture;if("pushMaskBegin"===e.action){const n=i.Z.get(V);if(n.inverse=e.inverse,r){e.mask.mask.measurable=!0;const r=(0,D.f)(e.mask.mask,!0,H);e.mask.mask.measurable=!1,r.ceil();const s=t.renderTarget.renderTarget.colorTexture.source,a=c.W.getOptimalTexture(r.width,r.height,s._resolution,s.antialias);t.renderTarget.push(a,!0),t.globalUniforms.push({offset:r,worldColor:4294967295});const i=n.sprite;i.texture=a,i.worldTransform.tx=r.minX,i.worldTransform.ty=r.minY,this._activeMaskStage.push({filterEffect:n,maskedContainer:e.maskedContainer,filterTexture:a})}else n.sprite=e.mask.mask,this._activeMaskStage.push({filterEffect:n,maskedContainer:e.maskedContainer})}else if("pushMaskEnd"===e.action){const e=this._activeMaskStage[this._activeMaskStage.length-1];r&&(t.type===L.W.WEBGL&&t.renderTarget.finishRenderPass(),t.renderTarget.pop(),t.globalUniforms.pop()),t.filter.push({renderPipeId:"filter",action:"pushFilter",container:e.maskedContainer,filterEffect:e.filterEffect,canBundle:!1})}else if("popMaskEnd"===e.action){t.filter.pop();const e=this._activeMaskStage.pop();r&&c.W.returnTexture(e.filterTexture),i.Z.return(e.filterEffect)}}destroy(){this._renderer=null,this._activeMaskStage=null}}j.extension={type:[n.Ag.WebGLPipes,n.Ag.WebGPUPipes,n.Ag.CanvasPipes],name:"alphaMask"};class N{constructor(e){this._colorStack=[],this._colorStackIndex=0,this._currentColor=0,this._renderer=e}buildStart(){this._colorStack[0]=15,this._colorStackIndex=1,this._currentColor=15}push(e,t,r){this._renderer.renderPipes.batch.break(r);const n=this._colorStack;n[this._colorStackIndex]=n[this._colorStackIndex-1]&e.mask;const s=this._colorStack[this._colorStackIndex];s!==this._currentColor&&(this._currentColor=s,r.add({renderPipeId:"colorMask",colorMask:s,canBundle:!1})),this._colorStackIndex++}pop(e,t,r){this._renderer.renderPipes.batch.break(r);const n=this._colorStack;this._colorStackIndex--;const s=n[this._colorStackIndex-1];s!==this._currentColor&&(this._currentColor=s,r.add({renderPipeId:"colorMask",colorMask:s,canBundle:!1}))}execute(e){this._renderer.colorMask.setMask(e.colorMask)}destroy(){this._renderer=null,this._colorStack=null}}N.extension={type:[n.Ag.WebGLPipes,n.Ag.WebGPUPipes,n.Ag.CanvasPipes],name:"colorMask"};var $=r(1257),q=r(1957);class K{constructor(e){this._maskStackHash={},this._maskHash=new WeakMap,this._renderer=e}push(e,t,r){var n;const s=e,a=this._renderer;a.renderPipes.batch.break(r),a.renderPipes.blendMode.setBlendMode(s.mask,"none",r),r.add({renderPipeId:"stencilMask",action:"pushMaskBegin",mask:e,inverse:t._maskOptions.inverse,canBundle:!1});const i=s.mask;i.includeInBuild=!0,this._maskHash.has(s)||this._maskHash.set(s,{instructionsStart:0,instructionsLength:0});const o=this._maskHash.get(s);o.instructionsStart=r.instructionSize,i.collectRenderables(r,a,null),i.includeInBuild=!1,a.renderPipes.batch.break(r),r.add({renderPipeId:"stencilMask",action:"pushMaskEnd",mask:e,inverse:t._maskOptions.inverse,canBundle:!1});const d=r.instructionSize-o.instructionsStart-1;o.instructionsLength=d;const u=a.renderTarget.renderTarget.uid;(n=this._maskStackHash)[u]??(n[u]=0)}pop(e,t,r){const n=e,s=this._renderer;s.renderPipes.batch.break(r),s.renderPipes.blendMode.setBlendMode(n.mask,"none",r),r.add({renderPipeId:"stencilMask",action:"popMaskBegin",inverse:t._maskOptions.inverse,canBundle:!1});const a=this._maskHash.get(e);for(let e=0;e<a.instructionsLength;e++)r.instructions[r.instructionSize++]=r.instructions[a.instructionsStart++];r.add({renderPipeId:"stencilMask",action:"popMaskEnd",canBundle:!1})}execute(e){var t;const r=this._renderer,n=r.renderTarget.renderTarget.uid;let s=(t=this._maskStackHash)[n]??(t[n]=0);"pushMaskBegin"===e.action?(r.renderTarget.ensureDepthStencil(),r.stencil.setStencilMode(q.K.RENDERING_MASK_ADD,s),s++,r.colorMask.setMask(0)):"pushMaskEnd"===e.action?(e.inverse?r.stencil.setStencilMode(q.K.INVERSE_MASK_ACTIVE,s):r.stencil.setStencilMode(q.K.MASK_ACTIVE,s),r.colorMask.setMask(15)):"popMaskBegin"===e.action?(r.colorMask.setMask(0),0!==s?r.stencil.setStencilMode(q.K.RENDERING_MASK_REMOVE,s):(r.renderTarget.clear(null,$.u.STENCIL),r.stencil.setStencilMode(q.K.DISABLED,s)),s--):"popMaskEnd"===e.action&&(e.inverse?r.stencil.setStencilMode(q.K.INVERSE_MASK_ACTIVE,s):r.stencil.setStencilMode(q.K.MASK_ACTIVE,s),r.colorMask.setMask(15)),this._maskStackHash[n]=s}destroy(){this._renderer=null,this._maskStackHash=null,this._maskHash=null}}K.extension={type:[n.Ag.WebGLPipes,n.Ag.WebGPUPipes,n.Ag.CanvasPipes],name:"stencilMask"};var Q=r(2577),Y=r(268);const J=class e{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new Q.Q(0),this.color=this._backgroundColor,this.alpha=1}init(t){t={...e.defaultOptions,...t},this.clearBeforeRender=t.clearBeforeRender,this.color=t.background||t.backgroundColor||this._backgroundColor,this.alpha=t.backgroundAlpha,this._backgroundColor.setAlpha(t.backgroundAlpha)}get color(){return this._backgroundColor}set color(e){Q.Q.shared.setValue(e).alpha<1&&1===this._backgroundColor.alpha&&(0,Y.R)("Cannot set a transparent background on an opaque canvas. To enable transparency, set backgroundAlpha < 1 when initializing your Application."),this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get colorRgba(){return this._backgroundColor.toArray()}destroy(){}};J.extension={type:[n.Ag.WebGLSystem,n.Ag.WebGPUSystem,n.Ag.CanvasSystem],name:"background",priority:0},J.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0};let X=J;var Z=r(3284);const ee={};n.XO.handle(n.Ag.BlendMode,e=>{if(!e.name)throw new Error("BlendMode extension must have a name property");ee[e.name]=e.ref},e=>{delete ee[e.name]});class te{constructor(e){this._blendModeStack=[],this._isAdvanced=!1,this._filterHash=Object.create(null),this._renderer=e,this._renderer.runners.prerender.add(this)}prerender(){this._activeBlendMode="normal",this._isAdvanced=!1}pushBlendMode(e,t,r){this._blendModeStack.push(t),this.setBlendMode(e,t,r)}popBlendMode(e){this._blendModeStack.pop();const t=this._blendModeStack[this._activeBlendMode.length-1]??"normal";this.setBlendMode(null,t,e)}setBlendMode(e,t,r){const n=e instanceof Z.m;this._activeBlendMode!==t?(this._isAdvanced&&this._endAdvancedBlendMode(r),this._activeBlendMode=t,e&&(this._isAdvanced=!!ee[t],this._isAdvanced&&this._beginAdvancedBlendMode(e,r))):this._isAdvanced&&e&&!n&&this._renderableList?.push(e)}_beginAdvancedBlendMode(e,t){this._renderer.renderPipes.batch.break(t);const r=this._activeBlendMode;if(!ee[r])return void(0,Y.R)(`Unable to assign BlendMode: '${r}'. You may want to include: import 'pixi.js/advanced-blend-modes'`);const n=this._ensureFilterEffect(r),s=e instanceof Z.m,a={renderPipeId:"filter",action:"pushFilter",filterEffect:n,renderables:s?null:[e],container:s?e.root:null,canBundle:!1};this._renderableList=a.renderables,t.add(a)}_ensureFilterEffect(e){let t=this._filterHash[e];return t||(t=this._filterHash[e]=new A.a,t.filters=[new ee[e]]),t}_endAdvancedBlendMode(e){this._isAdvanced=!1,this._renderableList=null,this._renderer.renderPipes.batch.break(e),e.add({renderPipeId:"filter",action:"popFilter",canBundle:!1})}buildStart(){this._isAdvanced=!1}buildEnd(e){this._isAdvanced&&this._endAdvancedBlendMode(e)}destroy(){this._renderer=null,this._renderableList=null;for(const e in this._filterHash)this._filterHash[e].destroy();this._filterHash=null}}te.extension={type:[n.Ag.WebGLPipes,n.Ag.WebGPUPipes,n.Ag.CanvasPipes],name:"blendMode"};var re=r(1761);const ne={png:"image/png",jpg:"image/jpeg",webp:"image/webp"},se=class e{constructor(e){this._renderer=e}_normalizeOptions(e,t={}){return e instanceof m.mc||e instanceof W.g?{target:e,...t}:{...t,...e}}async image(e){const t=re.e.get().createImage();return t.src=await this.base64(e),t}async base64(t){t=this._normalizeOptions(t,e.defaultImageOptions);const{format:r,quality:n}=t,s=this.canvas(t);if(void 0!==s.toBlob)return new Promise((e,t)=>{s.toBlob(r=>{if(!r)return void t(new Error("ICanvas.toBlob failed!"));const n=new FileReader;n.onload=()=>e(n.result),n.onerror=t,n.readAsDataURL(r)},ne[r],n)});if(void 0!==s.toDataURL)return s.toDataURL(ne[r],n);if(void 0!==s.convertToBlob){const e=await s.convertToBlob({type:ne[r],quality:n});return new Promise((t,r)=>{const n=new FileReader;n.onload=()=>t(n.result),n.onerror=r,n.readAsDataURL(e)})}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(e){const t=(e=this._normalizeOptions(e)).target,r=this._renderer;if(t instanceof W.g)return r.texture.generateCanvas(t);const n=r.textureGenerator.generateTexture(e),s=r.texture.generateCanvas(n);return n.destroy(!0),s}pixels(e){const t=(e=this._normalizeOptions(e)).target,r=this._renderer,n=t instanceof W.g?t:r.textureGenerator.generateTexture(e),s=r.texture.getPixels(n);return t instanceof m.mc&&n.destroy(!0),s}texture(e){return(e=this._normalizeOptions(e)).target instanceof W.g?e.target:this._renderer.textureGenerator.generateTexture(e)}download(e){e=this._normalizeOptions(e);const t=this.canvas(e),r=document.createElement("a");r.download=e.filename??"image.png",r.href=t.toDataURL("image/png"),document.body.appendChild(r),r.click(),document.body.removeChild(r)}log(e){const t=e.width??200;e=this._normalizeOptions(e);const r=this.canvas(e),n=r.toDataURL();console.log(`[Pixi Texture] ${r.width}px ${r.height}px`);const s=["font-size: 1px;",`padding: ${t}px 300px;`,`background: url(${n}) no-repeat;`,"background-size: contain;"].join(" ");console.log("%c ",s)}destroy(){this._renderer=null}};se.extension={type:[n.Ag.WebGLSystem,n.Ag.WebGPUSystem],name:"extract"},se.defaultImageOptions={format:"png",quality:1};let ae=se;var ie=r(9252),oe=r(7269),de=r(583);class ue extends W.g{static create(e){return new ue({source:new de.v(e)})}resize(e,t,r){return this.source.resize(e,t,r),this}}const le=new ie.M,ce=new p.c,he=[0,0,0,0];class pe{constructor(e){this._renderer=e}generateTexture(e){e instanceof m.mc&&(e={target:e,frame:void 0,textureSourceOptions:{},resolution:void 0});const t=e.resolution||this._renderer.resolution,r=e.antialias||this._renderer.view.antialias,n=e.target;let s=e.clearColor;s=s?Array.isArray(s)&&4===s.length?s:Q.Q.shared.setValue(s).toArray():he;const i=e.frame?.copyTo(le)||(0,oe.n)(n,ce).rectangle;i.width=0|Math.max(i.width,1/t),i.height=0|Math.max(i.height,1/t);const o=ue.create({...e.textureSourceOptions,width:i.width,height:i.height,resolution:t,antialias:r}),d=a.u.shared.translate(-i.x,-i.y);return this._renderer.render({container:n,transform:d,target:o,clearColor:s}),o.source.updateMipmaps(),o}destroy(){this._renderer=null}}pe.extension={type:[n.Ag.WebGLSystem,n.Ag.WebGPUSystem],name:"textureGenerator"};var fe=r(5101),me=r(2760),ge=r(3513);class ve{constructor(e){this._stackIndex=0,this._globalUniformDataStack=[],this._uniformsPool=[],this._activeUniforms=[],this._bindGroupPool=[],this._activeBindGroups=[],this._renderer=e}reset(){this._stackIndex=0;for(let e=0;e<this._activeUniforms.length;e++)this._uniformsPool.push(this._activeUniforms[e]);for(let e=0;e<this._activeBindGroups.length;e++)this._bindGroupPool.push(this._activeBindGroups[e]);this._activeUniforms.length=0,this._activeBindGroups.length=0}start(e){this.reset(),this.push(e)}bind({size:e,projectionMatrix:t,worldTransformMatrix:r,worldColor:n,offset:s}){const i=this._renderer.renderTarget.renderTarget,o=this._stackIndex?this._globalUniformDataStack[this._stackIndex-1]:{projectionData:i,worldTransformMatrix:new a.u,worldColor:4294967295,offset:new fe.b},d={projectionMatrix:t||this._renderer.renderTarget.projectionMatrix,resolution:e||i.size,worldTransformMatrix:r||o.worldTransformMatrix,worldColor:n||o.worldColor,offset:s||o.offset,bindGroup:null},u=this._uniformsPool.pop()||this._createUniforms();this._activeUniforms.push(u);const l=u.uniforms;let c;l.uProjectionMatrix=d.projectionMatrix,l.uResolution=d.resolution,l.uWorldTransformMatrix.copyFrom(d.worldTransformMatrix),l.uWorldTransformMatrix.tx-=d.offset.x,l.uWorldTransformMatrix.ty-=d.offset.y,(0,me.V)(d.worldColor,l.uWorldColorAlpha,0),u.update(),this._renderer.renderPipes.uniformBatch?c=this._renderer.renderPipes.uniformBatch.getUniformBindGroup(u,!1):(c=this._bindGroupPool.pop()||new ge.T,this._activeBindGroups.push(c),c.setResource(u,0)),d.bindGroup=c,this._currentGlobalUniformData=d}push(e){this.bind(e),this._globalUniformDataStack[this._stackIndex++]=this._currentGlobalUniformData}pop(){this._currentGlobalUniformData=this._globalUniformDataStack[--this._stackIndex-1],this._renderer.type===L.W.WEBGL&&this._currentGlobalUniformData.bindGroup.resources[0].update()}get bindGroup(){return this._currentGlobalUniformData.bindGroup}get globalUniformData(){return this._currentGlobalUniformData}get uniformGroup(){return this._currentGlobalUniformData.bindGroup.resources[0]}_createUniforms(){return new U.k({uProjectionMatrix:{value:new a.u,type:"mat3x3<f32>"},uWorldTransformMatrix:{value:new a.u,type:"mat3x3<f32>"},uWorldColorAlpha:{value:new Float32Array(4),type:"vec4<f32>"},uResolution:{value:[0,0],type:"vec2<f32>"}},{isStatic:!0})}destroy(){this._renderer=null,this._globalUniformDataStack.length=0,this._uniformsPool.length=0,this._activeUniforms.length=0,this._bindGroupPool.length=0,this._activeBindGroups.length=0,this._currentGlobalUniformData=null}}ve.extension={type:[n.Ag.WebGLSystem,n.Ag.WebGPUSystem,n.Ag.CanvasSystem],name:"globalUniforms"};var _e=r(7309);let xe=1;class be{constructor(){this._tasks=[],this._offset=0}init(){_e.R.system.add(this._update,this)}repeat(e,t,r=!0){const n=xe++;let s=0;return r&&(this._offset+=1e3,s=this._offset),this._tasks.push({func:e,duration:t,start:performance.now(),offset:s,last:performance.now(),repeat:!0,id:n}),n}cancel(e){for(let t=0;t<this._tasks.length;t++)if(this._tasks[t].id===e)return void this._tasks.splice(t,1)}_update(){const e=performance.now();for(let t=0;t<this._tasks.length;t++){const r=this._tasks[t];if(e-r.offset-r.last>=r.duration){const t=e-r.start;r.func(t),r.last=e}}}destroy(){_e.R.system.remove(this._update,this),this._tasks.length=0}}be.extension={type:[n.Ag.WebGLSystem,n.Ag.WebGPUSystem,n.Ag.CanvasSystem],name:"scheduler",priority:0};var Te=r(2571);let ye=!1;class ke{constructor(e){this._renderer=e}init(e){if(e.hello){let e=this._renderer.name;this._renderer.type===L.W.WEBGL&&(e+=` ${this._renderer.context.webGLVersion}`),function(e){if(!ye){if(re.e.get().getNavigator().userAgent.toLowerCase().indexOf("chrome")>-1){const t=[`%c  %c  %c  %c  %c PixiJS %c v${Te.xv} (${e}) http://www.pixijs.com/\n\n`,"background: #E72264; padding:5px 0;","background: #6CA2EA; padding:5px 0;","background: #B5D33D; padding:5px 0;","background: #FED23F; padding:5px 0;","color: #FFFFFF; background: #E72264; padding:5px 0;","color: #E72264; background: #FFFFFF; padding:5px 0;"];globalThis.console.log(...t)}else globalThis.console&&globalThis.console.log(`PixiJS ${Te.xv} - ${e} - http://www.pixijs.com/`);ye=!0}}(e)}}}function Me(e){let t=!1;for(const r in e)if(null==e[r]){t=!0;break}if(!t)return e;const r=Object.create(null);for(const t in e){const n=e[t];n&&(r[t]=n)}return r}function Ce(e){let t=0;for(let r=0;r<e.length;r++)null==e[r]?t++:e[r-t]=e[r];return e.length-=t,e}ke.extension={type:[n.Ag.WebGLSystem,n.Ag.WebGPUSystem,n.Ag.CanvasSystem],name:"hello",priority:-2},ke.defaultOptions={hello:!1};let Se=0;const we=class e{constructor(e){this._managedRenderables=[],this._managedHashes=[],this._managedArrays=[],this._renderer=e}init(t){t={...e.defaultOptions,...t},this.maxUnusedTime=t.renderableGCMaxUnusedTime,this._frequency=t.renderableGCFrequency,this.enabled=t.renderableGCActive}get enabled(){return!!this._handler}set enabled(e){this.enabled!==e&&(e?(this._handler=this._renderer.scheduler.repeat(()=>this.run(),this._frequency,!1),this._hashHandler=this._renderer.scheduler.repeat(()=>{for(const e of this._managedHashes)e.context[e.hash]=Me(e.context[e.hash])},this._frequency),this._arrayHandler=this._renderer.scheduler.repeat(()=>{for(const e of this._managedArrays)Ce(e.context[e.hash])},this._frequency)):(this._renderer.scheduler.cancel(this._handler),this._renderer.scheduler.cancel(this._hashHandler),this._renderer.scheduler.cancel(this._arrayHandler)))}addManagedHash(e,t){this._managedHashes.push({context:e,hash:t})}addManagedArray(e,t){this._managedArrays.push({context:e,hash:t})}prerender({container:e}){this._now=performance.now(),e.renderGroup.gcTick=Se++,this._updateInstructionGCTick(e.renderGroup,e.renderGroup.gcTick)}addRenderable(e){this.enabled&&(-1===e._lastUsed&&(this._managedRenderables.push(e),e.once("destroyed",this._removeRenderable,this)),e._lastUsed=this._now)}run(){const e=this._now,t=this._managedRenderables,r=this._renderer.renderPipes;let n=0;for(let s=0;s<t.length;s++){const a=t[s];if(null===a){n++;continue}const i=a.renderGroup??a.parentRenderGroup,o=i?.instructionSet?.gcTick??-1;if((i?.gcTick??0)===o&&(a._lastUsed=e),e-a._lastUsed>this.maxUnusedTime){if(!a.destroyed){const e=r;i&&(i.structureDidChange=!0),e[a.renderPipeId].destroyRenderable(a)}a._lastUsed=-1,n++,a.off("destroyed",this._removeRenderable,this)}else t[s-n]=a}t.length-=n}destroy(){this.enabled=!1,this._renderer=null,this._managedRenderables.length=0,this._managedHashes.length=0,this._managedArrays.length=0}_removeRenderable(e){const t=this._managedRenderables.indexOf(e);t>=0&&(e.off("destroyed",this._removeRenderable,this),this._managedRenderables[t]=null)}_updateInstructionGCTick(e,t){e.instructionSet.gcTick=t;for(const r of e.renderGroupChildren)this._updateInstructionGCTick(r,t)}};we.extension={type:[n.Ag.WebGLSystem,n.Ag.WebGPUSystem],name:"renderableGC",priority:0},we.defaultOptions={renderableGCActive:!0,renderableGCMaxUnusedTime:6e4,renderableGCFrequency:3e4};let Ge=we;const Pe=class e{constructor(e){this._renderer=e,this.count=0,this.checkCount=0}init(t){t={...e.defaultOptions,...t},this.checkCountMax=t.textureGCCheckCountMax,this.maxIdle=t.textureGCAMaxIdle??t.textureGCMaxIdle,this.active=t.textureGCActive}postrender(){this._renderer.renderingToScreen&&(this.count++,this.active&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const e=this._renderer.texture.managedTextures;for(let t=0;t<e.length;t++){const r=e[t];r.autoGarbageCollect&&r.resource&&r._touched>-1&&this.count-r._touched>this.maxIdle&&(r._touched=-1,r.unload())}}destroy(){this._renderer=null}};Pe.extension={type:[n.Ag.WebGLSystem,n.Ag.WebGPUSystem],name:"textureGC"},Pe.defaultOptions={textureGCActive:!0,textureGCAMaxIdle:null,textureGCMaxIdle:3600,textureGCCheckCountMax:600};let Ae=Pe;var Re=r(4670),Be=r(279),Ue=r(8725);const Ie=class e{get autoDensity(){return this.texture.source.autoDensity}set autoDensity(e){this.texture.source.autoDensity=e}get resolution(){return this.texture.source._resolution}set resolution(e){this.texture.source.resize(this.texture.source.width,this.texture.source.height,e)}init(t){(t={...e.defaultOptions,...t}).view&&((0,Re.t6)(Re.lj,"ViewSystem.view has been renamed to ViewSystem.canvas"),t.canvas=t.view),this.screen=new ie.M(0,0,t.width,t.height),this.canvas=t.canvas||re.e.get().createCanvas(),this.antialias=!!t.antialias,this.texture=(0,Ue.c)(this.canvas,t),this.renderTarget=new Be.O({colorTextures:[this.texture],depth:!!t.depth,isRoot:!0}),this.texture.source.transparent=t.backgroundAlpha<1,this.resolution=t.resolution}resize(e,t,r){this.texture.source.resize(e,t,r),this.screen.width=this.texture.frame.width,this.screen.height=this.texture.frame.height}destroy(e=!1){("boolean"==typeof e?e:!!e?.removeView)&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this.texture.destroy()}};Ie.extension={type:[n.Ag.WebGLSystem,n.Ag.WebGPUSystem,n.Ag.CanvasSystem],name:"view",priority:0},Ie.defaultOptions={width:800,height:600,autoDensity:!1,antialias:!1};const Oe=[X,ve,ke,Ie,k,Ae,pe,ae,C.d,Ge,be],Fe=[te,P,M,l,j,K,N,s]},2067:(e,t,r)=>{r.d(t,{Ls:()=>n,_Q:()=>s,mA:()=>a});const n={name:"local-uniform-bit",vertex:{header:"\n\n            struct LocalUniforms {\n                uTransformMatrix:mat3x3<f32>,\n                uColor:vec4<f32>,\n                uRound:f32,\n            }\n\n            @group(1) @binding(0) var<uniform> localUniforms : LocalUniforms;\n        ",main:"\n            vColor *= localUniforms.uColor;\n            modelMatrix *= localUniforms.uTransformMatrix;\n        ",end:"\n            if(localUniforms.uRound == 1)\n            {\n                vPosition = vec4(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);\n            }\n        "}},s={...n,vertex:{...n.vertex,header:n.vertex.header.replace("group(1)","group(2)")}},a={name:"local-uniform-bit",vertex:{header:"\n\n            uniform mat3 uTransformMatrix;\n            uniform vec4 uColor;\n            uniform float uRound;\n        ",main:"\n            vColor *= uColor;\n            modelMatrix = uTransformMatrix;\n        ",end:"\n            if(uRound == 1.)\n            {\n                gl_Position.xy = roundPixels(gl_Position.xy, uResolution);\n            }\n        "}}},2760:(e,t,r)=>{function n(e,t,r){const n=(e>>24&255)/255;t[r++]=(255&e)/255*n,t[r++]=(e>>8&255)/255*n,t[r++]=(e>>16&255)/255*n,t[r++]=n}r.d(t,{V:()=>n})},3391:(e,t,r)=>{r.d(t,{R:()=>n,m:()=>s});const n={name:"texture-bit",vertex:{header:"\n\n        struct TextureUniforms {\n            uTextureMatrix:mat3x3<f32>,\n        }\n\n        @group(2) @binding(2) var<uniform> textureUniforms : TextureUniforms;\n        ",main:"\n            uv = (textureUniforms.uTextureMatrix * vec3(uv, 1.0)).xy;\n        "},fragment:{header:"\n            @group(2) @binding(0) var uTexture: texture_2d<f32>;\n            @group(2) @binding(1) var uSampler: sampler;\n\n\n        ",main:"\n            outColor = textureSample(uTexture, uSampler, vUV);\n        "}},s={name:"texture-bit",vertex:{header:"\n            uniform mat3 uTextureMatrix;\n        ",main:"\n            uv = (uTextureMatrix * vec3(uv, 1.0)).xy;\n        "},fragment:{header:"\n        uniform sampler2D uTexture;\n\n\n        ",main:"\n            outColor = texture(uTexture, vUV);\n        "}}},6423:(e,t,r)=>{r.d(t,{E:()=>s});var n=r(8166);function s(e,t,r,s){const a=["\n        var v = null;\n        var v2 = null;\n        var t = 0;\n        var index = 0;\n        var name = null;\n        var arrayOffset = null;\n    "];let i=0;for(let o=0;o<e.length;o++){const d=e[o],u=d.data.name;let l=!1,c=0;for(let e=0;e<n.$.length;e++)if(n.$[e].test(d.data)){c=d.offset/4,a.push(`name = "${u}";`,`offset += ${c-i};`,n.$[e][t]||n.$[e].ubo),l=!0;break}if(!l)if(d.data.size>1)c=d.offset/4,a.push(r(d,c-i));else{const e=s[d.data.type];c=d.offset/4,a.push(`\n                    v = uv.${u};\n                    offset += ${c-i};\n                    ${e};\n                `)}i=c}const o=a.join("\n");return new Function("uv","data","dataInt32","offset",o)}},6554:(e,t,r)=>{r.d(t,{d:()=>d});var n=r(9113),s=r(3012),a=r(8475),i=r(7547);const o=class e extends a.M{constructor(t){super(t={...e.defaultOptions,...t}),this.enabled=!0,this._state=i.U.for2d(),this.blendMode=t.blendMode,this.padding=t.padding,"boolean"==typeof t.antialias?this.antialias=t.antialias?"on":"off":this.antialias=t.antialias,this.resolution=t.resolution,this.blendRequired=t.blendRequired,this.clipToViewport=t.clipToViewport,this.addResource("uTexture",0,1)}apply(e,t,r,n){e.applyFilter(this,t,r,n)}get blendMode(){return this._state.blendMode}set blendMode(e){this._state.blendMode=e}static from(t){const{gpu:r,gl:a,...i}=t;let o,d;return r&&(o=s.B.from(r)),a&&(d=n.M.from(a)),new e({gpuProgram:o,glProgram:d,...i})}};o.defaultOptions={blendMode:"normal",resolution:1,padding:0,antialias:"off",blendRequired:!1,clipToViewport:!0};let d=o},7047:(e,t,r)=>{r.d(t,{W:()=>i});var n=r(4577),s=r(949),a=r(1132);class i{constructor(e){this._syncFunctionHash=Object.create(null),this._adaptor=e,this._systemCheck()}_systemCheck(){if(!(0,n.f)())throw new Error("Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.")}ensureUniformGroup(e){const t=this.getUniformGroupData(e);e.buffer||(e.buffer=new s.h({data:new Float32Array(t.layout.size/4),usage:a.S.UNIFORM|a.S.COPY_DST}))}getUniformGroupData(e){return this._syncFunctionHash[e._signature]||this._initUniformGroup(e)}_initUniformGroup(e){const t=e._signature;let r=this._syncFunctionHash[t];if(!r){const n=Object.keys(e.uniformStructures).map(t=>e.uniformStructures[t]),s=this._adaptor.createUboElements(n),a=this._generateUboSync(s.uboElements);r=this._syncFunctionHash[t]={layout:s,syncFunction:a}}return this._syncFunctionHash[t]}_generateUboSync(e){return this._adaptor.generateUboSync(e)}syncUniformGroup(e,t,r){const n=this.getUniformGroupData(e);e.buffer||(e.buffer=new s.h({data:new Float32Array(n.layout.size/4),usage:a.S.UNIFORM|a.S.COPY_DST}));let i=null;return t||(t=e.buffer.data,i=e.buffer.dataInt32),r||(r=0),n.syncFunction(e.uniforms,t,i,r),!0}updateUniformGroup(e){if(e.isStatic&&!e._dirtyId)return!1;e._dirtyId=0;const t=this.syncUniformGroup(e);return e.buffer.update(),t}destroy(){this._syncFunctionHash=null}}},7084:(e,t,r)=>{r.d(t,{q:()=>a});var n=r(268),s=r(8306);function a(e,t){for(const r in e.attributes){const s=e.attributes[r],a=t[r];a?(s.format??(s.format=a.format),s.offset??(s.offset=a.offset),s.instance??(s.instance=a.instance)):(0,n.R)(`Attribute ${r} is not present in the shader, but is present in the geometry. Unable to infer attribute details.`)}!function(e){const{buffers:t,attributes:r}=e,n={},a={};for(const e in t){const r=t[e];n[r.uid]=0,a[r.uid]=0}for(const e in r){const t=r[e];n[t.buffer.uid]+=(0,s.m)(t.format).stride}for(const e in r){const t=r[e];t.stride??(t.stride=n[t.buffer.uid]),t.start??(t.start=a[t.buffer.uid]),a[t.buffer.uid]+=(0,s.m)(t.format).stride}}(e)}},7238:(e,t,r)=>{r.d(t,{l:()=>h});var n=r(9313),s=r(9252),a=r(1257),i=r(7729),o=r(4884),d=r(583),u=r(4492),l=r(8725),c=r(279);class h{constructor(e){this.rootViewPort=new s.M,this.viewport=new s.M,this.onRenderTargetChange=new i.C("onRenderTargetChange"),this.projectionMatrix=new n.u,this.defaultClearColor=[0,0,0,0],this._renderSurfaceToRenderTargetHash=new Map,this._gpuRenderTargetHash=Object.create(null),this._renderTargetStack=[],this._renderer=e,e.renderableGC.addManagedHash(this,"_gpuRenderTargetHash")}finishRenderPass(){this.adaptor.finishRenderPass(this.renderTarget)}renderStart({target:e,clear:t,clearColor:r,frame:n}){this._renderTargetStack.length=0,this.push(e,t,r,n),this.rootViewPort.copyFrom(this.viewport),this.rootRenderTarget=this.renderTarget,this.renderingToScreen=function(e){const t=e.colorTexture.source.resource;return globalThis.HTMLCanvasElement&&t instanceof HTMLCanvasElement&&document.body.contains(t)}(this.rootRenderTarget),this.adaptor.prerender?.(this.rootRenderTarget)}postrender(){this.adaptor.postrender?.(this.rootRenderTarget)}bind(e,t=!0,r,n){const s=this.getRenderTarget(e),a=this.renderTarget!==s;this.renderTarget=s,this.renderSurface=e;const i=this.getGpuRenderTarget(s);s.pixelWidth===i.width&&s.pixelHeight===i.height||(this.adaptor.resizeGpuRenderTarget(s),i.width=s.pixelWidth,i.height=s.pixelHeight);const o=s.colorTexture,d=this.viewport,l=o.pixelWidth,c=o.pixelHeight;if(!n&&e instanceof u.g&&(n=e.frame),n){const e=o._resolution;d.x=n.x*e+.5|0,d.y=n.y*e+.5|0,d.width=n.width*e+.5|0,d.height=n.height*e+.5|0}else d.x=0,d.y=0,d.width=l,d.height=c;return function(e,t,r,n,s,a){const i=a?1:-1;e.identity(),e.a=1/n*2,e.d=i*(1/s*2),e.tx=-1-0*e.a,e.ty=-i-0*e.d}(this.projectionMatrix,0,0,d.width/o.resolution,d.height/o.resolution,!s.isRoot),this.adaptor.startRenderPass(s,t,r,d),a&&this.onRenderTargetChange.emit(s),s}clear(e,t=a.u.ALL,r){t&&(e&&(e=this.getRenderTarget(e)),this.adaptor.clear(e||this.renderTarget,t,r,this.viewport))}contextChange(){this._gpuRenderTargetHash=Object.create(null)}push(e,t=a.u.ALL,r,n){const s=this.bind(e,t,r,n);return this._renderTargetStack.push({renderTarget:s,frame:n}),s}pop(){this._renderTargetStack.pop();const e=this._renderTargetStack[this._renderTargetStack.length-1];this.bind(e.renderTarget,!1,null,e.frame)}getRenderTarget(e){return e.isTexture&&(e=e.source),this._renderSurfaceToRenderTargetHash.get(e)??this._initRenderTarget(e)}copyToTexture(e,t,r,n,s){r.x<0&&(n.width+=r.x,s.x-=r.x,r.x=0),r.y<0&&(n.height+=r.y,s.y-=r.y,r.y=0);const{pixelWidth:a,pixelHeight:i}=e;return n.width=Math.min(n.width,a-r.x),n.height=Math.min(n.height,i-r.y),this.adaptor.copyToTexture(e,t,r,n,s)}ensureDepthStencil(){this.renderTarget.stencil||(this.renderTarget.stencil=!0,this.adaptor.startRenderPass(this.renderTarget,!1,null,this.viewport))}destroy(){this._renderer=null,this._renderSurfaceToRenderTargetHash.forEach((e,t)=>{e!==t&&e.destroy()}),this._renderSurfaceToRenderTargetHash.clear(),this._gpuRenderTargetHash=Object.create(null)}_initRenderTarget(e){let t=null;return o.q.test(e)&&(e=(0,l.c)(e).source),e instanceof c.O?t=e:e instanceof d.v&&(t=new c.O({colorTextures:[e]}),e.source instanceof o.q&&(t.isRoot=!0),e.once("destroy",()=>{t.destroy(),this._renderSurfaceToRenderTargetHash.delete(e);const r=this._gpuRenderTargetHash[t.uid];r&&(this._gpuRenderTargetHash[t.uid]=null,this.adaptor.destroyGpuRenderTarget(r))})),this._renderSurfaceToRenderTargetHash.set(e,t),t}getGpuRenderTarget(e){return this._gpuRenderTargetHash[e.uid]||(this._gpuRenderTargetHash[e.uid]=this.adaptor.initGpuRenderTarget(e))}resetState(){this.renderTarget=null,this.renderSurface=null}}},7547:(e,t,r)=>{r.d(t,{U:()=>a});const n={normal:0,add:1,multiply:2,screen:3,overlay:4,erase:5,"normal-npm":6,"add-npm":7,"screen-npm":8,min:9,max:10},s=class e{constructor(){this.data=0,this.blendMode="normal",this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(1&this.data)}set blend(e){!!(1&this.data)!==e&&(this.data^=1)}get offsets(){return!!(2&this.data)}set offsets(e){!!(2&this.data)!==e&&(this.data^=2)}set cullMode(e){"none"!==e?(this.culling=!0,this.clockwiseFrontFace="front"===e):this.culling=!1}get cullMode(){return this.culling?this.clockwiseFrontFace?"front":"back":"none"}get culling(){return!!(4&this.data)}set culling(e){!!(4&this.data)!==e&&(this.data^=4)}get depthTest(){return!!(8&this.data)}set depthTest(e){!!(8&this.data)!==e&&(this.data^=8)}get depthMask(){return!!(32&this.data)}set depthMask(e){!!(32&this.data)!==e&&(this.data^=32)}get clockwiseFrontFace(){return!!(16&this.data)}set clockwiseFrontFace(e){!!(16&this.data)!==e&&(this.data^=16)}get blendMode(){return this._blendMode}set blendMode(e){this.blend="none"!==e,this._blendMode=e,this._blendModeId=n[e]||0}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}toString(){return`[pixi.js/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`}static for2d(){const t=new e;return t.depthTest=!1,t.blend=!0,t}};s.default2d=s.for2d();let a=s},8166:(e,t,r)=>{r.d(t,{$:()=>n});const n=[{type:"mat3x3<f32>",test:e=>void 0!==e.value.a,ubo:"\n            var matrix = uv[name].toArray(true);\n            data[offset] = matrix[0];\n            data[offset + 1] = matrix[1];\n            data[offset + 2] = matrix[2];\n            data[offset + 4] = matrix[3];\n            data[offset + 5] = matrix[4];\n            data[offset + 6] = matrix[5];\n            data[offset + 8] = matrix[6];\n            data[offset + 9] = matrix[7];\n            data[offset + 10] = matrix[8];\n        ",uniform:"\n            gl.uniformMatrix3fv(ud[name].location, false, uv[name].toArray(true));\n        "},{type:"vec4<f32>",test:e=>"vec4<f32>"===e.type&&1===e.size&&void 0!==e.value.width,ubo:"\n            v = uv[name];\n            data[offset] = v.x;\n            data[offset + 1] = v.y;\n            data[offset + 2] = v.width;\n            data[offset + 3] = v.height;\n        ",uniform:"\n            cv = ud[name].value;\n            v = uv[name];\n            if (cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height) {\n                cv[0] = v.x;\n                cv[1] = v.y;\n                cv[2] = v.width;\n                cv[3] = v.height;\n                gl.uniform4f(ud[name].location, v.x, v.y, v.width, v.height);\n            }\n        "},{type:"vec2<f32>",test:e=>"vec2<f32>"===e.type&&1===e.size&&void 0!==e.value.x,ubo:"\n            v = uv[name];\n            data[offset] = v.x;\n            data[offset + 1] = v.y;\n        ",uniform:"\n            cv = ud[name].value;\n            v = uv[name];\n            if (cv[0] !== v.x || cv[1] !== v.y) {\n                cv[0] = v.x;\n                cv[1] = v.y;\n                gl.uniform2f(ud[name].location, v.x, v.y);\n            }\n        "},{type:"vec4<f32>",test:e=>"vec4<f32>"===e.type&&1===e.size&&void 0!==e.value.red,ubo:"\n            v = uv[name];\n            data[offset] = v.red;\n            data[offset + 1] = v.green;\n            data[offset + 2] = v.blue;\n            data[offset + 3] = v.alpha;\n        ",uniform:"\n            cv = ud[name].value;\n            v = uv[name];\n            if (cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha) {\n                cv[0] = v.red;\n                cv[1] = v.green;\n                cv[2] = v.blue;\n                cv[3] = v.alpha;\n                gl.uniform4f(ud[name].location, v.red, v.green, v.blue, v.alpha);\n            }\n        "},{type:"vec3<f32>",test:e=>"vec3<f32>"===e.type&&1===e.size&&void 0!==e.value.red,ubo:"\n            v = uv[name];\n            data[offset] = v.red;\n            data[offset + 1] = v.green;\n            data[offset + 2] = v.blue;\n        ",uniform:"\n            cv = ud[name].value;\n            v = uv[name];\n            if (cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue) {\n                cv[0] = v.red;\n                cv[1] = v.green;\n                cv[2] = v.blue;\n                gl.uniform3f(ud[name].location, v.red, v.green, v.blue);\n            }\n        "}]},8422:(e,t,r)=>{r.d(t,{K:()=>n});class n{constructor(){this.batcherName="default",this.topology="triangle-list",this.attributeSize=4,this.indexSize=6,this.packAsQuad=!0,this.roundPixels=0,this._attributeStart=0,this._batcher=null,this._batch=null}get blendMode(){return this.renderable.groupBlendMode}get color(){return this.renderable.groupColorAlpha}reset(){this.renderable=null,this.texture=null,this._batcher=null,this._batch=null,this.bounds=null}destroy(){}}},8725:(e,t,r)=>{r.d(t,{c:()=>o});var n=r(6083),s=r(4884),a=r(4492);const i=new Map;function o(e,t){if(!i.has(e)){const r=new a.g({source:new s.q({resource:e,...t})}),n=()=>{i.get(e)===r&&i.delete(e)};r.once("destroy",n),r.source.once("destroy",n),i.set(e,r)}return i.get(e)}n.L.register(i)}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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S2dSLGNBQWdCLEVBQ3JCaFIsS0FBSzZRLFVBQVksRUFDakI3USxLQUFLNnRCLFlBQWEsRUFDbEI3dEIsS0FBS2lQLFlBQWMsRUFDbkJqUCxLQUFLOHRCLGdCQUFrQixFQUV2Qjl0QixLQUFLd0ksU0FBVyxLQUNoQnhJLEtBQUsrdEIsT0FBUyxJQUNoQixDQUNBLGFBQUl4bUIsR0FDRixPQUFPdkgsS0FBS2lILFdBQVdRLGNBQ3pCLENBQ0EsU0FBSWlRLEdBQ0YsT0FBTzFYLEtBQUtpSCxXQUFXc0UsZUFDekIsQ0FDQSxLQUFBb0MsR0FDRTNOLEtBQUtpSCxXQUFhLEtBQ2xCakgsS0FBS2tCLFFBQVUsS0FDZmxCLEtBQUt3SSxTQUFXLEtBQ2hCeEksS0FBSyt0QixPQUFTLEtBQ2QvdEIsS0FBS3FILE9BQVMsSUFDaEIsQ0FDQSxPQUFBakYsR0FDQSxFLG9FQ3hCRixNQUFNNHJCLEVBQThCLElBQUloRSxJQUV4QyxTQUFTckYsRUFBaUJuSyxFQUFROUksR0FDaEMsSUFBS3NjLEVBQVlwWCxJQUFJNEQsR0FBUyxDQUM1QixNQUFNdFosRUFBVSxJQUFJLElBQVEsQ0FDMUJDLE9BQVEsSUFBSSxJQUFhLENBQ3ZCZ2pCLFNBQVUzSixLQUNQOUksTUFHRHVjLEVBQVksS0FDWkQsRUFBWWpuQixJQUFJeVQsS0FBWXRaLEdBQzlCOHNCLEVBQVk5QixPQUFPMVIsSUFHdkJ0WixFQUFRNmhCLEtBQUssVUFBV2tMLEdBQ3hCL3NCLEVBQVFDLE9BQU80aEIsS0FBSyxVQUFXa0wsR0FDL0JELEVBQVluWCxJQUFJMkQsRUFBUXRaLEVBQzFCLENBQ0EsT0FBTzhzQixFQUFZam5CLElBQUl5VCxFQUN6QixDQW5CQSxJQUF1QjBULFNBQVNGLEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nYW1lcy1jbGllbnQtZGV2Ly4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3JlbmRlclRhcmdldC9SZW5kZXJUYXJnZXQubWpzIiwid2VicGFjazovL2dhbWVzLWNsaWVudC1kZXYvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvYnVmZmVyL0J1ZmZlclJlc291cmNlLm1qcyIsIndlYnBhY2s6Ly9nYW1lcy1jbGllbnQtZGV2Ly4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9yZW5kZXJlcnMvZ3B1L3N0YXRlL0dwdVN0ZW5jaWxNb2Rlc1RvUGl4aS5tanMiLCJ3ZWJwYWNrOi8vZ2FtZXMtY2xpZW50LWRldi8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC9zaGFkZXIvdXRpbHMvdWJvU3luY0Z1bmN0aW9ucy5tanMiLCJ3ZWJwYWNrOi8vZ2FtZXMtY2xpZW50LWRldi8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS9jb250YWluZXIvQ3VzdG9tUmVuZGVyUGlwZS5tanMiLCJ3ZWJwYWNrOi8vZ2FtZXMtY2xpZW50LWRldi8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS9jb250YWluZXIvdXRpbHMvZXhlY3V0ZUluc3RydWN0aW9ucy5tanMiLCJ3ZWJwYWNrOi8vZ2FtZXMtY2xpZW50LWRldi8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS9jb250YWluZXIvUmVuZGVyR3JvdXBQaXBlLm1qcyIsIndlYnBhY2s6Ly9nYW1lcy1jbGllbnQtZGV2Ly4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3NjZW5lL2NvbnRhaW5lci91dGlscy9jbGVhckxpc3QubWpzIiwid2VicGFjazovL2dhbWVzLWNsaWVudC1kZXYvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvY29udGFpbmVyL3V0aWxzL3VwZGF0ZVJlbmRlckdyb3VwVHJhbnNmb3Jtcy5tanMiLCJ3ZWJwYWNrOi8vZ2FtZXMtY2xpZW50LWRldi8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS9jb250YWluZXIvUmVuZGVyR3JvdXBTeXN0ZW0ubWpzIiwid2VicGFjazovL2dhbWVzLWNsaWVudC1kZXYvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvY29udGFpbmVyL3V0aWxzL3ZhbGlkYXRlUmVuZGVyYWJsZXMubWpzIiwid2VicGFjazovL2dhbWVzLWNsaWVudC1kZXYvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvc2NlbmUvc3ByaXRlL1Nwcml0ZVBpcGUubWpzIiwid2VicGFjazovL2dhbWVzLWNsaWVudC1kZXYvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL2JhdGNoZXIvc2hhcmVkL0JhdGNoZXJQaXBlLm1qcyIsIndlYnBhY2s6Ly9nYW1lcy1jbGllbnQtZGV2Ly4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL2ZpbHRlcnMvbWFzay9tYXNrLndnc2wubWpzIiwid2VicGFjazovL2dhbWVzLWNsaWVudC1kZXYvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZmlsdGVycy9tYXNrL01hc2tGaWx0ZXIubWpzIiwid2VicGFjazovL2dhbWVzLWNsaWVudC1kZXYvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvZmlsdGVycy9tYXNrL21hc2sudmVydC5tanMiLCJ3ZWJwYWNrOi8vZ2FtZXMtY2xpZW50LWRldi8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9maWx0ZXJzL21hc2svbWFzay5mcmFnLm1qcyIsIndlYnBhY2s6Ly9nYW1lcy1jbGllbnQtZGV2Ly4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9tYXNrL2FscGhhL0FscGhhTWFza1BpcGUubWpzIiwid2VicGFjazovL2dhbWVzLWNsaWVudC1kZXYvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL21hc2svY29sb3IvQ29sb3JNYXNrUGlwZS5tanMiLCJ3ZWJwYWNrOi8vZ2FtZXMtY2xpZW50LWRldi8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9yZW5kZXJpbmcvbWFzay9zdGVuY2lsL1N0ZW5jaWxNYXNrUGlwZS5tanMiLCJ3ZWJwYWNrOi8vZ2FtZXMtY2xpZW50LWRldi8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC9iYWNrZ3JvdW5kL0JhY2tncm91bmRTeXN0ZW0ubWpzIiwid2VicGFjazovL2dhbWVzLWNsaWVudC1kZXYvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvYmxlbmRNb2Rlcy9CbGVuZE1vZGVQaXBlLm1qcyIsIndlYnBhY2s6Ly9nYW1lcy1jbGllbnQtZGV2Ly4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL2V4dHJhY3QvRXh0cmFjdFN5c3RlbS5tanMiLCJ3ZWJwYWNrOi8vZ2FtZXMtY2xpZW50LWRldi8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC90ZXh0dXJlL1JlbmRlclRleHR1cmUubWpzIiwid2VicGFjazovL2dhbWVzLWNsaWVudC1kZXYvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvZXh0cmFjdC9HZW5lcmF0ZVRleHR1cmVTeXN0ZW0ubWpzIiwid2VicGFjazovL2dhbWVzLWNsaWVudC1kZXYvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvcmVuZGVyVGFyZ2V0L0dsb2JhbFVuaWZvcm1TeXN0ZW0ubWpzIiwid2VicGFjazovL2dhbWVzLWNsaWVudC1kZXYvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvU2NoZWR1bGVyU3lzdGVtLm1qcyIsIndlYnBhY2s6Ly9nYW1lcy1jbGllbnQtZGV2Ly4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3V0aWxzL3NheUhlbGxvLm1qcyIsIndlYnBhY2s6Ly9nYW1lcy1jbGllbnQtZGV2Ly4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3N0YXJ0dXAvSGVsbG9TeXN0ZW0ubWpzIiwid2VicGFjazovL2dhbWVzLWNsaWVudC1kZXYvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvdXRpbHMvZGF0YS9jbGVhbi5tanMiLCJ3ZWJwYWNrOi8vZ2FtZXMtY2xpZW50LWRldi8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC90ZXh0dXJlL1JlbmRlcmFibGVHQ1N5c3RlbS5tanMiLCJ3ZWJwYWNrOi8vZ2FtZXMtY2xpZW50LWRldi8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC90ZXh0dXJlL1RleHR1cmVHQ1N5c3RlbS5tanMiLCJ3ZWJwYWNrOi8vZ2FtZXMtY2xpZW50LWRldi8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC92aWV3L1ZpZXdTeXN0ZW0ubWpzIiwid2VicGFjazovL2dhbWVzLWNsaWVudC1kZXYvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvc3lzdGVtL1NoYXJlZFN5c3RlbXMubWpzIiwid2VicGFjazovL2dhbWVzLWNsaWVudC1kZXYvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL2hpZ2gtc2hhZGVyL3NoYWRlci1iaXRzL2xvY2FsVW5pZm9ybUJpdC5tanMiLCJ3ZWJwYWNrOi8vZ2FtZXMtY2xpZW50LWRldi8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS9ncmFwaGljcy9ncHUvY29sb3JUb1VuaWZvcm0ubWpzIiwid2VicGFjazovL2dhbWVzLWNsaWVudC1kZXYvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL2hpZ2gtc2hhZGVyL3NoYWRlci1iaXRzL3RleHR1cmVCaXQubWpzIiwid2VicGFjazovL2dhbWVzLWNsaWVudC1kZXYvLi9ub2RlX21vZHVsZXMvcGl4aS5qcy9saWIvcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvc2hhZGVyL3V0aWxzL2NyZWF0ZVVib1N5bmNGdW5jdGlvbi5tanMiLCJ3ZWJwYWNrOi8vZ2FtZXMtY2xpZW50LWRldi8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9maWx0ZXJzL0ZpbHRlci5tanMiLCJ3ZWJwYWNrOi8vZ2FtZXMtY2xpZW50LWRldi8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC9zaGFkZXIvVWJvU3lzdGVtLm1qcyIsIndlYnBhY2s6Ly9nYW1lcy1jbGllbnQtZGV2Ly4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9yZW5kZXJlcnMvZ2wvc2hhZGVyL3Byb2dyYW0vZW5zdXJlQXR0cmlidXRlcy5tanMiLCJ3ZWJwYWNrOi8vZ2FtZXMtY2xpZW50LWRldi8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC9yZW5kZXJUYXJnZXQvUmVuZGVyVGFyZ2V0U3lzdGVtLm1qcyIsIndlYnBhY2s6Ly9nYW1lcy1jbGllbnQtZGV2Ly4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3JlbmRlclRhcmdldC9pc1JlbmRlcmluZ1RvU2NyZWVuLm1qcyIsIndlYnBhY2s6Ly9nYW1lcy1jbGllbnQtZGV2Ly4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9yZW5kZXJlcnMvZ3B1L3JlbmRlclRhcmdldC9jYWxjdWxhdGVQcm9qZWN0aW9uLm1qcyIsIndlYnBhY2s6Ly9nYW1lcy1jbGllbnQtZGV2Ly4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3N0YXRlL1N0YXRlLm1qcyIsIndlYnBhY2s6Ly9nYW1lcy1jbGllbnQtZGV2Ly4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3NoYWRlci91dGlscy91bmlmb3JtUGFyc2Vycy5tanMiLCJ3ZWJwYWNrOi8vZ2FtZXMtY2xpZW50LWRldi8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9zY2VuZS9zcHJpdGUvQmF0Y2hhYmxlU3ByaXRlLm1qcyIsIndlYnBhY2s6Ly9nYW1lcy1jbGllbnQtZGV2Ly4vbm9kZV9tb2R1bGVzL3BpeGkuanMvbGliL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3RleHR1cmUvdXRpbHMvZ2V0Q2FudmFzVGV4dHVyZS5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdWlkIH0gZnJvbSAnLi4vLi4vLi4vLi4vdXRpbHMvZGF0YS91aWQubWpzJztcbmltcG9ydCB7IFRleHR1cmVTb3VyY2UgfSBmcm9tICcuLi90ZXh0dXJlL3NvdXJjZXMvVGV4dHVyZVNvdXJjZS5tanMnO1xuaW1wb3J0IHsgVGV4dHVyZSB9IGZyb20gJy4uL3RleHR1cmUvVGV4dHVyZS5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNvbnN0IF9SZW5kZXJUYXJnZXQgPSBjbGFzcyBfUmVuZGVyVGFyZ2V0IHtcbiAgLyoqXG4gICAqIEBwYXJhbSBbZGVzY3JpcHRvcl0gLSBPcHRpb25zIGZvciBjcmVhdGluZyBhIHJlbmRlciB0YXJnZXQuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihkZXNjcmlwdG9yID0ge30pIHtcbiAgICAvKiogdW5pcXVlIGlkIGZvciB0aGlzIHJlbmRlciB0YXJnZXQgKi9cbiAgICB0aGlzLnVpZCA9IHVpZChcInJlbmRlclRhcmdldFwiKTtcbiAgICAvKipcbiAgICAgKiBBbiBhcnJheSBvZiB0ZXh0dXJlcyB0aGF0IGNhbiBiZSB3cml0dGVuIHRvIGJ5IHRoZSBHUFUgLSBtb3N0bHkgdGhpcyBoYXMgb25lIHRleHR1cmUgaW4gUGl4aSwgYnV0IHlvdSBjb3VsZFxuICAgICAqIHdyaXRlIHRvIG11bHRpcGxlIGlmIHJlcXVpcmVkISAoZWcgZGVmZXJyZWQgbGlnaHRpbmcpXG4gICAgICovXG4gICAgdGhpcy5jb2xvclRleHR1cmVzID0gW107XG4gICAgdGhpcy5kaXJ0eUlkID0gMDtcbiAgICB0aGlzLmlzUm9vdCA9IGZhbHNlO1xuICAgIHRoaXMuX3NpemUgPSBuZXcgRmxvYXQzMkFycmF5KDIpO1xuICAgIC8qKiBpZiB0cnVlLCB0aGVuIHdoZW4gdGhlIHJlbmRlciB0YXJnZXQgaXMgZGVzdHJveWVkLCBpdCB3aWxsIGRlc3Ryb3kgYWxsIHRoZSB0ZXh0dXJlcyB0aGF0IHdlcmUgY3JlYXRlZCBmb3IgaXQuICovXG4gICAgdGhpcy5fbWFuYWdlZENvbG9yVGV4dHVyZXMgPSBmYWxzZTtcbiAgICBkZXNjcmlwdG9yID0geyAuLi5fUmVuZGVyVGFyZ2V0LmRlZmF1bHRPcHRpb25zLCAuLi5kZXNjcmlwdG9yIH07XG4gICAgdGhpcy5zdGVuY2lsID0gZGVzY3JpcHRvci5zdGVuY2lsO1xuICAgIHRoaXMuZGVwdGggPSBkZXNjcmlwdG9yLmRlcHRoO1xuICAgIHRoaXMuaXNSb290ID0gZGVzY3JpcHRvci5pc1Jvb3Q7XG4gICAgaWYgKHR5cGVvZiBkZXNjcmlwdG9yLmNvbG9yVGV4dHVyZXMgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgIHRoaXMuX21hbmFnZWRDb2xvclRleHR1cmVzID0gdHJ1ZTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGVzY3JpcHRvci5jb2xvclRleHR1cmVzOyBpKyspIHtcbiAgICAgICAgdGhpcy5jb2xvclRleHR1cmVzLnB1c2goXG4gICAgICAgICAgbmV3IFRleHR1cmVTb3VyY2Uoe1xuICAgICAgICAgICAgd2lkdGg6IGRlc2NyaXB0b3Iud2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IGRlc2NyaXB0b3IuaGVpZ2h0LFxuICAgICAgICAgICAgcmVzb2x1dGlvbjogZGVzY3JpcHRvci5yZXNvbHV0aW9uLFxuICAgICAgICAgICAgYW50aWFsaWFzOiBkZXNjcmlwdG9yLmFudGlhbGlhc1xuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY29sb3JUZXh0dXJlcyA9IFsuLi5kZXNjcmlwdG9yLmNvbG9yVGV4dHVyZXMubWFwKCh0ZXh0dXJlKSA9PiB0ZXh0dXJlLnNvdXJjZSldO1xuICAgICAgY29uc3QgY29sb3JTb3VyY2UgPSB0aGlzLmNvbG9yVGV4dHVyZS5zb3VyY2U7XG4gICAgICB0aGlzLnJlc2l6ZShjb2xvclNvdXJjZS53aWR0aCwgY29sb3JTb3VyY2UuaGVpZ2h0LCBjb2xvclNvdXJjZS5fcmVzb2x1dGlvbik7XG4gICAgfVxuICAgIHRoaXMuY29sb3JUZXh0dXJlLnNvdXJjZS5vbihcInJlc2l6ZVwiLCB0aGlzLm9uU291cmNlUmVzaXplLCB0aGlzKTtcbiAgICBpZiAoZGVzY3JpcHRvci5kZXB0aFN0ZW5jaWxUZXh0dXJlIHx8IHRoaXMuc3RlbmNpbCkge1xuICAgICAgaWYgKGRlc2NyaXB0b3IuZGVwdGhTdGVuY2lsVGV4dHVyZSBpbnN0YW5jZW9mIFRleHR1cmUgfHwgZGVzY3JpcHRvci5kZXB0aFN0ZW5jaWxUZXh0dXJlIGluc3RhbmNlb2YgVGV4dHVyZVNvdXJjZSkge1xuICAgICAgICB0aGlzLmRlcHRoU3RlbmNpbFRleHR1cmUgPSBkZXNjcmlwdG9yLmRlcHRoU3RlbmNpbFRleHR1cmUuc291cmNlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5lbnN1cmVEZXB0aFN0ZW5jaWxUZXh0dXJlKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGdldCBzaXplKCkge1xuICAgIGNvbnN0IF9zaXplID0gdGhpcy5fc2l6ZTtcbiAgICBfc2l6ZVswXSA9IHRoaXMucGl4ZWxXaWR0aDtcbiAgICBfc2l6ZVsxXSA9IHRoaXMucGl4ZWxIZWlnaHQ7XG4gICAgcmV0dXJuIF9zaXplO1xuICB9XG4gIGdldCB3aWR0aCgpIHtcbiAgICByZXR1cm4gdGhpcy5jb2xvclRleHR1cmUuc291cmNlLndpZHRoO1xuICB9XG4gIGdldCBoZWlnaHQoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29sb3JUZXh0dXJlLnNvdXJjZS5oZWlnaHQ7XG4gIH1cbiAgZ2V0IHBpeGVsV2lkdGgoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29sb3JUZXh0dXJlLnNvdXJjZS5waXhlbFdpZHRoO1xuICB9XG4gIGdldCBwaXhlbEhlaWdodCgpIHtcbiAgICByZXR1cm4gdGhpcy5jb2xvclRleHR1cmUuc291cmNlLnBpeGVsSGVpZ2h0O1xuICB9XG4gIGdldCByZXNvbHV0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmNvbG9yVGV4dHVyZS5zb3VyY2UuX3Jlc29sdXRpb247XG4gIH1cbiAgZ2V0IGNvbG9yVGV4dHVyZSgpIHtcbiAgICByZXR1cm4gdGhpcy5jb2xvclRleHR1cmVzWzBdO1xuICB9XG4gIG9uU291cmNlUmVzaXplKHNvdXJjZSkge1xuICAgIHRoaXMucmVzaXplKHNvdXJjZS53aWR0aCwgc291cmNlLmhlaWdodCwgc291cmNlLl9yZXNvbHV0aW9uLCB0cnVlKTtcbiAgfVxuICAvKipcbiAgICogVGhpcyB3aWxsIGVuc3VyZSBhIGRlcHRoU3RlbmNpbCB0ZXh0dXJlIGlzIGNyZWF0ZWQgZm9yIHRoaXMgcmVuZGVyIHRhcmdldC5cbiAgICogTW9zdCBsaWtlbHkgY2FsbGVkIGJ5IHRoZSBtYXNrIHN5c3RlbSB0byBtYWtlIHN1cmUgd2UgaGF2ZSBzdGVuY2lsIGJ1ZmZlciBhZGRlZC5cbiAgICogQGludGVybmFsXG4gICAqL1xuICBlbnN1cmVEZXB0aFN0ZW5jaWxUZXh0dXJlKCkge1xuICAgIGlmICghdGhpcy5kZXB0aFN0ZW5jaWxUZXh0dXJlKSB7XG4gICAgICB0aGlzLmRlcHRoU3RlbmNpbFRleHR1cmUgPSBuZXcgVGV4dHVyZVNvdXJjZSh7XG4gICAgICAgIHdpZHRoOiB0aGlzLndpZHRoLFxuICAgICAgICBoZWlnaHQ6IHRoaXMuaGVpZ2h0LFxuICAgICAgICByZXNvbHV0aW9uOiB0aGlzLnJlc29sdXRpb24sXG4gICAgICAgIGZvcm1hdDogXCJkZXB0aDI0cGx1cy1zdGVuY2lsOFwiLFxuICAgICAgICBhdXRvR2VuZXJhdGVNaXBtYXBzOiBmYWxzZSxcbiAgICAgICAgYW50aWFsaWFzOiBmYWxzZSxcbiAgICAgICAgbWlwTGV2ZWxDb3VudDogMVxuICAgICAgICAvLyBzYW1wbGVDb3VudDogaGFuZGxlZCBieSB0aGUgcmVuZGVyIHRhcmdldCBzeXN0ZW0uLlxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIHJlc2l6ZSh3aWR0aCwgaGVpZ2h0LCByZXNvbHV0aW9uID0gdGhpcy5yZXNvbHV0aW9uLCBza2lwQ29sb3JUZXh0dXJlID0gZmFsc2UpIHtcbiAgICB0aGlzLmRpcnR5SWQrKztcbiAgICB0aGlzLmNvbG9yVGV4dHVyZXMuZm9yRWFjaCgoY29sb3JUZXh0dXJlLCBpKSA9PiB7XG4gICAgICBpZiAoc2tpcENvbG9yVGV4dHVyZSAmJiBpID09PSAwKVxuICAgICAgICByZXR1cm47XG4gICAgICBjb2xvclRleHR1cmUuc291cmNlLnJlc2l6ZSh3aWR0aCwgaGVpZ2h0LCByZXNvbHV0aW9uKTtcbiAgICB9KTtcbiAgICBpZiAodGhpcy5kZXB0aFN0ZW5jaWxUZXh0dXJlKSB7XG4gICAgICB0aGlzLmRlcHRoU3RlbmNpbFRleHR1cmUuc291cmNlLnJlc2l6ZSh3aWR0aCwgaGVpZ2h0LCByZXNvbHV0aW9uKTtcbiAgICB9XG4gIH1cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLmNvbG9yVGV4dHVyZS5zb3VyY2Uub2ZmKFwicmVzaXplXCIsIHRoaXMub25Tb3VyY2VSZXNpemUsIHRoaXMpO1xuICAgIGlmICh0aGlzLl9tYW5hZ2VkQ29sb3JUZXh0dXJlcykge1xuICAgICAgdGhpcy5jb2xvclRleHR1cmVzLmZvckVhY2goKHRleHR1cmUpID0+IHtcbiAgICAgICAgdGV4dHVyZS5kZXN0cm95KCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKHRoaXMuZGVwdGhTdGVuY2lsVGV4dHVyZSkge1xuICAgICAgdGhpcy5kZXB0aFN0ZW5jaWxUZXh0dXJlLmRlc3Ryb3koKTtcbiAgICAgIGRlbGV0ZSB0aGlzLmRlcHRoU3RlbmNpbFRleHR1cmU7XG4gICAgfVxuICB9XG59O1xuLyoqIFRoZSBkZWZhdWx0IG9wdGlvbnMgZm9yIGEgcmVuZGVyIHRhcmdldCAqL1xuX1JlbmRlclRhcmdldC5kZWZhdWx0T3B0aW9ucyA9IHtcbiAgLyoqIHRoZSB3aWR0aCBvZiB0aGUgUmVuZGVyVGFyZ2V0ICovXG4gIHdpZHRoOiAwLFxuICAvKiogdGhlIGhlaWdodCBvZiB0aGUgUmVuZGVyVGFyZ2V0ICovXG4gIGhlaWdodDogMCxcbiAgLyoqIHRoZSByZXNvbHV0aW9uIG9mIHRoZSBSZW5kZXJUYXJnZXQgKi9cbiAgcmVzb2x1dGlvbjogMSxcbiAgLyoqIGFuIGFycmF5IG9mIHRleHR1cmVzLCBvciBhIG51bWJlciBpbmRpY2F0aW5nIGhvdyBtYW55IGNvbG9yIHRleHR1cmVzIHRoZXJlIHNob3VsZCBiZSAqL1xuICBjb2xvclRleHR1cmVzOiAxLFxuICAvKiogc2hvdWxkIHRoaXMgcmVuZGVyIHRhcmdldCBoYXZlIGEgc3RlbmNpbCBidWZmZXI/ICovXG4gIHN0ZW5jaWw6IGZhbHNlLFxuICAvKiogc2hvdWxkIHRoaXMgcmVuZGVyIHRhcmdldCBoYXZlIGEgZGVwdGggYnVmZmVyPyAqL1xuICBkZXB0aDogZmFsc2UsXG4gIC8qKiBzaG91bGQgdGhpcyByZW5kZXIgdGFyZ2V0IGJlIGFudGlhbGlhc2VkPyAqL1xuICBhbnRpYWxpYXM6IGZhbHNlLFxuICAvLyBzYXZlIG9uIHBlcmYgYnkgZGVmYXVsdCFcbiAgLyoqIGlzIHRoaXMgYSByb290IGVsZW1lbnQsIHRydWUgaWYgdGhpcyBpcyBnbCBjb250ZXh0IG93bmVycyByZW5kZXIgdGFyZ2V0ICovXG4gIGlzUm9vdDogZmFsc2Vcbn07XG5sZXQgUmVuZGVyVGFyZ2V0ID0gX1JlbmRlclRhcmdldDtcblxuZXhwb3J0IHsgUmVuZGVyVGFyZ2V0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1SZW5kZXJUYXJnZXQubWpzLm1hcFxuIiwiaW1wb3J0IEV2ZW50RW1pdHRlciBmcm9tICdldmVudGVtaXR0ZXIzJztcbmltcG9ydCB7IHVpZCB9IGZyb20gJy4uLy4uLy4uLy4uL3V0aWxzL2RhdGEvdWlkLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY2xhc3MgQnVmZmVyUmVzb3VyY2UgZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IEJ1ZmZlciBSZXNvdXJjZS5cbiAgICogQHBhcmFtIG9wdGlvbnMgLSBUaGUgb3B0aW9ucyBmb3IgdGhlIGJ1ZmZlciByZXNvdXJjZVxuICAgKiBAcGFyYW0gb3B0aW9ucy5idWZmZXIgLSBUaGUgdW5kZXJseWluZyBidWZmZXIgdGhhdCB0aGlzIHJlc291cmNlIGlzIHVzaW5nXG4gICAqIEBwYXJhbSBvcHRpb25zLm9mZnNldCAtIFRoZSBvZmZzZXQgb2YgdGhlIGJ1ZmZlciB0aGlzIHJlc291cmNlIGlzIHVzaW5nLlxuICAgKiBJZiBub3QgcHJvdmlkZWQsIHRoZW4gaXQgd2lsbCB1c2UgdGhlIG9mZnNldCBvZiB0aGUgYnVmZmVyLlxuICAgKiBAcGFyYW0gb3B0aW9ucy5zaXplIC0gVGhlIHNpemUgb2YgdGhlIGJ1ZmZlciB0aGlzIHJlc291cmNlIGlzIHVzaW5nLlxuICAgKiBJZiBub3QgcHJvdmlkZWQsIHRoZW4gaXQgd2lsbCB1c2UgdGhlIHNpemUgb2YgdGhlIGJ1ZmZlci5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHsgYnVmZmVyLCBvZmZzZXQsIHNpemUgfSkge1xuICAgIHN1cGVyKCk7XG4gICAgLyoqXG4gICAgICogZW1pdHMgd2hlbiB0aGUgdW5kZXJseWluZyBidWZmZXIgaGFzIGNoYW5nZWQgc2hhcGUgKGkuZS4gcmVzaXplZClcbiAgICAgKiBsZXR0aW5nIHRoZSByZW5kZXJlciBrbm93IHRoYXQgaXQgbmVlZHMgdG8gZGlzY2FyZCB0aGUgb2xkIGJ1ZmZlciBvbiB0aGUgR1BVIGFuZCBjcmVhdGUgYSBuZXcgb25lXG4gICAgICogQGV2ZW50IGNoYW5nZVxuICAgICAqL1xuICAgIC8qKiBhIHVuaXF1ZSBpZCBmb3IgdGhpcyB1bmlmb3JtIGdyb3VwIHVzZWQgdGhyb3VnaCB0aGUgcmVuZGVyZXIgKi9cbiAgICB0aGlzLnVpZCA9IHVpZChcImJ1ZmZlclwiKTtcbiAgICAvKipcbiAgICAgKiBhIHJlc291cmNlIHR5cGUsIHVzZWQgdG8gaWRlbnRpZnkgaG93IHRvIGhhbmRsZSBpdCB3aGVuIGl0cyBpbiBhIGJpbmQgZ3JvdXAgLyBzaGFkZXIgcmVzb3VyY2VcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICB0aGlzLl9yZXNvdXJjZVR5cGUgPSBcImJ1ZmZlclJlc291cmNlXCI7XG4gICAgLyoqXG4gICAgICogdXNlZCBpbnRlcm5hbGx5IHRvIGtub3cgaWYgYSB1bmlmb3JtIGdyb3VwIHdhcyB1c2VkIGluIHRoZSBsYXN0IHJlbmRlciBwYXNzXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdGhpcy5fdG91Y2hlZCA9IDA7XG4gICAgLyoqXG4gICAgICogdGhlIHJlc291cmNlIGlkIHVzZWQgaW50ZXJuYWxseSBieSB0aGUgcmVuZGVyZXIgdG8gYnVpbGQgYmluZCBncm91cCBrZXlzXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdGhpcy5fcmVzb3VyY2VJZCA9IHVpZChcInJlc291cmNlXCIpO1xuICAgIC8qKlxuICAgICAqIEEgY2hlZWt5IGhpbnQgdG8gdGhlIEdMIHJlbmRlcmVyIHRvIGxldCBpdCBrbm93IHRoaXMgaXMgYSBCdWZmZXJSZXNvdXJjZVxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHRoaXMuX2J1ZmZlclJlc291cmNlID0gdHJ1ZTtcbiAgICAvKipcbiAgICAgKiBIYXMgdGhlIEJ1ZmZlciByZXNvdXJjZSBiZWVuIGRlc3Ryb3llZD9cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICB0aGlzLmRlc3Ryb3llZCA9IGZhbHNlO1xuICAgIHRoaXMuYnVmZmVyID0gYnVmZmVyO1xuICAgIHRoaXMub2Zmc2V0ID0gb2Zmc2V0IHwgMDtcbiAgICB0aGlzLnNpemUgPSBzaXplO1xuICAgIHRoaXMuYnVmZmVyLm9uKFwiY2hhbmdlXCIsIHRoaXMub25CdWZmZXJDaGFuZ2UsIHRoaXMpO1xuICB9XG4gIG9uQnVmZmVyQ2hhbmdlKCkge1xuICAgIHRoaXMuX3Jlc291cmNlSWQgPSB1aWQoXCJyZXNvdXJjZVwiKTtcbiAgICB0aGlzLmVtaXQoXCJjaGFuZ2VcIiwgdGhpcyk7XG4gIH1cbiAgLyoqXG4gICAqIERlc3Ryb3lzIHRoaXMgcmVzb3VyY2UuIE1ha2Ugc3VyZSB0aGUgdW5kZXJseWluZyBidWZmZXIgaXMgbm90IHVzZWQgYW55d2hlcmUgZWxzZVxuICAgKiBpZiB5b3Ugd2FudCB0byBkZXN0cm95IGl0IGFzIHdlbGwsIG9yIGNvZGUgd2lsbCBleHBsb2RlXG4gICAqIEBwYXJhbSBkZXN0cm95QnVmZmVyIC0gU2hvdWxkIHRoZSB1bmRlcmx5aW5nIGJ1ZmZlciBiZSBkZXN0cm95ZWQgYXMgd2VsbD9cbiAgICovXG4gIGRlc3Ryb3koZGVzdHJveUJ1ZmZlciA9IGZhbHNlKSB7XG4gICAgdGhpcy5kZXN0cm95ZWQgPSB0cnVlO1xuICAgIGlmIChkZXN0cm95QnVmZmVyKSB7XG4gICAgICB0aGlzLmJ1ZmZlci5kZXN0cm95KCk7XG4gICAgfVxuICAgIHRoaXMuZW1pdChcImNoYW5nZVwiLCB0aGlzKTtcbiAgICB0aGlzLmJ1ZmZlciA9IG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IHsgQnVmZmVyUmVzb3VyY2UgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJ1ZmZlclJlc291cmNlLm1qcy5tYXBcbiIsImltcG9ydCB7IFNURU5DSUxfTU9ERVMgfSBmcm9tICcuLi8uLi9zaGFyZWQvc3RhdGUvY29uc3QubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBHcHVTdGVuY2lsTW9kZXNUb1BpeGkgPSBbXTtcbkdwdVN0ZW5jaWxNb2Rlc1RvUGl4aVtTVEVOQ0lMX01PREVTLk5PTkVdID0gdm9pZCAwO1xuR3B1U3RlbmNpbE1vZGVzVG9QaXhpW1NURU5DSUxfTU9ERVMuRElTQUJMRURdID0ge1xuICBzdGVuY2lsV3JpdGVNYXNrOiAwLFxuICBzdGVuY2lsUmVhZE1hc2s6IDBcbn07XG5HcHVTdGVuY2lsTW9kZXNUb1BpeGlbU1RFTkNJTF9NT0RFUy5SRU5ERVJJTkdfTUFTS19BRERdID0ge1xuICBzdGVuY2lsRnJvbnQ6IHtcbiAgICBjb21wYXJlOiBcImVxdWFsXCIsXG4gICAgcGFzc09wOiBcImluY3JlbWVudC1jbGFtcFwiXG4gIH0sXG4gIHN0ZW5jaWxCYWNrOiB7XG4gICAgY29tcGFyZTogXCJlcXVhbFwiLFxuICAgIHBhc3NPcDogXCJpbmNyZW1lbnQtY2xhbXBcIlxuICB9XG59O1xuR3B1U3RlbmNpbE1vZGVzVG9QaXhpW1NURU5DSUxfTU9ERVMuUkVOREVSSU5HX01BU0tfUkVNT1ZFXSA9IHtcbiAgc3RlbmNpbEZyb250OiB7XG4gICAgY29tcGFyZTogXCJlcXVhbFwiLFxuICAgIHBhc3NPcDogXCJkZWNyZW1lbnQtY2xhbXBcIlxuICB9LFxuICBzdGVuY2lsQmFjazoge1xuICAgIGNvbXBhcmU6IFwiZXF1YWxcIixcbiAgICBwYXNzT3A6IFwiZGVjcmVtZW50LWNsYW1wXCJcbiAgfVxufTtcbkdwdVN0ZW5jaWxNb2Rlc1RvUGl4aVtTVEVOQ0lMX01PREVTLk1BU0tfQUNUSVZFXSA9IHtcbiAgc3RlbmNpbFdyaXRlTWFzazogMCxcbiAgc3RlbmNpbEZyb250OiB7XG4gICAgY29tcGFyZTogXCJlcXVhbFwiLFxuICAgIHBhc3NPcDogXCJrZWVwXCJcbiAgfSxcbiAgc3RlbmNpbEJhY2s6IHtcbiAgICBjb21wYXJlOiBcImVxdWFsXCIsXG4gICAgcGFzc09wOiBcImtlZXBcIlxuICB9XG59O1xuR3B1U3RlbmNpbE1vZGVzVG9QaXhpW1NURU5DSUxfTU9ERVMuSU5WRVJTRV9NQVNLX0FDVElWRV0gPSB7XG4gIHN0ZW5jaWxXcml0ZU1hc2s6IDAsXG4gIHN0ZW5jaWxGcm9udDoge1xuICAgIGNvbXBhcmU6IFwibm90LWVxdWFsXCIsXG4gICAgcGFzc09wOiBcImtlZXBcIlxuICB9LFxuICBzdGVuY2lsQmFjazoge1xuICAgIGNvbXBhcmU6IFwibm90LWVxdWFsXCIsXG4gICAgcGFzc09wOiBcImtlZXBcIlxuICB9XG59O1xuXG5leHBvcnQgeyBHcHVTdGVuY2lsTW9kZXNUb1BpeGkgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUdwdVN0ZW5jaWxNb2Rlc1RvUGl4aS5tanMubWFwXG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIGxvb3BNYXRyaXgoY29sLCByb3cpIHtcbiAgY29uc3QgdG90YWwgPSBjb2wgKiByb3c7XG4gIHJldHVybiBgXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgJHt0b3RhbH07IGkrKykge1xuICAgICAgICAgICAgZGF0YVtvZmZzZXQgKyAoKChpIC8gJHtjb2x9KXwwKSAqIDQpICsgKGkgJSAke2NvbH0pXSA9IHZbaV07XG4gICAgICAgIH1cbiAgICBgO1xufVxuY29uc3QgdWJvU3luY0Z1bmN0aW9uc1NURDQwID0ge1xuICBmMzI6IGBcbiAgICAgICAgZGF0YVtvZmZzZXRdID0gdjtgLFxuICBpMzI6IGBcbiAgICAgICAgZGF0YUludDMyW29mZnNldF0gPSB2O2AsXG4gIFwidmVjMjxmMzI+XCI6IGBcbiAgICAgICAgZGF0YVtvZmZzZXRdID0gdlswXTtcbiAgICAgICAgZGF0YVtvZmZzZXQgKyAxXSA9IHZbMV07YCxcbiAgXCJ2ZWMzPGYzMj5cIjogYFxuICAgICAgICBkYXRhW29mZnNldF0gPSB2WzBdO1xuICAgICAgICBkYXRhW29mZnNldCArIDFdID0gdlsxXTtcbiAgICAgICAgZGF0YVtvZmZzZXQgKyAyXSA9IHZbMl07YCxcbiAgXCJ2ZWM0PGYzMj5cIjogYFxuICAgICAgICBkYXRhW29mZnNldF0gPSB2WzBdO1xuICAgICAgICBkYXRhW29mZnNldCArIDFdID0gdlsxXTtcbiAgICAgICAgZGF0YVtvZmZzZXQgKyAyXSA9IHZbMl07XG4gICAgICAgIGRhdGFbb2Zmc2V0ICsgM10gPSB2WzNdO2AsXG4gIFwidmVjMjxpMzI+XCI6IGBcbiAgICAgICAgZGF0YUludDMyW29mZnNldF0gPSB2WzBdO1xuICAgICAgICBkYXRhSW50MzJbb2Zmc2V0ICsgMV0gPSB2WzFdO2AsXG4gIFwidmVjMzxpMzI+XCI6IGBcbiAgICAgICAgZGF0YUludDMyW29mZnNldF0gPSB2WzBdO1xuICAgICAgICBkYXRhSW50MzJbb2Zmc2V0ICsgMV0gPSB2WzFdO1xuICAgICAgICBkYXRhSW50MzJbb2Zmc2V0ICsgMl0gPSB2WzJdO2AsXG4gIFwidmVjNDxpMzI+XCI6IGBcbiAgICAgICAgZGF0YUludDMyW29mZnNldF0gPSB2WzBdO1xuICAgICAgICBkYXRhSW50MzJbb2Zmc2V0ICsgMV0gPSB2WzFdO1xuICAgICAgICBkYXRhSW50MzJbb2Zmc2V0ICsgMl0gPSB2WzJdO1xuICAgICAgICBkYXRhSW50MzJbb2Zmc2V0ICsgM10gPSB2WzNdO2AsXG4gIFwibWF0MngyPGYzMj5cIjogYFxuICAgICAgICBkYXRhW29mZnNldF0gPSB2WzBdO1xuICAgICAgICBkYXRhW29mZnNldCArIDFdID0gdlsxXTtcbiAgICAgICAgZGF0YVtvZmZzZXQgKyA0XSA9IHZbMl07XG4gICAgICAgIGRhdGFbb2Zmc2V0ICsgNV0gPSB2WzNdO2AsXG4gIFwibWF0M3gzPGYzMj5cIjogYFxuICAgICAgICBkYXRhW29mZnNldF0gPSB2WzBdO1xuICAgICAgICBkYXRhW29mZnNldCArIDFdID0gdlsxXTtcbiAgICAgICAgZGF0YVtvZmZzZXQgKyAyXSA9IHZbMl07XG4gICAgICAgIGRhdGFbb2Zmc2V0ICsgNF0gPSB2WzNdO1xuICAgICAgICBkYXRhW29mZnNldCArIDVdID0gdls0XTtcbiAgICAgICAgZGF0YVtvZmZzZXQgKyA2XSA9IHZbNV07XG4gICAgICAgIGRhdGFbb2Zmc2V0ICsgOF0gPSB2WzZdO1xuICAgICAgICBkYXRhW29mZnNldCArIDldID0gdls3XTtcbiAgICAgICAgZGF0YVtvZmZzZXQgKyAxMF0gPSB2WzhdO2AsXG4gIFwibWF0NHg0PGYzMj5cIjogYFxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDE2OyBpKyspIHtcbiAgICAgICAgICAgIGRhdGFbb2Zmc2V0ICsgaV0gPSB2W2ldO1xuICAgICAgICB9YCxcbiAgXCJtYXQzeDI8ZjMyPlwiOiBsb29wTWF0cml4KDMsIDIpLFxuICBcIm1hdDR4MjxmMzI+XCI6IGxvb3BNYXRyaXgoNCwgMiksXG4gIFwibWF0MngzPGYzMj5cIjogbG9vcE1hdHJpeCgyLCAzKSxcbiAgXCJtYXQ0eDM8ZjMyPlwiOiBsb29wTWF0cml4KDQsIDMpLFxuICBcIm1hdDJ4NDxmMzI+XCI6IGxvb3BNYXRyaXgoMiwgNCksXG4gIFwibWF0M3g0PGYzMj5cIjogbG9vcE1hdHJpeCgzLCA0KVxufTtcbmNvbnN0IHVib1N5bmNGdW5jdGlvbnNXR1NMID0ge1xuICAuLi51Ym9TeW5jRnVuY3Rpb25zU1RENDAsXG4gIFwibWF0MngyPGYzMj5cIjogYFxuICAgICAgICBkYXRhW29mZnNldF0gPSB2WzBdO1xuICAgICAgICBkYXRhW29mZnNldCArIDFdID0gdlsxXTtcbiAgICAgICAgZGF0YVtvZmZzZXQgKyAyXSA9IHZbMl07XG4gICAgICAgIGRhdGFbb2Zmc2V0ICsgM10gPSB2WzNdO1xuICAgIGBcbn07XG5cbmV4cG9ydCB7IHVib1N5bmNGdW5jdGlvbnNTVEQ0MCwgdWJvU3luY0Z1bmN0aW9uc1dHU0wgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVib1N5bmNGdW5jdGlvbnMubWpzLm1hcFxuIiwiaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSB9IGZyb20gJy4uLy4uL2V4dGVuc2lvbnMvRXh0ZW5zaW9ucy5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNsYXNzIEN1c3RvbVJlbmRlclBpcGUge1xuICBjb25zdHJ1Y3RvcihyZW5kZXJlcikge1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gIH1cbiAgdXBkYXRlUmVuZGVyYWJsZSgpIHtcbiAgfVxuICBkZXN0cm95UmVuZGVyYWJsZSgpIHtcbiAgfVxuICB2YWxpZGF0ZVJlbmRlcmFibGUoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGFkZFJlbmRlcmFibGUoY29udGFpbmVyLCBpbnN0cnVjdGlvblNldCkge1xuICAgIHRoaXMuX3JlbmRlcmVyLnJlbmRlclBpcGVzLmJhdGNoLmJyZWFrKGluc3RydWN0aW9uU2V0KTtcbiAgICBpbnN0cnVjdGlvblNldC5hZGQoY29udGFpbmVyKTtcbiAgfVxuICBleGVjdXRlKGNvbnRhaW5lcikge1xuICAgIGlmICghY29udGFpbmVyLmlzUmVuZGVyYWJsZSlcbiAgICAgIHJldHVybjtcbiAgICBjb250YWluZXIucmVuZGVyKHRoaXMuX3JlbmRlcmVyKTtcbiAgfVxuICBkZXN0cm95KCkge1xuICAgIHRoaXMuX3JlbmRlcmVyID0gbnVsbDtcbiAgfVxufVxuQ3VzdG9tUmVuZGVyUGlwZS5leHRlbnNpb24gPSB7XG4gIHR5cGU6IFtcbiAgICBFeHRlbnNpb25UeXBlLldlYkdMUGlwZXMsXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHUFVQaXBlcyxcbiAgICBFeHRlbnNpb25UeXBlLkNhbnZhc1BpcGVzXG4gIF0sXG4gIG5hbWU6IFwiY3VzdG9tUmVuZGVyXCJcbn07XG5cbmV4cG9ydCB7IEN1c3RvbVJlbmRlclBpcGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUN1c3RvbVJlbmRlclBpcGUubWpzLm1hcFxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBleGVjdXRlSW5zdHJ1Y3Rpb25zKHJlbmRlckdyb3VwLCByZW5kZXJlcikge1xuICBjb25zdCBpbnN0cnVjdGlvblNldCA9IHJlbmRlckdyb3VwLmluc3RydWN0aW9uU2V0O1xuICBjb25zdCBpbnN0cnVjdGlvbnMgPSBpbnN0cnVjdGlvblNldC5pbnN0cnVjdGlvbnM7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgaW5zdHJ1Y3Rpb25TZXQuaW5zdHJ1Y3Rpb25TaXplOyBpKyspIHtcbiAgICBjb25zdCBpbnN0cnVjdGlvbiA9IGluc3RydWN0aW9uc1tpXTtcbiAgICByZW5kZXJlcltpbnN0cnVjdGlvbi5yZW5kZXJQaXBlSWRdLmV4ZWN1dGUoaW5zdHJ1Y3Rpb24pO1xuICB9XG59XG5cbmV4cG9ydCB7IGV4ZWN1dGVJbnN0cnVjdGlvbnMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWV4ZWN1dGVJbnN0cnVjdGlvbnMubWpzLm1hcFxuIiwiaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSB9IGZyb20gJy4uLy4uL2V4dGVuc2lvbnMvRXh0ZW5zaW9ucy5tanMnO1xuaW1wb3J0IHsgTWF0cml4IH0gZnJvbSAnLi4vLi4vbWF0aHMvbWF0cml4L01hdHJpeC5tanMnO1xuaW1wb3J0IHsgQmlnUG9vbCB9IGZyb20gJy4uLy4uL3V0aWxzL3Bvb2wvUG9vbEdyb3VwLm1qcyc7XG5pbXBvcnQgeyBCYXRjaGFibGVTcHJpdGUgfSBmcm9tICcuLi9zcHJpdGUvQmF0Y2hhYmxlU3ByaXRlLm1qcyc7XG5pbXBvcnQgeyBleGVjdXRlSW5zdHJ1Y3Rpb25zIH0gZnJvbSAnLi91dGlscy9leGVjdXRlSW5zdHJ1Y3Rpb25zLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY29uc3QgdGVtcE1hdHJpeCA9IG5ldyBNYXRyaXgoKTtcbmNsYXNzIFJlbmRlckdyb3VwUGlwZSB7XG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyKSB7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgfVxuICBhZGRSZW5kZXJHcm91cChyZW5kZXJHcm91cCwgaW5zdHJ1Y3Rpb25TZXQpIHtcbiAgICBpZiAocmVuZGVyR3JvdXAuaXNDYWNoZWRBc1RleHR1cmUpIHtcbiAgICAgIHRoaXMuX2FkZFJlbmRlcmFibGVDYWNoZUFzVGV4dHVyZShyZW5kZXJHcm91cCwgaW5zdHJ1Y3Rpb25TZXQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9hZGRSZW5kZXJhYmxlRGlyZWN0KHJlbmRlckdyb3VwLCBpbnN0cnVjdGlvblNldCk7XG4gICAgfVxuICB9XG4gIGV4ZWN1dGUocmVuZGVyR3JvdXApIHtcbiAgICBpZiAoIXJlbmRlckdyb3VwLmlzUmVuZGVyYWJsZSlcbiAgICAgIHJldHVybjtcbiAgICBpZiAocmVuZGVyR3JvdXAuaXNDYWNoZWRBc1RleHR1cmUpIHtcbiAgICAgIHRoaXMuX2V4ZWN1dGVDYWNoZUFzVGV4dHVyZShyZW5kZXJHcm91cCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2V4ZWN1dGVEaXJlY3QocmVuZGVyR3JvdXApO1xuICAgIH1cbiAgfVxuICBkZXN0cm95KCkge1xuICAgIHRoaXMuX3JlbmRlcmVyID0gbnVsbDtcbiAgfVxuICBfYWRkUmVuZGVyYWJsZURpcmVjdChyZW5kZXJHcm91cCwgaW5zdHJ1Y3Rpb25TZXQpIHtcbiAgICB0aGlzLl9yZW5kZXJlci5yZW5kZXJQaXBlcy5iYXRjaC5icmVhayhpbnN0cnVjdGlvblNldCk7XG4gICAgaWYgKHJlbmRlckdyb3VwLl9iYXRjaGFibGVSZW5kZXJHcm91cCkge1xuICAgICAgQmlnUG9vbC5yZXR1cm4ocmVuZGVyR3JvdXAuX2JhdGNoYWJsZVJlbmRlckdyb3VwKTtcbiAgICAgIHJlbmRlckdyb3VwLl9iYXRjaGFibGVSZW5kZXJHcm91cCA9IG51bGw7XG4gICAgfVxuICAgIGluc3RydWN0aW9uU2V0LmFkZChyZW5kZXJHcm91cCk7XG4gIH1cbiAgX2FkZFJlbmRlcmFibGVDYWNoZUFzVGV4dHVyZShyZW5kZXJHcm91cCwgaW5zdHJ1Y3Rpb25TZXQpIHtcbiAgICBjb25zdCBiYXRjaGFibGVSZW5kZXJHcm91cCA9IHJlbmRlckdyb3VwLl9iYXRjaGFibGVSZW5kZXJHcm91cCA/PyAocmVuZGVyR3JvdXAuX2JhdGNoYWJsZVJlbmRlckdyb3VwID0gQmlnUG9vbC5nZXQoQmF0Y2hhYmxlU3ByaXRlKSk7XG4gICAgYmF0Y2hhYmxlUmVuZGVyR3JvdXAucmVuZGVyYWJsZSA9IHJlbmRlckdyb3VwLnJvb3Q7XG4gICAgYmF0Y2hhYmxlUmVuZGVyR3JvdXAudHJhbnNmb3JtID0gcmVuZGVyR3JvdXAucm9vdC5yZWxhdGl2ZUdyb3VwVHJhbnNmb3JtO1xuICAgIGJhdGNoYWJsZVJlbmRlckdyb3VwLnRleHR1cmUgPSByZW5kZXJHcm91cC50ZXh0dXJlO1xuICAgIGJhdGNoYWJsZVJlbmRlckdyb3VwLmJvdW5kcyA9IHJlbmRlckdyb3VwLl90ZXh0dXJlQm91bmRzO1xuICAgIGluc3RydWN0aW9uU2V0LmFkZChyZW5kZXJHcm91cCk7XG4gICAgdGhpcy5fcmVuZGVyZXIucmVuZGVyUGlwZXMuYmxlbmRNb2RlLnB1c2hCbGVuZE1vZGUocmVuZGVyR3JvdXAsIHJlbmRlckdyb3VwLnJvb3QuZ3JvdXBCbGVuZE1vZGUsIGluc3RydWN0aW9uU2V0KTtcbiAgICB0aGlzLl9yZW5kZXJlci5yZW5kZXJQaXBlcy5iYXRjaC5hZGRUb0JhdGNoKGJhdGNoYWJsZVJlbmRlckdyb3VwLCBpbnN0cnVjdGlvblNldCk7XG4gICAgdGhpcy5fcmVuZGVyZXIucmVuZGVyUGlwZXMuYmxlbmRNb2RlLnBvcEJsZW5kTW9kZShpbnN0cnVjdGlvblNldCk7XG4gIH1cbiAgX2V4ZWN1dGVDYWNoZUFzVGV4dHVyZShyZW5kZXJHcm91cCkge1xuICAgIGlmIChyZW5kZXJHcm91cC50ZXh0dXJlTmVlZHNVcGRhdGUpIHtcbiAgICAgIHJlbmRlckdyb3VwLnRleHR1cmVOZWVkc1VwZGF0ZSA9IGZhbHNlO1xuICAgICAgY29uc3Qgd29ybGRUcmFuc2Zvcm1NYXRyaXggPSB0ZW1wTWF0cml4LmlkZW50aXR5KCkudHJhbnNsYXRlKFxuICAgICAgICAtcmVuZGVyR3JvdXAuX3RleHR1cmVCb3VuZHMueCxcbiAgICAgICAgLXJlbmRlckdyb3VwLl90ZXh0dXJlQm91bmRzLnlcbiAgICAgICk7XG4gICAgICB0aGlzLl9yZW5kZXJlci5yZW5kZXJUYXJnZXQucHVzaChyZW5kZXJHcm91cC50ZXh0dXJlLCB0cnVlLCBudWxsLCByZW5kZXJHcm91cC50ZXh0dXJlLmZyYW1lKTtcbiAgICAgIHRoaXMuX3JlbmRlcmVyLmdsb2JhbFVuaWZvcm1zLnB1c2goe1xuICAgICAgICB3b3JsZFRyYW5zZm9ybU1hdHJpeCxcbiAgICAgICAgd29ybGRDb2xvcjogNDI5NDk2NzI5NSxcbiAgICAgICAgb2Zmc2V0OiB7IHg6IDAsIHk6IDAgfVxuICAgICAgfSk7XG4gICAgICBleGVjdXRlSW5zdHJ1Y3Rpb25zKHJlbmRlckdyb3VwLCB0aGlzLl9yZW5kZXJlci5yZW5kZXJQaXBlcyk7XG4gICAgICB0aGlzLl9yZW5kZXJlci5yZW5kZXJUYXJnZXQuZmluaXNoUmVuZGVyUGFzcygpO1xuICAgICAgdGhpcy5fcmVuZGVyZXIucmVuZGVyVGFyZ2V0LnBvcCgpO1xuICAgICAgdGhpcy5fcmVuZGVyZXIuZ2xvYmFsVW5pZm9ybXMucG9wKCk7XG4gICAgfVxuICAgIHJlbmRlckdyb3VwLl9iYXRjaGFibGVSZW5kZXJHcm91cC5fYmF0Y2hlci51cGRhdGVFbGVtZW50KHJlbmRlckdyb3VwLl9iYXRjaGFibGVSZW5kZXJHcm91cCk7XG4gICAgcmVuZGVyR3JvdXAuX2JhdGNoYWJsZVJlbmRlckdyb3VwLl9iYXRjaGVyLmdlb21ldHJ5LmJ1ZmZlcnNbMF0udXBkYXRlKCk7XG4gIH1cbiAgX2V4ZWN1dGVEaXJlY3QocmVuZGVyR3JvdXApIHtcbiAgICB0aGlzLl9yZW5kZXJlci5nbG9iYWxVbmlmb3Jtcy5wdXNoKHtcbiAgICAgIHdvcmxkVHJhbnNmb3JtTWF0cml4OiByZW5kZXJHcm91cC5pbnZlcnNlUGFyZW50VGV4dHVyZVRyYW5zZm9ybSxcbiAgICAgIHdvcmxkQ29sb3I6IHJlbmRlckdyb3VwLndvcmxkQ29sb3JBbHBoYVxuICAgIH0pO1xuICAgIGV4ZWN1dGVJbnN0cnVjdGlvbnMocmVuZGVyR3JvdXAsIHRoaXMuX3JlbmRlcmVyLnJlbmRlclBpcGVzKTtcbiAgICB0aGlzLl9yZW5kZXJlci5nbG9iYWxVbmlmb3Jtcy5wb3AoKTtcbiAgfVxufVxuUmVuZGVyR3JvdXBQaXBlLmV4dGVuc2lvbiA9IHtcbiAgdHlwZTogW1xuICAgIEV4dGVuc2lvblR5cGUuV2ViR0xQaXBlcyxcbiAgICBFeHRlbnNpb25UeXBlLldlYkdQVVBpcGVzLFxuICAgIEV4dGVuc2lvblR5cGUuQ2FudmFzUGlwZXNcbiAgXSxcbiAgbmFtZTogXCJyZW5kZXJHcm91cFwiXG59O1xuXG5leHBvcnQgeyBSZW5kZXJHcm91cFBpcGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJlbmRlckdyb3VwUGlwZS5tanMubWFwXG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIGNsZWFyTGlzdChsaXN0LCBpbmRleCkge1xuICBpbmRleCB8fCAoaW5kZXggPSAwKTtcbiAgZm9yIChsZXQgaiA9IGluZGV4OyBqIDwgbGlzdC5sZW5ndGg7IGorKykge1xuICAgIGlmIChsaXN0W2pdKSB7XG4gICAgICBsaXN0W2pdID0gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCB7IGNsZWFyTGlzdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2xlYXJMaXN0Lm1qcy5tYXBcbiIsImltcG9ydCB7IENvbnRhaW5lciwgVVBEQVRFX1ZJU0lCTEUsIFVQREFURV9DT0xPUiwgVVBEQVRFX0JMRU5EIH0gZnJvbSAnLi4vQ29udGFpbmVyLm1qcyc7XG5pbXBvcnQgeyBjbGVhckxpc3QgfSBmcm9tICcuL2NsZWFyTGlzdC5tanMnO1xuaW1wb3J0IHsgbXVsdGlwbHlDb2xvcnMgfSBmcm9tICcuL211bHRpcGx5Q29sb3JzLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY29uc3QgdGVtcENvbnRhaW5lciA9IG5ldyBDb250YWluZXIoKTtcbmNvbnN0IFVQREFURV9CTEVORF9DT0xPUl9WSVNJQkxFID0gVVBEQVRFX1ZJU0lCTEUgfCBVUERBVEVfQ09MT1IgfCBVUERBVEVfQkxFTkQ7XG5mdW5jdGlvbiB1cGRhdGVSZW5kZXJHcm91cFRyYW5zZm9ybXMocmVuZGVyR3JvdXAsIHVwZGF0ZUNoaWxkUmVuZGVyR3JvdXBzID0gZmFsc2UpIHtcbiAgdXBkYXRlUmVuZGVyR3JvdXBUcmFuc2Zvcm0ocmVuZGVyR3JvdXApO1xuICBjb25zdCBjaGlsZHJlblRvVXBkYXRlID0gcmVuZGVyR3JvdXAuY2hpbGRyZW5Ub1VwZGF0ZTtcbiAgY29uc3QgdXBkYXRlVGljayA9IHJlbmRlckdyb3VwLnVwZGF0ZVRpY2srKztcbiAgZm9yIChjb25zdCBqIGluIGNoaWxkcmVuVG9VcGRhdGUpIHtcbiAgICBjb25zdCByZW5kZXJHcm91cERlcHRoID0gTnVtYmVyKGopO1xuICAgIGNvbnN0IGNoaWxkcmVuQXREZXB0aCA9IGNoaWxkcmVuVG9VcGRhdGVbal07XG4gICAgY29uc3QgbGlzdCA9IGNoaWxkcmVuQXREZXB0aC5saXN0O1xuICAgIGNvbnN0IGluZGV4ID0gY2hpbGRyZW5BdERlcHRoLmluZGV4O1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW5kZXg7IGkrKykge1xuICAgICAgY29uc3QgY2hpbGQgPSBsaXN0W2ldO1xuICAgICAgaWYgKGNoaWxkLnBhcmVudFJlbmRlckdyb3VwID09PSByZW5kZXJHcm91cCAmJiBjaGlsZC5yZWxhdGl2ZVJlbmRlckdyb3VwRGVwdGggPT09IHJlbmRlckdyb3VwRGVwdGgpIHtcbiAgICAgICAgdXBkYXRlVHJhbnNmb3JtQW5kQ2hpbGRyZW4oY2hpbGQsIHVwZGF0ZVRpY2ssIDApO1xuICAgICAgfVxuICAgIH1cbiAgICBjbGVhckxpc3QobGlzdCwgaW5kZXgpO1xuICAgIGNoaWxkcmVuQXREZXB0aC5pbmRleCA9IDA7XG4gIH1cbiAgaWYgKHVwZGF0ZUNoaWxkUmVuZGVyR3JvdXBzKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZW5kZXJHcm91cC5yZW5kZXJHcm91cENoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICB1cGRhdGVSZW5kZXJHcm91cFRyYW5zZm9ybXMocmVuZGVyR3JvdXAucmVuZGVyR3JvdXBDaGlsZHJlbltpXSwgdXBkYXRlQ2hpbGRSZW5kZXJHcm91cHMpO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gdXBkYXRlUmVuZGVyR3JvdXBUcmFuc2Zvcm0ocmVuZGVyR3JvdXApIHtcbiAgY29uc3Qgcm9vdCA9IHJlbmRlckdyb3VwLnJvb3Q7XG4gIGxldCB3b3JsZEFscGhhO1xuICBpZiAocmVuZGVyR3JvdXAucmVuZGVyR3JvdXBQYXJlbnQpIHtcbiAgICBjb25zdCByZW5kZXJHcm91cFBhcmVudCA9IHJlbmRlckdyb3VwLnJlbmRlckdyb3VwUGFyZW50O1xuICAgIHJlbmRlckdyb3VwLndvcmxkVHJhbnNmb3JtLmFwcGVuZEZyb20oXG4gICAgICByb290LnJlbGF0aXZlR3JvdXBUcmFuc2Zvcm0sXG4gICAgICByZW5kZXJHcm91cFBhcmVudC53b3JsZFRyYW5zZm9ybVxuICAgICk7XG4gICAgcmVuZGVyR3JvdXAud29ybGRDb2xvciA9IG11bHRpcGx5Q29sb3JzKFxuICAgICAgcm9vdC5ncm91cENvbG9yLFxuICAgICAgcmVuZGVyR3JvdXBQYXJlbnQud29ybGRDb2xvclxuICAgICk7XG4gICAgd29ybGRBbHBoYSA9IHJvb3QuZ3JvdXBBbHBoYSAqIHJlbmRlckdyb3VwUGFyZW50LndvcmxkQWxwaGE7XG4gIH0gZWxzZSB7XG4gICAgcmVuZGVyR3JvdXAud29ybGRUcmFuc2Zvcm0uY29weUZyb20ocm9vdC5sb2NhbFRyYW5zZm9ybSk7XG4gICAgcmVuZGVyR3JvdXAud29ybGRDb2xvciA9IHJvb3QubG9jYWxDb2xvcjtcbiAgICB3b3JsZEFscGhhID0gcm9vdC5sb2NhbEFscGhhO1xuICB9XG4gIHdvcmxkQWxwaGEgPSB3b3JsZEFscGhhIDwgMCA/IDAgOiB3b3JsZEFscGhhID4gMSA/IDEgOiB3b3JsZEFscGhhO1xuICByZW5kZXJHcm91cC53b3JsZEFscGhhID0gd29ybGRBbHBoYTtcbiAgcmVuZGVyR3JvdXAud29ybGRDb2xvckFscGhhID0gcmVuZGVyR3JvdXAud29ybGRDb2xvciArICgod29ybGRBbHBoYSAqIDI1NSB8IDApIDw8IDI0KTtcbn1cbmZ1bmN0aW9uIHVwZGF0ZVRyYW5zZm9ybUFuZENoaWxkcmVuKGNvbnRhaW5lciwgdXBkYXRlVGljaywgdXBkYXRlRmxhZ3MpIHtcbiAgaWYgKHVwZGF0ZVRpY2sgPT09IGNvbnRhaW5lci51cGRhdGVUaWNrKVxuICAgIHJldHVybjtcbiAgY29udGFpbmVyLnVwZGF0ZVRpY2sgPSB1cGRhdGVUaWNrO1xuICBjb250YWluZXIuZGlkQ2hhbmdlID0gZmFsc2U7XG4gIGNvbnN0IGxvY2FsVHJhbnNmb3JtID0gY29udGFpbmVyLmxvY2FsVHJhbnNmb3JtO1xuICBjb250YWluZXIudXBkYXRlTG9jYWxUcmFuc2Zvcm0oKTtcbiAgY29uc3QgcGFyZW50ID0gY29udGFpbmVyLnBhcmVudDtcbiAgaWYgKHBhcmVudCAmJiAhcGFyZW50LnJlbmRlckdyb3VwKSB7XG4gICAgdXBkYXRlRmxhZ3MgfD0gY29udGFpbmVyLl91cGRhdGVGbGFncztcbiAgICBjb250YWluZXIucmVsYXRpdmVHcm91cFRyYW5zZm9ybS5hcHBlbmRGcm9tKFxuICAgICAgbG9jYWxUcmFuc2Zvcm0sXG4gICAgICBwYXJlbnQucmVsYXRpdmVHcm91cFRyYW5zZm9ybVxuICAgICk7XG4gICAgaWYgKHVwZGF0ZUZsYWdzICYgVVBEQVRFX0JMRU5EX0NPTE9SX1ZJU0lCTEUpIHtcbiAgICAgIHVwZGF0ZUNvbG9yQmxlbmRWaXNpYmlsaXR5KGNvbnRhaW5lciwgcGFyZW50LCB1cGRhdGVGbGFncyk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHVwZGF0ZUZsYWdzID0gY29udGFpbmVyLl91cGRhdGVGbGFncztcbiAgICBjb250YWluZXIucmVsYXRpdmVHcm91cFRyYW5zZm9ybS5jb3B5RnJvbShsb2NhbFRyYW5zZm9ybSk7XG4gICAgaWYgKHVwZGF0ZUZsYWdzICYgVVBEQVRFX0JMRU5EX0NPTE9SX1ZJU0lCTEUpIHtcbiAgICAgIHVwZGF0ZUNvbG9yQmxlbmRWaXNpYmlsaXR5KGNvbnRhaW5lciwgdGVtcENvbnRhaW5lciwgdXBkYXRlRmxhZ3MpO1xuICAgIH1cbiAgfVxuICBpZiAoIWNvbnRhaW5lci5yZW5kZXJHcm91cCkge1xuICAgIGNvbnN0IGNoaWxkcmVuID0gY29udGFpbmVyLmNoaWxkcmVuO1xuICAgIGNvbnN0IGxlbmd0aCA9IGNoaWxkcmVuLmxlbmd0aDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICB1cGRhdGVUcmFuc2Zvcm1BbmRDaGlsZHJlbihjaGlsZHJlbltpXSwgdXBkYXRlVGljaywgdXBkYXRlRmxhZ3MpO1xuICAgIH1cbiAgICBjb25zdCByZW5kZXJHcm91cCA9IGNvbnRhaW5lci5wYXJlbnRSZW5kZXJHcm91cDtcbiAgICBjb25zdCByZW5kZXJhYmxlID0gY29udGFpbmVyO1xuICAgIGlmIChyZW5kZXJhYmxlLnJlbmRlclBpcGVJZCAmJiAhcmVuZGVyR3JvdXAuc3RydWN0dXJlRGlkQ2hhbmdlKSB7XG4gICAgICByZW5kZXJHcm91cC51cGRhdGVSZW5kZXJhYmxlKHJlbmRlcmFibGUpO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gdXBkYXRlQ29sb3JCbGVuZFZpc2liaWxpdHkoY29udGFpbmVyLCBwYXJlbnQsIHVwZGF0ZUZsYWdzKSB7XG4gIGlmICh1cGRhdGVGbGFncyAmIFVQREFURV9DT0xPUikge1xuICAgIGNvbnRhaW5lci5ncm91cENvbG9yID0gbXVsdGlwbHlDb2xvcnMoXG4gICAgICBjb250YWluZXIubG9jYWxDb2xvcixcbiAgICAgIHBhcmVudC5ncm91cENvbG9yXG4gICAgKTtcbiAgICBsZXQgZ3JvdXBBbHBoYSA9IGNvbnRhaW5lci5sb2NhbEFscGhhICogcGFyZW50Lmdyb3VwQWxwaGE7XG4gICAgZ3JvdXBBbHBoYSA9IGdyb3VwQWxwaGEgPCAwID8gMCA6IGdyb3VwQWxwaGEgPiAxID8gMSA6IGdyb3VwQWxwaGE7XG4gICAgY29udGFpbmVyLmdyb3VwQWxwaGEgPSBncm91cEFscGhhO1xuICAgIGNvbnRhaW5lci5ncm91cENvbG9yQWxwaGEgPSBjb250YWluZXIuZ3JvdXBDb2xvciArICgoZ3JvdXBBbHBoYSAqIDI1NSB8IDApIDw8IDI0KTtcbiAgfVxuICBpZiAodXBkYXRlRmxhZ3MgJiBVUERBVEVfQkxFTkQpIHtcbiAgICBjb250YWluZXIuZ3JvdXBCbGVuZE1vZGUgPSBjb250YWluZXIubG9jYWxCbGVuZE1vZGUgPT09IFwiaW5oZXJpdFwiID8gcGFyZW50Lmdyb3VwQmxlbmRNb2RlIDogY29udGFpbmVyLmxvY2FsQmxlbmRNb2RlO1xuICB9XG4gIGlmICh1cGRhdGVGbGFncyAmIFVQREFURV9WSVNJQkxFKSB7XG4gICAgY29udGFpbmVyLmdsb2JhbERpc3BsYXlTdGF0dXMgPSBjb250YWluZXIubG9jYWxEaXNwbGF5U3RhdHVzICYgcGFyZW50Lmdsb2JhbERpc3BsYXlTdGF0dXM7XG4gIH1cbiAgY29udGFpbmVyLl91cGRhdGVGbGFncyA9IDA7XG59XG5cbmV4cG9ydCB7IHVwZGF0ZVJlbmRlckdyb3VwVHJhbnNmb3JtLCB1cGRhdGVSZW5kZXJHcm91cFRyYW5zZm9ybXMsIHVwZGF0ZVRyYW5zZm9ybUFuZENoaWxkcmVuIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD11cGRhdGVSZW5kZXJHcm91cFRyYW5zZm9ybXMubWpzLm1hcFxuIiwiaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSB9IGZyb20gJy4uLy4uL2V4dGVuc2lvbnMvRXh0ZW5zaW9ucy5tanMnO1xuaW1wb3J0IHsgTWF0cml4IH0gZnJvbSAnLi4vLi4vbWF0aHMvbWF0cml4L01hdHJpeC5tanMnO1xuaW1wb3J0IHsgVGV4dHVyZVBvb2wgfSBmcm9tICcuLi8uLi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC90ZXh0dXJlL1RleHR1cmVQb29sLm1qcyc7XG5pbXBvcnQgeyBUZXh0dXJlU3R5bGUgfSBmcm9tICcuLi8uLi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC90ZXh0dXJlL1RleHR1cmVTdHlsZS5tanMnO1xuaW1wb3J0IHsgQm91bmRzIH0gZnJvbSAnLi9ib3VuZHMvQm91bmRzLm1qcyc7XG5pbXBvcnQgeyBjbGVhckxpc3QgfSBmcm9tICcuL3V0aWxzL2NsZWFyTGlzdC5tanMnO1xuaW1wb3J0IHsgZXhlY3V0ZUluc3RydWN0aW9ucyB9IGZyb20gJy4vdXRpbHMvZXhlY3V0ZUluc3RydWN0aW9ucy5tanMnO1xuaW1wb3J0IHsgdXBkYXRlUmVuZGVyR3JvdXBUcmFuc2Zvcm1zIH0gZnJvbSAnLi91dGlscy91cGRhdGVSZW5kZXJHcm91cFRyYW5zZm9ybXMubWpzJztcbmltcG9ydCB7IHZhbGlkYXRlUmVuZGVyYWJsZXMgfSBmcm9tICcuL3V0aWxzL3ZhbGlkYXRlUmVuZGVyYWJsZXMubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCB0ZW1wTWF0cml4ID0gbmV3IE1hdHJpeCgpO1xuY2xhc3MgUmVuZGVyR3JvdXBTeXN0ZW0ge1xuICBjb25zdHJ1Y3RvcihyZW5kZXJlcikge1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gIH1cbiAgcmVuZGVyKHsgY29udGFpbmVyLCB0cmFuc2Zvcm0gfSkge1xuICAgIGNvbnN0IHBhcmVudCA9IGNvbnRhaW5lci5wYXJlbnQ7XG4gICAgY29uc3QgcmVuZGVyR3JvdXBQYXJlbnQgPSBjb250YWluZXIucmVuZGVyR3JvdXAucmVuZGVyR3JvdXBQYXJlbnQ7XG4gICAgY29udGFpbmVyLnBhcmVudCA9IG51bGw7XG4gICAgY29udGFpbmVyLnJlbmRlckdyb3VwLnJlbmRlckdyb3VwUGFyZW50ID0gbnVsbDtcbiAgICBjb25zdCByZW5kZXJlciA9IHRoaXMuX3JlbmRlcmVyO1xuICAgIGNvbnN0IG9yaWdpbmFsTG9jYWxUcmFuc2Zvcm0gPSB0ZW1wTWF0cml4O1xuICAgIGlmICh0cmFuc2Zvcm0pIHtcbiAgICAgIG9yaWdpbmFsTG9jYWxUcmFuc2Zvcm0uY29weUZyb20oY29udGFpbmVyLnJlbmRlckdyb3VwLmxvY2FsVHJhbnNmb3JtKTtcbiAgICAgIGNvbnRhaW5lci5yZW5kZXJHcm91cC5sb2NhbFRyYW5zZm9ybS5jb3B5RnJvbSh0cmFuc2Zvcm0pO1xuICAgIH1cbiAgICBjb25zdCByZW5kZXJQaXBlcyA9IHJlbmRlcmVyLnJlbmRlclBpcGVzO1xuICAgIHRoaXMuX3VwZGF0ZUNhY2hlZFJlbmRlckdyb3Vwcyhjb250YWluZXIucmVuZGVyR3JvdXAsIG51bGwpO1xuICAgIHRoaXMuX3VwZGF0ZVJlbmRlckdyb3Vwcyhjb250YWluZXIucmVuZGVyR3JvdXApO1xuICAgIHJlbmRlcmVyLmdsb2JhbFVuaWZvcm1zLnN0YXJ0KHtcbiAgICAgIHdvcmxkVHJhbnNmb3JtTWF0cml4OiB0cmFuc2Zvcm0gPyBjb250YWluZXIucmVuZGVyR3JvdXAubG9jYWxUcmFuc2Zvcm0gOiBjb250YWluZXIucmVuZGVyR3JvdXAud29ybGRUcmFuc2Zvcm0sXG4gICAgICB3b3JsZENvbG9yOiBjb250YWluZXIucmVuZGVyR3JvdXAud29ybGRDb2xvckFscGhhXG4gICAgfSk7XG4gICAgZXhlY3V0ZUluc3RydWN0aW9ucyhjb250YWluZXIucmVuZGVyR3JvdXAsIHJlbmRlclBpcGVzKTtcbiAgICBpZiAocmVuZGVyUGlwZXMudW5pZm9ybUJhdGNoKSB7XG4gICAgICByZW5kZXJQaXBlcy51bmlmb3JtQmF0Y2gucmVuZGVyRW5kKCk7XG4gICAgfVxuICAgIGlmICh0cmFuc2Zvcm0pIHtcbiAgICAgIGNvbnRhaW5lci5yZW5kZXJHcm91cC5sb2NhbFRyYW5zZm9ybS5jb3B5RnJvbShvcmlnaW5hbExvY2FsVHJhbnNmb3JtKTtcbiAgICB9XG4gICAgY29udGFpbmVyLnBhcmVudCA9IHBhcmVudDtcbiAgICBjb250YWluZXIucmVuZGVyR3JvdXAucmVuZGVyR3JvdXBQYXJlbnQgPSByZW5kZXJHcm91cFBhcmVudDtcbiAgfVxuICBkZXN0cm95KCkge1xuICAgIHRoaXMuX3JlbmRlcmVyID0gbnVsbDtcbiAgfVxuICBfdXBkYXRlQ2FjaGVkUmVuZGVyR3JvdXBzKHJlbmRlckdyb3VwLCBjbG9zZXN0Q2FjaGVBc1RleHR1cmUpIHtcbiAgICByZW5kZXJHcm91cC5fcGFyZW50Q2FjaGVBc1RleHR1cmVSZW5kZXJHcm91cCA9IGNsb3Nlc3RDYWNoZUFzVGV4dHVyZTtcbiAgICBpZiAocmVuZGVyR3JvdXAuaXNDYWNoZWRBc1RleHR1cmUpIHtcbiAgICAgIGlmICghcmVuZGVyR3JvdXAudGV4dHVyZU5lZWRzVXBkYXRlKVxuICAgICAgICByZXR1cm47XG4gICAgICBjbG9zZXN0Q2FjaGVBc1RleHR1cmUgPSByZW5kZXJHcm91cDtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IHJlbmRlckdyb3VwLnJlbmRlckdyb3VwQ2hpbGRyZW4ubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIHRoaXMuX3VwZGF0ZUNhY2hlZFJlbmRlckdyb3VwcyhyZW5kZXJHcm91cC5yZW5kZXJHcm91cENoaWxkcmVuW2ldLCBjbG9zZXN0Q2FjaGVBc1RleHR1cmUpO1xuICAgIH1cbiAgICByZW5kZXJHcm91cC5pbnZhbGlkYXRlTWF0cmljZXMoKTtcbiAgICBpZiAocmVuZGVyR3JvdXAuaXNDYWNoZWRBc1RleHR1cmUpIHtcbiAgICAgIGlmIChyZW5kZXJHcm91cC50ZXh0dXJlTmVlZHNVcGRhdGUpIHtcbiAgICAgICAgY29uc3QgYm91bmRzID0gcmVuZGVyR3JvdXAucm9vdC5nZXRMb2NhbEJvdW5kcygpO1xuICAgICAgICBib3VuZHMuY2VpbCgpO1xuICAgICAgICBjb25zdCBsYXN0VGV4dHVyZSA9IHJlbmRlckdyb3VwLnRleHR1cmU7XG4gICAgICAgIGlmIChyZW5kZXJHcm91cC50ZXh0dXJlKSB7XG4gICAgICAgICAgVGV4dHVyZVBvb2wucmV0dXJuVGV4dHVyZShyZW5kZXJHcm91cC50ZXh0dXJlLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZW5kZXJlciA9IHRoaXMuX3JlbmRlcmVyO1xuICAgICAgICBjb25zdCByZXNvbHV0aW9uID0gcmVuZGVyR3JvdXAudGV4dHVyZU9wdGlvbnMucmVzb2x1dGlvbiB8fCByZW5kZXJlci52aWV3LnJlc29sdXRpb247XG4gICAgICAgIGNvbnN0IGFudGlhbGlhcyA9IHJlbmRlckdyb3VwLnRleHR1cmVPcHRpb25zLmFudGlhbGlhcyA/PyByZW5kZXJlci52aWV3LmFudGlhbGlhcztcbiAgICAgICAgY29uc3Qgc2NhbGVNb2RlID0gcmVuZGVyR3JvdXAudGV4dHVyZU9wdGlvbnMuc2NhbGVNb2RlID8/IFwibGluZWFyXCI7XG4gICAgICAgIGNvbnN0IHRleHR1cmUgPSBUZXh0dXJlUG9vbC5nZXRPcHRpbWFsVGV4dHVyZShcbiAgICAgICAgICBib3VuZHMud2lkdGgsXG4gICAgICAgICAgYm91bmRzLmhlaWdodCxcbiAgICAgICAgICByZXNvbHV0aW9uLFxuICAgICAgICAgIGFudGlhbGlhc1xuICAgICAgICApO1xuICAgICAgICB0ZXh0dXJlLl9zb3VyY2Uuc3R5bGUgPSBuZXcgVGV4dHVyZVN0eWxlKHsgc2NhbGVNb2RlIH0pO1xuICAgICAgICByZW5kZXJHcm91cC50ZXh0dXJlID0gdGV4dHVyZTtcbiAgICAgICAgcmVuZGVyR3JvdXAuX3RleHR1cmVCb3VuZHMgfHwgKHJlbmRlckdyb3VwLl90ZXh0dXJlQm91bmRzID0gbmV3IEJvdW5kcygpKTtcbiAgICAgICAgcmVuZGVyR3JvdXAuX3RleHR1cmVCb3VuZHMuY29weUZyb20oYm91bmRzKTtcbiAgICAgICAgaWYgKGxhc3RUZXh0dXJlICE9PSByZW5kZXJHcm91cC50ZXh0dXJlKSB7XG4gICAgICAgICAgaWYgKHJlbmRlckdyb3VwLnJlbmRlckdyb3VwUGFyZW50KSB7XG4gICAgICAgICAgICByZW5kZXJHcm91cC5yZW5kZXJHcm91cFBhcmVudC5zdHJ1Y3R1cmVEaWRDaGFuZ2UgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAocmVuZGVyR3JvdXAudGV4dHVyZSkge1xuICAgICAgVGV4dHVyZVBvb2wucmV0dXJuVGV4dHVyZShyZW5kZXJHcm91cC50ZXh0dXJlLCB0cnVlKTtcbiAgICAgIHJlbmRlckdyb3VwLnRleHR1cmUgPSBudWxsO1xuICAgIH1cbiAgfVxuICBfdXBkYXRlUmVuZGVyR3JvdXBzKHJlbmRlckdyb3VwKSB7XG4gICAgY29uc3QgcmVuZGVyZXIgPSB0aGlzLl9yZW5kZXJlcjtcbiAgICBjb25zdCByZW5kZXJQaXBlcyA9IHJlbmRlcmVyLnJlbmRlclBpcGVzO1xuICAgIHJlbmRlckdyb3VwLnJ1bk9uUmVuZGVyKHJlbmRlcmVyKTtcbiAgICByZW5kZXJHcm91cC5pbnN0cnVjdGlvblNldC5yZW5kZXJQaXBlcyA9IHJlbmRlclBpcGVzO1xuICAgIGlmICghcmVuZGVyR3JvdXAuc3RydWN0dXJlRGlkQ2hhbmdlKSB7XG4gICAgICB2YWxpZGF0ZVJlbmRlcmFibGVzKHJlbmRlckdyb3VwLCByZW5kZXJQaXBlcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNsZWFyTGlzdChyZW5kZXJHcm91cC5jaGlsZHJlblJlbmRlcmFibGVzVG9VcGRhdGUubGlzdCwgMCk7XG4gICAgfVxuICAgIHVwZGF0ZVJlbmRlckdyb3VwVHJhbnNmb3JtcyhyZW5kZXJHcm91cCk7XG4gICAgaWYgKHJlbmRlckdyb3VwLnN0cnVjdHVyZURpZENoYW5nZSkge1xuICAgICAgcmVuZGVyR3JvdXAuc3RydWN0dXJlRGlkQ2hhbmdlID0gZmFsc2U7XG4gICAgICB0aGlzLl9idWlsZEluc3RydWN0aW9ucyhyZW5kZXJHcm91cCwgcmVuZGVyZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl91cGRhdGVSZW5kZXJhYmxlcyhyZW5kZXJHcm91cCk7XG4gICAgfVxuICAgIHJlbmRlckdyb3VwLmNoaWxkcmVuUmVuZGVyYWJsZXNUb1VwZGF0ZS5pbmRleCA9IDA7XG4gICAgcmVuZGVyZXIucmVuZGVyUGlwZXMuYmF0Y2gudXBsb2FkKHJlbmRlckdyb3VwLmluc3RydWN0aW9uU2V0KTtcbiAgICBpZiAocmVuZGVyR3JvdXAuaXNDYWNoZWRBc1RleHR1cmUgJiYgIXJlbmRlckdyb3VwLnRleHR1cmVOZWVkc1VwZGF0ZSlcbiAgICAgIHJldHVybjtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlbmRlckdyb3VwLnJlbmRlckdyb3VwQ2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuX3VwZGF0ZVJlbmRlckdyb3VwcyhyZW5kZXJHcm91cC5yZW5kZXJHcm91cENoaWxkcmVuW2ldKTtcbiAgICB9XG4gIH1cbiAgX3VwZGF0ZVJlbmRlcmFibGVzKHJlbmRlckdyb3VwKSB7XG4gICAgY29uc3QgeyBsaXN0LCBpbmRleCB9ID0gcmVuZGVyR3JvdXAuY2hpbGRyZW5SZW5kZXJhYmxlc1RvVXBkYXRlO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW5kZXg7IGkrKykge1xuICAgICAgY29uc3QgY29udGFpbmVyID0gbGlzdFtpXTtcbiAgICAgIGlmIChjb250YWluZXIuZGlkVmlld1VwZGF0ZSkge1xuICAgICAgICByZW5kZXJHcm91cC51cGRhdGVSZW5kZXJhYmxlKGNvbnRhaW5lcik7XG4gICAgICB9XG4gICAgfVxuICAgIGNsZWFyTGlzdChsaXN0LCBpbmRleCk7XG4gIH1cbiAgX2J1aWxkSW5zdHJ1Y3Rpb25zKHJlbmRlckdyb3VwLCByZW5kZXJlck9yUGlwZXMpIHtcbiAgICBjb25zdCByb290ID0gcmVuZGVyR3JvdXAucm9vdDtcbiAgICBjb25zdCBpbnN0cnVjdGlvblNldCA9IHJlbmRlckdyb3VwLmluc3RydWN0aW9uU2V0O1xuICAgIGluc3RydWN0aW9uU2V0LnJlc2V0KCk7XG4gICAgY29uc3QgcmVuZGVyZXIgPSByZW5kZXJlck9yUGlwZXMucmVuZGVyUGlwZXMgPyByZW5kZXJlck9yUGlwZXMgOiByZW5kZXJlck9yUGlwZXMuYmF0Y2gucmVuZGVyZXI7XG4gICAgY29uc3QgcmVuZGVyUGlwZXMgPSByZW5kZXJlci5yZW5kZXJQaXBlcztcbiAgICByZW5kZXJQaXBlcy5iYXRjaC5idWlsZFN0YXJ0KGluc3RydWN0aW9uU2V0KTtcbiAgICByZW5kZXJQaXBlcy5ibGVuZE1vZGUuYnVpbGRTdGFydCgpO1xuICAgIHJlbmRlclBpcGVzLmNvbG9yTWFzay5idWlsZFN0YXJ0KCk7XG4gICAgaWYgKHJvb3Quc29ydGFibGVDaGlsZHJlbikge1xuICAgICAgcm9vdC5zb3J0Q2hpbGRyZW4oKTtcbiAgICB9XG4gICAgcm9vdC5jb2xsZWN0UmVuZGVyYWJsZXNXaXRoRWZmZWN0cyhpbnN0cnVjdGlvblNldCwgcmVuZGVyZXIsIG51bGwpO1xuICAgIHJlbmRlclBpcGVzLmJhdGNoLmJ1aWxkRW5kKGluc3RydWN0aW9uU2V0KTtcbiAgICByZW5kZXJQaXBlcy5ibGVuZE1vZGUuYnVpbGRFbmQoaW5zdHJ1Y3Rpb25TZXQpO1xuICB9XG59XG4vKiogQGlnbm9yZSAqL1xuUmVuZGVyR3JvdXBTeXN0ZW0uZXh0ZW5zaW9uID0ge1xuICB0eXBlOiBbXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHTFN5c3RlbSxcbiAgICBFeHRlbnNpb25UeXBlLldlYkdQVVN5c3RlbSxcbiAgICBFeHRlbnNpb25UeXBlLkNhbnZhc1N5c3RlbVxuICBdLFxuICBuYW1lOiBcInJlbmRlckdyb3VwXCJcbn07XG5cbmV4cG9ydCB7IFJlbmRlckdyb3VwU3lzdGVtIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1SZW5kZXJHcm91cFN5c3RlbS5tanMubWFwXG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIHZhbGlkYXRlUmVuZGVyYWJsZXMocmVuZGVyR3JvdXAsIHJlbmRlclBpcGVzKSB7XG4gIGNvbnN0IHsgbGlzdCB9ID0gcmVuZGVyR3JvdXAuY2hpbGRyZW5SZW5kZXJhYmxlc1RvVXBkYXRlO1xuICBsZXQgcmVidWlsZFJlcXVpcmVkID0gZmFsc2U7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcmVuZGVyR3JvdXAuY2hpbGRyZW5SZW5kZXJhYmxlc1RvVXBkYXRlLmluZGV4OyBpKyspIHtcbiAgICBjb25zdCBjb250YWluZXIgPSBsaXN0W2ldO1xuICAgIGNvbnN0IHJlbmRlcmFibGUgPSBjb250YWluZXI7XG4gICAgY29uc3QgcGlwZSA9IHJlbmRlclBpcGVzW3JlbmRlcmFibGUucmVuZGVyUGlwZUlkXTtcbiAgICByZWJ1aWxkUmVxdWlyZWQgPSBwaXBlLnZhbGlkYXRlUmVuZGVyYWJsZShjb250YWluZXIpO1xuICAgIGlmIChyZWJ1aWxkUmVxdWlyZWQpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICByZW5kZXJHcm91cC5zdHJ1Y3R1cmVEaWRDaGFuZ2UgPSByZWJ1aWxkUmVxdWlyZWQ7XG4gIHJldHVybiByZWJ1aWxkUmVxdWlyZWQ7XG59XG5cbmV4cG9ydCB7IHZhbGlkYXRlUmVuZGVyYWJsZXMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXZhbGlkYXRlUmVuZGVyYWJsZXMubWpzLm1hcFxuIiwiaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSB9IGZyb20gJy4uLy4uL2V4dGVuc2lvbnMvRXh0ZW5zaW9ucy5tanMnO1xuaW1wb3J0IHsgQmF0Y2hhYmxlU3ByaXRlIH0gZnJvbSAnLi9CYXRjaGFibGVTcHJpdGUubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jbGFzcyBTcHJpdGVQaXBlIHtcbiAgY29uc3RydWN0b3IocmVuZGVyZXIpIHtcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICB9XG4gIGFkZFJlbmRlcmFibGUoc3ByaXRlLCBpbnN0cnVjdGlvblNldCkge1xuICAgIGNvbnN0IGdwdVNwcml0ZSA9IHRoaXMuX2dldEdwdVNwcml0ZShzcHJpdGUpO1xuICAgIGlmIChzcHJpdGUuZGlkVmlld1VwZGF0ZSlcbiAgICAgIHRoaXMuX3VwZGF0ZUJhdGNoYWJsZVNwcml0ZShzcHJpdGUsIGdwdVNwcml0ZSk7XG4gICAgdGhpcy5fcmVuZGVyZXIucmVuZGVyUGlwZXMuYmF0Y2guYWRkVG9CYXRjaChncHVTcHJpdGUsIGluc3RydWN0aW9uU2V0KTtcbiAgfVxuICB1cGRhdGVSZW5kZXJhYmxlKHNwcml0ZSkge1xuICAgIGNvbnN0IGdwdVNwcml0ZSA9IHRoaXMuX2dldEdwdVNwcml0ZShzcHJpdGUpO1xuICAgIGlmIChzcHJpdGUuZGlkVmlld1VwZGF0ZSlcbiAgICAgIHRoaXMuX3VwZGF0ZUJhdGNoYWJsZVNwcml0ZShzcHJpdGUsIGdwdVNwcml0ZSk7XG4gICAgZ3B1U3ByaXRlLl9iYXRjaGVyLnVwZGF0ZUVsZW1lbnQoZ3B1U3ByaXRlKTtcbiAgfVxuICB2YWxpZGF0ZVJlbmRlcmFibGUoc3ByaXRlKSB7XG4gICAgY29uc3QgZ3B1U3ByaXRlID0gdGhpcy5fZ2V0R3B1U3ByaXRlKHNwcml0ZSk7XG4gICAgcmV0dXJuICFncHVTcHJpdGUuX2JhdGNoZXIuY2hlY2tBbmRVcGRhdGVUZXh0dXJlKFxuICAgICAgZ3B1U3ByaXRlLFxuICAgICAgc3ByaXRlLl90ZXh0dXJlXG4gICAgKTtcbiAgfVxuICBfdXBkYXRlQmF0Y2hhYmxlU3ByaXRlKHNwcml0ZSwgYmF0Y2hhYmxlU3ByaXRlKSB7XG4gICAgYmF0Y2hhYmxlU3ByaXRlLmJvdW5kcyA9IHNwcml0ZS52aXN1YWxCb3VuZHM7XG4gICAgYmF0Y2hhYmxlU3ByaXRlLnRleHR1cmUgPSBzcHJpdGUuX3RleHR1cmU7XG4gIH1cbiAgX2dldEdwdVNwcml0ZShzcHJpdGUpIHtcbiAgICByZXR1cm4gc3ByaXRlLl9ncHVEYXRhW3RoaXMuX3JlbmRlcmVyLnVpZF0gfHwgdGhpcy5faW5pdEdQVVNwcml0ZShzcHJpdGUpO1xuICB9XG4gIF9pbml0R1BVU3ByaXRlKHNwcml0ZSkge1xuICAgIGNvbnN0IGJhdGNoYWJsZVNwcml0ZSA9IG5ldyBCYXRjaGFibGVTcHJpdGUoKTtcbiAgICBiYXRjaGFibGVTcHJpdGUucmVuZGVyYWJsZSA9IHNwcml0ZTtcbiAgICBiYXRjaGFibGVTcHJpdGUudHJhbnNmb3JtID0gc3ByaXRlLmdyb3VwVHJhbnNmb3JtO1xuICAgIGJhdGNoYWJsZVNwcml0ZS50ZXh0dXJlID0gc3ByaXRlLl90ZXh0dXJlO1xuICAgIGJhdGNoYWJsZVNwcml0ZS5ib3VuZHMgPSBzcHJpdGUudmlzdWFsQm91bmRzO1xuICAgIGJhdGNoYWJsZVNwcml0ZS5yb3VuZFBpeGVscyA9IHRoaXMuX3JlbmRlcmVyLl9yb3VuZFBpeGVscyB8IHNwcml0ZS5fcm91bmRQaXhlbHM7XG4gICAgc3ByaXRlLl9ncHVEYXRhW3RoaXMuX3JlbmRlcmVyLnVpZF0gPSBiYXRjaGFibGVTcHJpdGU7XG4gICAgcmV0dXJuIGJhdGNoYWJsZVNwcml0ZTtcbiAgfVxuICBkZXN0cm95KCkge1xuICAgIHRoaXMuX3JlbmRlcmVyID0gbnVsbDtcbiAgfVxufVxuLyoqIEBpZ25vcmUgKi9cblNwcml0ZVBpcGUuZXh0ZW5zaW9uID0ge1xuICB0eXBlOiBbXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHTFBpcGVzLFxuICAgIEV4dGVuc2lvblR5cGUuV2ViR1BVUGlwZXMsXG4gICAgRXh0ZW5zaW9uVHlwZS5DYW52YXNQaXBlc1xuICBdLFxuICBuYW1lOiBcInNwcml0ZVwiXG59O1xuXG5leHBvcnQgeyBTcHJpdGVQaXBlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TcHJpdGVQaXBlLm1qcy5tYXBcbiIsImltcG9ydCB7IEV4dGVuc2lvblR5cGUsIGV4dGVuc2lvbnMgfSBmcm9tICcuLi8uLi8uLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcbmltcG9ydCB7IFN0YXRlIH0gZnJvbSAnLi4vLi4vcmVuZGVyZXJzL3NoYXJlZC9zdGF0ZS9TdGF0ZS5tanMnO1xuaW1wb3J0IHsgRGVmYXVsdEJhdGNoZXIgfSBmcm9tICcuL0RlZmF1bHRCYXRjaGVyLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY29uc3QgX0JhdGNoZXJQaXBlID0gY2xhc3MgX0JhdGNoZXJQaXBlIHtcbiAgY29uc3RydWN0b3IocmVuZGVyZXIsIGFkYXB0b3IpIHtcbiAgICB0aGlzLnN0YXRlID0gU3RhdGUuZm9yMmQoKTtcbiAgICB0aGlzLl9iYXRjaGVyc0J5SW5zdHJ1Y3Rpb25TZXQgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAvKiogQSByZWNvcmQgb2YgYWxsIGFjdGl2ZSBiYXRjaGVycywga2V5ZWQgYnkgdGhlaXIgbmFtZXMgKi9cbiAgICB0aGlzLl9hY3RpdmVCYXRjaGVzID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIHRoaXMuX2FkYXB0b3IgPSBhZGFwdG9yO1xuICAgIHRoaXMuX2FkYXB0b3IuaW5pdD8uKHRoaXMpO1xuICB9XG4gIHN0YXRpYyBnZXRCYXRjaGVyKG5hbWUpIHtcbiAgICByZXR1cm4gbmV3IHRoaXMuX2F2YWlsYWJsZUJhdGNoZXJzW25hbWVdKCk7XG4gIH1cbiAgYnVpbGRTdGFydChpbnN0cnVjdGlvblNldCkge1xuICAgIGxldCBiYXRjaGVycyA9IHRoaXMuX2JhdGNoZXJzQnlJbnN0cnVjdGlvblNldFtpbnN0cnVjdGlvblNldC51aWRdO1xuICAgIGlmICghYmF0Y2hlcnMpIHtcbiAgICAgIGJhdGNoZXJzID0gdGhpcy5fYmF0Y2hlcnNCeUluc3RydWN0aW9uU2V0W2luc3RydWN0aW9uU2V0LnVpZF0gPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgIGJhdGNoZXJzLmRlZmF1bHQgfHwgKGJhdGNoZXJzLmRlZmF1bHQgPSBuZXcgRGVmYXVsdEJhdGNoZXIoe1xuICAgICAgICBtYXhUZXh0dXJlczogdGhpcy5yZW5kZXJlci5saW1pdHMubWF4QmF0Y2hhYmxlVGV4dHVyZXNcbiAgICAgIH0pKTtcbiAgICB9XG4gICAgdGhpcy5fYWN0aXZlQmF0Y2hlcyA9IGJhdGNoZXJzO1xuICAgIHRoaXMuX2FjdGl2ZUJhdGNoID0gdGhpcy5fYWN0aXZlQmF0Y2hlcy5kZWZhdWx0O1xuICAgIGZvciAoY29uc3QgaSBpbiB0aGlzLl9hY3RpdmVCYXRjaGVzKSB7XG4gICAgICB0aGlzLl9hY3RpdmVCYXRjaGVzW2ldLmJlZ2luKCk7XG4gICAgfVxuICB9XG4gIGFkZFRvQmF0Y2goYmF0Y2hhYmxlT2JqZWN0LCBpbnN0cnVjdGlvblNldCkge1xuICAgIGlmICh0aGlzLl9hY3RpdmVCYXRjaC5uYW1lICE9PSBiYXRjaGFibGVPYmplY3QuYmF0Y2hlck5hbWUpIHtcbiAgICAgIHRoaXMuX2FjdGl2ZUJhdGNoLmJyZWFrKGluc3RydWN0aW9uU2V0KTtcbiAgICAgIGxldCBiYXRjaCA9IHRoaXMuX2FjdGl2ZUJhdGNoZXNbYmF0Y2hhYmxlT2JqZWN0LmJhdGNoZXJOYW1lXTtcbiAgICAgIGlmICghYmF0Y2gpIHtcbiAgICAgICAgYmF0Y2ggPSB0aGlzLl9hY3RpdmVCYXRjaGVzW2JhdGNoYWJsZU9iamVjdC5iYXRjaGVyTmFtZV0gPSBfQmF0Y2hlclBpcGUuZ2V0QmF0Y2hlcihiYXRjaGFibGVPYmplY3QuYmF0Y2hlck5hbWUpO1xuICAgICAgICBiYXRjaC5iZWdpbigpO1xuICAgICAgfVxuICAgICAgdGhpcy5fYWN0aXZlQmF0Y2ggPSBiYXRjaDtcbiAgICB9XG4gICAgdGhpcy5fYWN0aXZlQmF0Y2guYWRkKGJhdGNoYWJsZU9iamVjdCk7XG4gIH1cbiAgYnJlYWsoaW5zdHJ1Y3Rpb25TZXQpIHtcbiAgICB0aGlzLl9hY3RpdmVCYXRjaC5icmVhayhpbnN0cnVjdGlvblNldCk7XG4gIH1cbiAgYnVpbGRFbmQoaW5zdHJ1Y3Rpb25TZXQpIHtcbiAgICB0aGlzLl9hY3RpdmVCYXRjaC5icmVhayhpbnN0cnVjdGlvblNldCk7XG4gICAgY29uc3QgYmF0Y2hlcyA9IHRoaXMuX2FjdGl2ZUJhdGNoZXM7XG4gICAgZm9yIChjb25zdCBpIGluIGJhdGNoZXMpIHtcbiAgICAgIGNvbnN0IGJhdGNoID0gYmF0Y2hlc1tpXTtcbiAgICAgIGNvbnN0IGdlb21ldHJ5ID0gYmF0Y2guZ2VvbWV0cnk7XG4gICAgICBnZW9tZXRyeS5pbmRleEJ1ZmZlci5zZXREYXRhV2l0aFNpemUoYmF0Y2guaW5kZXhCdWZmZXIsIGJhdGNoLmluZGV4U2l6ZSwgdHJ1ZSk7XG4gICAgICBnZW9tZXRyeS5idWZmZXJzWzBdLnNldERhdGFXaXRoU2l6ZShiYXRjaC5hdHRyaWJ1dGVCdWZmZXIuZmxvYXQzMlZpZXcsIGJhdGNoLmF0dHJpYnV0ZVNpemUsIGZhbHNlKTtcbiAgICB9XG4gIH1cbiAgdXBsb2FkKGluc3RydWN0aW9uU2V0KSB7XG4gICAgY29uc3QgYmF0Y2hlcnMgPSB0aGlzLl9iYXRjaGVyc0J5SW5zdHJ1Y3Rpb25TZXRbaW5zdHJ1Y3Rpb25TZXQudWlkXTtcbiAgICBmb3IgKGNvbnN0IGkgaW4gYmF0Y2hlcnMpIHtcbiAgICAgIGNvbnN0IGJhdGNoZXIgPSBiYXRjaGVyc1tpXTtcbiAgICAgIGNvbnN0IGdlb21ldHJ5ID0gYmF0Y2hlci5nZW9tZXRyeTtcbiAgICAgIGlmIChiYXRjaGVyLmRpcnR5KSB7XG4gICAgICAgIGJhdGNoZXIuZGlydHkgPSBmYWxzZTtcbiAgICAgICAgZ2VvbWV0cnkuYnVmZmVyc1swXS51cGRhdGUoYmF0Y2hlci5hdHRyaWJ1dGVTaXplICogNCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGV4ZWN1dGUoYmF0Y2gpIHtcbiAgICBpZiAoYmF0Y2guYWN0aW9uID09PSBcInN0YXJ0QmF0Y2hcIikge1xuICAgICAgY29uc3QgYmF0Y2hlciA9IGJhdGNoLmJhdGNoZXI7XG4gICAgICBjb25zdCBnZW9tZXRyeSA9IGJhdGNoZXIuZ2VvbWV0cnk7XG4gICAgICBjb25zdCBzaGFkZXIgPSBiYXRjaGVyLnNoYWRlcjtcbiAgICAgIHRoaXMuX2FkYXB0b3Iuc3RhcnQodGhpcywgZ2VvbWV0cnksIHNoYWRlcik7XG4gICAgfVxuICAgIHRoaXMuX2FkYXB0b3IuZXhlY3V0ZSh0aGlzLCBiYXRjaCk7XG4gIH1cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLnN0YXRlID0gbnVsbDtcbiAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcbiAgICB0aGlzLl9hZGFwdG9yID0gbnVsbDtcbiAgICBmb3IgKGNvbnN0IGkgaW4gdGhpcy5fYWN0aXZlQmF0Y2hlcykge1xuICAgICAgdGhpcy5fYWN0aXZlQmF0Y2hlc1tpXS5kZXN0cm95KCk7XG4gICAgfVxuICAgIHRoaXMuX2FjdGl2ZUJhdGNoZXMgPSBudWxsO1xuICB9XG59O1xuLyoqIEBpZ25vcmUgKi9cbl9CYXRjaGVyUGlwZS5leHRlbnNpb24gPSB7XG4gIHR5cGU6IFtcbiAgICBFeHRlbnNpb25UeXBlLldlYkdMUGlwZXMsXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHUFVQaXBlcyxcbiAgICBFeHRlbnNpb25UeXBlLkNhbnZhc1BpcGVzXG4gIF0sXG4gIG5hbWU6IFwiYmF0Y2hcIlxufTtcbl9CYXRjaGVyUGlwZS5fYXZhaWxhYmxlQmF0Y2hlcnMgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcbmxldCBCYXRjaGVyUGlwZSA9IF9CYXRjaGVyUGlwZTtcbmV4dGVuc2lvbnMuaGFuZGxlQnlNYXAoRXh0ZW5zaW9uVHlwZS5CYXRjaGVyLCBCYXRjaGVyUGlwZS5fYXZhaWxhYmxlQmF0Y2hlcnMpO1xuZXh0ZW5zaW9ucy5hZGQoRGVmYXVsdEJhdGNoZXIpO1xuXG5leHBvcnQgeyBCYXRjaGVyUGlwZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QmF0Y2hlclBpcGUubWpzLm1hcFxuIiwidmFyIHNvdXJjZSA9IFwic3RydWN0IEdsb2JhbEZpbHRlclVuaWZvcm1zIHtcXG4gIHVJbnB1dFNpemU6dmVjNDxmMzI+LFxcbiAgdUlucHV0UGl4ZWw6dmVjNDxmMzI+LFxcbiAgdUlucHV0Q2xhbXA6dmVjNDxmMzI+LFxcbiAgdU91dHB1dEZyYW1lOnZlYzQ8ZjMyPixcXG4gIHVHbG9iYWxGcmFtZTp2ZWM0PGYzMj4sXFxuICB1T3V0cHV0VGV4dHVyZTp2ZWM0PGYzMj4sXFxufTtcXG5cXG5zdHJ1Y3QgTWFza1VuaWZvcm1zIHtcXG4gIHVGaWx0ZXJNYXRyaXg6bWF0M3gzPGYzMj4sXFxuICB1TWFza0NsYW1wOnZlYzQ8ZjMyPixcXG4gIHVBbHBoYTpmMzIsXFxuICB1SW52ZXJzZTpmMzIsXFxufTtcXG5cXG5AZ3JvdXAoMCkgQGJpbmRpbmcoMCkgdmFyPHVuaWZvcm0+IGdmdTogR2xvYmFsRmlsdGVyVW5pZm9ybXM7XFxuQGdyb3VwKDApIEBiaW5kaW5nKDEpIHZhciB1VGV4dHVyZTogdGV4dHVyZV8yZDxmMzI+O1xcbkBncm91cCgwKSBAYmluZGluZygyKSB2YXIgdVNhbXBsZXIgOiBzYW1wbGVyO1xcblxcbkBncm91cCgxKSBAYmluZGluZygwKSB2YXI8dW5pZm9ybT4gZmlsdGVyVW5pZm9ybXMgOiBNYXNrVW5pZm9ybXM7XFxuQGdyb3VwKDEpIEBiaW5kaW5nKDEpIHZhciB1TWFza1RleHR1cmU6IHRleHR1cmVfMmQ8ZjMyPjtcXG5cXG5zdHJ1Y3QgVlNPdXRwdXQge1xcbiAgICBAYnVpbHRpbihwb3NpdGlvbikgcG9zaXRpb246IHZlYzQ8ZjMyPixcXG4gICAgQGxvY2F0aW9uKDApIHV2IDogdmVjMjxmMzI+LFxcbiAgICBAbG9jYXRpb24oMSkgZmlsdGVyVXYgOiB2ZWMyPGYzMj4sXFxufTtcXG5cXG5mbiBmaWx0ZXJWZXJ0ZXhQb3NpdGlvbihhUG9zaXRpb246dmVjMjxmMzI+KSAtPiB2ZWM0PGYzMj5cXG57XFxuICAgIHZhciBwb3NpdGlvbiA9IGFQb3NpdGlvbiAqIGdmdS51T3V0cHV0RnJhbWUuencgKyBnZnUudU91dHB1dEZyYW1lLnh5O1xcblxcbiAgICBwb3NpdGlvbi54ID0gcG9zaXRpb24ueCAqICgyLjAgLyBnZnUudU91dHB1dFRleHR1cmUueCkgLSAxLjA7XFxuICAgIHBvc2l0aW9uLnkgPSBwb3NpdGlvbi55ICogKDIuMCpnZnUudU91dHB1dFRleHR1cmUueiAvIGdmdS51T3V0cHV0VGV4dHVyZS55KSAtIGdmdS51T3V0cHV0VGV4dHVyZS56O1xcblxcbiAgICByZXR1cm4gdmVjNChwb3NpdGlvbiwgMC4wLCAxLjApO1xcbn1cXG5cXG5mbiBmaWx0ZXJUZXh0dXJlQ29vcmQoIGFQb3NpdGlvbjp2ZWMyPGYzMj4gKSAtPiB2ZWMyPGYzMj5cXG57XFxuICAgIHJldHVybiBhUG9zaXRpb24gKiAoZ2Z1LnVPdXRwdXRGcmFtZS56dyAqIGdmdS51SW5wdXRTaXplLnp3KTtcXG59XFxuXFxuZm4gZ2xvYmFsVGV4dHVyZUNvb3JkKCBhUG9zaXRpb246dmVjMjxmMzI+ICkgLT4gdmVjMjxmMzI+XFxue1xcbiAgcmV0dXJuICAoYVBvc2l0aW9uLnh5IC8gZ2Z1LnVHbG9iYWxGcmFtZS56dykgKyAoZ2Z1LnVHbG9iYWxGcmFtZS54eSAvIGdmdS51R2xvYmFsRnJhbWUuencpO1xcbn1cXG5cXG5mbiBnZXRGaWx0ZXJDb29yZChhUG9zaXRpb246dmVjMjxmMzI+ICkgLT4gdmVjMjxmMzI+XFxue1xcbiAgcmV0dXJuICggZmlsdGVyVW5pZm9ybXMudUZpbHRlck1hdHJpeCAqIHZlYzMoIGZpbHRlclRleHR1cmVDb29yZChhUG9zaXRpb24pLCAxLjApICApLnh5O1xcbn1cXG5cXG5mbiBnZXRTaXplKCkgLT4gdmVjMjxmMzI+XFxue1xcbiAgcmV0dXJuIGdmdS51R2xvYmFsRnJhbWUuenc7XFxufVxcblxcbkB2ZXJ0ZXhcXG5mbiBtYWluVmVydGV4KFxcbiAgQGxvY2F0aW9uKDApIGFQb3NpdGlvbiA6IHZlYzI8ZjMyPixcXG4pIC0+IFZTT3V0cHV0IHtcXG4gIHJldHVybiBWU091dHB1dChcXG4gICBmaWx0ZXJWZXJ0ZXhQb3NpdGlvbihhUG9zaXRpb24pLFxcbiAgIGZpbHRlclRleHR1cmVDb29yZChhUG9zaXRpb24pLFxcbiAgIGdldEZpbHRlckNvb3JkKGFQb3NpdGlvbilcXG4gICk7XFxufVxcblxcbkBmcmFnbWVudFxcbmZuIG1haW5GcmFnbWVudChcXG4gIEBsb2NhdGlvbigwKSB1djogdmVjMjxmMzI+LFxcbiAgQGxvY2F0aW9uKDEpIGZpbHRlclV2OiB2ZWMyPGYzMj4sXFxuICBAYnVpbHRpbihwb3NpdGlvbikgcG9zaXRpb246IHZlYzQ8ZjMyPlxcbikgLT4gQGxvY2F0aW9uKDApIHZlYzQ8ZjMyPiB7XFxuXFxuICAgIHZhciBtYXNrQ2xhbXAgPSBmaWx0ZXJVbmlmb3Jtcy51TWFza0NsYW1wO1xcbiAgICB2YXIgdUFscGhhID0gZmlsdGVyVW5pZm9ybXMudUFscGhhO1xcblxcbiAgICB2YXIgY2xpcCA9IHN0ZXAoMy41LFxcbiAgICAgIHN0ZXAobWFza0NsYW1wLngsIGZpbHRlclV2LngpICtcXG4gICAgICBzdGVwKG1hc2tDbGFtcC55LCBmaWx0ZXJVdi55KSArXFxuICAgICAgc3RlcChmaWx0ZXJVdi54LCBtYXNrQ2xhbXAueikgK1xcbiAgICAgIHN0ZXAoZmlsdGVyVXYueSwgbWFza0NsYW1wLncpKTtcXG5cXG4gICAgdmFyIG1hc2sgPSB0ZXh0dXJlU2FtcGxlKHVNYXNrVGV4dHVyZSwgdVNhbXBsZXIsIGZpbHRlclV2KTtcXG4gICAgdmFyIHNvdXJjZSA9IHRleHR1cmVTYW1wbGUodVRleHR1cmUsIHVTYW1wbGVyLCB1dik7XFxuICAgIHZhciBhbHBoYU11bCA9IDEuMCAtIHVBbHBoYSAqICgxLjAgLSBtYXNrLmEpO1xcblxcbiAgICB2YXIgYTogZjMyID0gYWxwaGFNdWwgKiBtYXNrLnIgKiB1QWxwaGEgKiBjbGlwO1xcblxcbiAgICBpZiAoZmlsdGVyVW5pZm9ybXMudUludmVyc2UgPT0gMS4wKSB7XFxuICAgICAgICBhID0gMS4wIC0gYTtcXG4gICAgfVxcblxcbiAgICByZXR1cm4gc291cmNlICogYTtcXG59XFxuXCI7XG5cbmV4cG9ydCB7IHNvdXJjZSBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXNrLndnc2wubWpzLm1hcFxuIiwiaW1wb3J0IHsgTWF0cml4IH0gZnJvbSAnLi4vLi4vbWF0aHMvbWF0cml4L01hdHJpeC5tanMnO1xuaW1wb3J0IHsgR2xQcm9ncmFtIH0gZnJvbSAnLi4vLi4vcmVuZGVyaW5nL3JlbmRlcmVycy9nbC9zaGFkZXIvR2xQcm9ncmFtLm1qcyc7XG5pbXBvcnQgeyBHcHVQcm9ncmFtIH0gZnJvbSAnLi4vLi4vcmVuZGVyaW5nL3JlbmRlcmVycy9ncHUvc2hhZGVyL0dwdVByb2dyYW0ubWpzJztcbmltcG9ydCB7IFVuaWZvcm1Hcm91cCB9IGZyb20gJy4uLy4uL3JlbmRlcmluZy9yZW5kZXJlcnMvc2hhcmVkL3NoYWRlci9Vbmlmb3JtR3JvdXAubWpzJztcbmltcG9ydCB7IFRleHR1cmVNYXRyaXggfSBmcm9tICcuLi8uLi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC90ZXh0dXJlL1RleHR1cmVNYXRyaXgubWpzJztcbmltcG9ydCB7IEZpbHRlciB9IGZyb20gJy4uL0ZpbHRlci5tanMnO1xuaW1wb3J0IGZyYWdtZW50IGZyb20gJy4vbWFzay5mcmFnLm1qcyc7XG5pbXBvcnQgdmVydGV4IGZyb20gJy4vbWFzay52ZXJ0Lm1qcyc7XG5pbXBvcnQgc291cmNlIGZyb20gJy4vbWFzay53Z3NsLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY2xhc3MgTWFza0ZpbHRlciBleHRlbmRzIEZpbHRlciB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICBjb25zdCB7IHNwcml0ZSwgLi4ucmVzdCB9ID0gb3B0aW9ucztcbiAgICBjb25zdCB0ZXh0dXJlTWF0cml4ID0gbmV3IFRleHR1cmVNYXRyaXgoc3ByaXRlLnRleHR1cmUpO1xuICAgIGNvbnN0IGZpbHRlclVuaWZvcm1zID0gbmV3IFVuaWZvcm1Hcm91cCh7XG4gICAgICB1RmlsdGVyTWF0cml4OiB7IHZhbHVlOiBuZXcgTWF0cml4KCksIHR5cGU6IFwibWF0M3gzPGYzMj5cIiB9LFxuICAgICAgdU1hc2tDbGFtcDogeyB2YWx1ZTogdGV4dHVyZU1hdHJpeC51Q2xhbXBGcmFtZSwgdHlwZTogXCJ2ZWM0PGYzMj5cIiB9LFxuICAgICAgdUFscGhhOiB7IHZhbHVlOiAxLCB0eXBlOiBcImYzMlwiIH0sXG4gICAgICB1SW52ZXJzZTogeyB2YWx1ZTogb3B0aW9ucy5pbnZlcnNlID8gMSA6IDAsIHR5cGU6IFwiZjMyXCIgfVxuICAgIH0pO1xuICAgIGNvbnN0IGdwdVByb2dyYW0gPSBHcHVQcm9ncmFtLmZyb20oe1xuICAgICAgdmVydGV4OiB7XG4gICAgICAgIHNvdXJjZSxcbiAgICAgICAgZW50cnlQb2ludDogXCJtYWluVmVydGV4XCJcbiAgICAgIH0sXG4gICAgICBmcmFnbWVudDoge1xuICAgICAgICBzb3VyY2UsXG4gICAgICAgIGVudHJ5UG9pbnQ6IFwibWFpbkZyYWdtZW50XCJcbiAgICAgIH1cbiAgICB9KTtcbiAgICBjb25zdCBnbFByb2dyYW0gPSBHbFByb2dyYW0uZnJvbSh7XG4gICAgICB2ZXJ0ZXgsXG4gICAgICBmcmFnbWVudCxcbiAgICAgIG5hbWU6IFwibWFzay1maWx0ZXJcIlxuICAgIH0pO1xuICAgIHN1cGVyKHtcbiAgICAgIC4uLnJlc3QsXG4gICAgICBncHVQcm9ncmFtLFxuICAgICAgZ2xQcm9ncmFtLFxuICAgICAgY2xpcFRvVmlld3BvcnQ6IGZhbHNlLFxuICAgICAgcmVzb3VyY2VzOiB7XG4gICAgICAgIGZpbHRlclVuaWZvcm1zLFxuICAgICAgICB1TWFza1RleHR1cmU6IHNwcml0ZS50ZXh0dXJlLnNvdXJjZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuc3ByaXRlID0gc3ByaXRlO1xuICAgIHRoaXMuX3RleHR1cmVNYXRyaXggPSB0ZXh0dXJlTWF0cml4O1xuICB9XG4gIHNldCBpbnZlcnNlKHZhbHVlKSB7XG4gICAgdGhpcy5yZXNvdXJjZXMuZmlsdGVyVW5pZm9ybXMudW5pZm9ybXMudUludmVyc2UgPSB2YWx1ZSA/IDEgOiAwO1xuICB9XG4gIGdldCBpbnZlcnNlKCkge1xuICAgIHJldHVybiB0aGlzLnJlc291cmNlcy5maWx0ZXJVbmlmb3Jtcy51bmlmb3Jtcy51SW52ZXJzZSA9PT0gMTtcbiAgfVxuICBhcHBseShmaWx0ZXJNYW5hZ2VyLCBpbnB1dCwgb3V0cHV0LCBjbGVhck1vZGUpIHtcbiAgICB0aGlzLl90ZXh0dXJlTWF0cml4LnRleHR1cmUgPSB0aGlzLnNwcml0ZS50ZXh0dXJlO1xuICAgIGZpbHRlck1hbmFnZXIuY2FsY3VsYXRlU3ByaXRlTWF0cml4KFxuICAgICAgdGhpcy5yZXNvdXJjZXMuZmlsdGVyVW5pZm9ybXMudW5pZm9ybXMudUZpbHRlck1hdHJpeCxcbiAgICAgIHRoaXMuc3ByaXRlXG4gICAgKS5wcmVwZW5kKHRoaXMuX3RleHR1cmVNYXRyaXgubWFwQ29vcmQpO1xuICAgIHRoaXMucmVzb3VyY2VzLnVNYXNrVGV4dHVyZSA9IHRoaXMuc3ByaXRlLnRleHR1cmUuc291cmNlO1xuICAgIGZpbHRlck1hbmFnZXIuYXBwbHlGaWx0ZXIodGhpcywgaW5wdXQsIG91dHB1dCwgY2xlYXJNb2RlKTtcbiAgfVxufVxuXG5leHBvcnQgeyBNYXNrRmlsdGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1NYXNrRmlsdGVyLm1qcy5tYXBcbiIsInZhciB2ZXJ0ZXggPSBcImluIHZlYzIgYVBvc2l0aW9uO1xcblxcbm91dCB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxub3V0IHZlYzIgdk1hc2tDb29yZDtcXG5cXG5cXG51bmlmb3JtIHZlYzQgdUlucHV0U2l6ZTtcXG51bmlmb3JtIHZlYzQgdU91dHB1dEZyYW1lO1xcbnVuaWZvcm0gdmVjNCB1T3V0cHV0VGV4dHVyZTtcXG51bmlmb3JtIG1hdDMgdUZpbHRlck1hdHJpeDtcXG5cXG52ZWM0IGZpbHRlclZlcnRleFBvc2l0aW9uKCAgdmVjMiBhUG9zaXRpb24gKVxcbntcXG4gICAgdmVjMiBwb3NpdGlvbiA9IGFQb3NpdGlvbiAqIHVPdXRwdXRGcmFtZS56dyArIHVPdXRwdXRGcmFtZS54eTtcXG4gICAgICAgXFxuICAgIHBvc2l0aW9uLnggPSBwb3NpdGlvbi54ICogKDIuMCAvIHVPdXRwdXRUZXh0dXJlLngpIC0gMS4wO1xcbiAgICBwb3NpdGlvbi55ID0gcG9zaXRpb24ueSAqICgyLjAqdU91dHB1dFRleHR1cmUueiAvIHVPdXRwdXRUZXh0dXJlLnkpIC0gdU91dHB1dFRleHR1cmUuejtcXG5cXG4gICAgcmV0dXJuIHZlYzQocG9zaXRpb24sIDAuMCwgMS4wKTtcXG59XFxuXFxudmVjMiBmaWx0ZXJUZXh0dXJlQ29vcmQoICB2ZWMyIGFQb3NpdGlvbiApXFxue1xcbiAgICByZXR1cm4gYVBvc2l0aW9uICogKHVPdXRwdXRGcmFtZS56dyAqIHVJbnB1dFNpemUuencpO1xcbn1cXG5cXG52ZWMyIGdldEZpbHRlckNvb3JkKCB2ZWMyIGFQb3NpdGlvbiApXFxue1xcbiAgICByZXR1cm4gICggdUZpbHRlck1hdHJpeCAqIHZlYzMoIGZpbHRlclRleHR1cmVDb29yZChhUG9zaXRpb24pLCAxLjApICApLnh5O1xcbn0gICBcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIGdsX1Bvc2l0aW9uID0gZmlsdGVyVmVydGV4UG9zaXRpb24oYVBvc2l0aW9uKTtcXG4gICAgdlRleHR1cmVDb29yZCA9IGZpbHRlclRleHR1cmVDb29yZChhUG9zaXRpb24pO1xcbiAgICB2TWFza0Nvb3JkID0gZ2V0RmlsdGVyQ29vcmQoYVBvc2l0aW9uKTtcXG59XFxuXCI7XG5cbmV4cG9ydCB7IHZlcnRleCBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXNrLnZlcnQubWpzLm1hcFxuIiwidmFyIGZyYWdtZW50ID0gXCJpbiB2ZWMyIHZNYXNrQ29vcmQ7XFxuaW4gdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gc2FtcGxlcjJEIHVUZXh0dXJlO1xcbnVuaWZvcm0gc2FtcGxlcjJEIHVNYXNrVGV4dHVyZTtcXG5cXG51bmlmb3JtIGZsb2F0IHVBbHBoYTtcXG51bmlmb3JtIHZlYzQgdU1hc2tDbGFtcDtcXG51bmlmb3JtIGZsb2F0IHVJbnZlcnNlO1xcblxcbm91dCB2ZWM0IGZpbmFsQ29sb3I7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgICBmbG9hdCBjbGlwID0gc3RlcCgzLjUsXFxuICAgICAgICBzdGVwKHVNYXNrQ2xhbXAueCwgdk1hc2tDb29yZC54KSArXFxuICAgICAgICBzdGVwKHVNYXNrQ2xhbXAueSwgdk1hc2tDb29yZC55KSArXFxuICAgICAgICBzdGVwKHZNYXNrQ29vcmQueCwgdU1hc2tDbGFtcC56KSArXFxuICAgICAgICBzdGVwKHZNYXNrQ29vcmQueSwgdU1hc2tDbGFtcC53KSk7XFxuXFxuICAgIC8vIFRPRE8gbG9vayBpbnRvIHdoeSB0aGlzIGlzIG5lZWRlZFxcbiAgICBmbG9hdCBucG1BbHBoYSA9IHVBbHBoYTtcXG4gICAgdmVjNCBvcmlnaW5hbCA9IHRleHR1cmUodVRleHR1cmUsIHZUZXh0dXJlQ29vcmQpO1xcbiAgICB2ZWM0IG1hc2t5ID0gdGV4dHVyZSh1TWFza1RleHR1cmUsIHZNYXNrQ29vcmQpO1xcbiAgICBmbG9hdCBhbHBoYU11bCA9IDEuMCAtIG5wbUFscGhhICogKDEuMCAtIG1hc2t5LmEpO1xcblxcbiAgICBmbG9hdCBhID0gYWxwaGFNdWwgKiBtYXNreS5yICogbnBtQWxwaGEgKiBjbGlwO1xcblxcbiAgICBpZiAodUludmVyc2UgPT0gMS4wKSB7XFxuICAgICAgICBhID0gMS4wIC0gYTtcXG4gICAgfVxcblxcbiAgICBmaW5hbENvbG9yID0gb3JpZ2luYWwgKiBhO1xcbn1cXG5cIjtcblxuZXhwb3J0IHsgZnJhZ21lbnQgYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFzay5mcmFnLm1qcy5tYXBcbiIsImltcG9ydCB7IEV4dGVuc2lvblR5cGUgfSBmcm9tICcuLi8uLi8uLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcbmltcG9ydCB7IEZpbHRlckVmZmVjdCB9IGZyb20gJy4uLy4uLy4uL2ZpbHRlcnMvRmlsdGVyRWZmZWN0Lm1qcyc7XG5pbXBvcnQgeyBNYXNrRmlsdGVyIH0gZnJvbSAnLi4vLi4vLi4vZmlsdGVycy9tYXNrL01hc2tGaWx0ZXIubWpzJztcbmltcG9ydCB7IEJvdW5kcyB9IGZyb20gJy4uLy4uLy4uL3NjZW5lL2NvbnRhaW5lci9ib3VuZHMvQm91bmRzLm1qcyc7XG5pbXBvcnQgeyBnZXRHbG9iYWxCb3VuZHMgfSBmcm9tICcuLi8uLi8uLi9zY2VuZS9jb250YWluZXIvYm91bmRzL2dldEdsb2JhbEJvdW5kcy5tanMnO1xuaW1wb3J0IHsgU3ByaXRlIH0gZnJvbSAnLi4vLi4vLi4vc2NlbmUvc3ByaXRlL1Nwcml0ZS5tanMnO1xuaW1wb3J0IHsgQmlnUG9vbCB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL3Bvb2wvUG9vbEdyb3VwLm1qcyc7XG5pbXBvcnQgeyBUZXh0dXJlIH0gZnJvbSAnLi4vLi4vcmVuZGVyZXJzL3NoYXJlZC90ZXh0dXJlL1RleHR1cmUubWpzJztcbmltcG9ydCB7IFRleHR1cmVQb29sIH0gZnJvbSAnLi4vLi4vcmVuZGVyZXJzL3NoYXJlZC90ZXh0dXJlL1RleHR1cmVQb29sLm1qcyc7XG5pbXBvcnQgeyBSZW5kZXJlclR5cGUgfSBmcm9tICcuLi8uLi9yZW5kZXJlcnMvdHlwZXMubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCB0ZW1wQm91bmRzID0gbmV3IEJvdW5kcygpO1xuY2xhc3MgQWxwaGFNYXNrRWZmZWN0IGV4dGVuZHMgRmlsdGVyRWZmZWN0IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmZpbHRlcnMgPSBbbmV3IE1hc2tGaWx0ZXIoe1xuICAgICAgc3ByaXRlOiBuZXcgU3ByaXRlKFRleHR1cmUuRU1QVFkpLFxuICAgICAgaW52ZXJzZTogZmFsc2UsXG4gICAgICByZXNvbHV0aW9uOiBcImluaGVyaXRcIixcbiAgICAgIGFudGlhbGlhczogXCJpbmhlcml0XCJcbiAgICB9KV07XG4gIH1cbiAgZ2V0IHNwcml0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5maWx0ZXJzWzBdLnNwcml0ZTtcbiAgfVxuICBzZXQgc3ByaXRlKHZhbHVlKSB7XG4gICAgdGhpcy5maWx0ZXJzWzBdLnNwcml0ZSA9IHZhbHVlO1xuICB9XG4gIGdldCBpbnZlcnNlKCkge1xuICAgIHJldHVybiB0aGlzLmZpbHRlcnNbMF0uaW52ZXJzZTtcbiAgfVxuICBzZXQgaW52ZXJzZSh2YWx1ZSkge1xuICAgIHRoaXMuZmlsdGVyc1swXS5pbnZlcnNlID0gdmFsdWU7XG4gIH1cbn1cbmNsYXNzIEFscGhhTWFza1BpcGUge1xuICBjb25zdHJ1Y3RvcihyZW5kZXJlcikge1xuICAgIHRoaXMuX2FjdGl2ZU1hc2tTdGFnZSA9IFtdO1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gIH1cbiAgcHVzaChtYXNrLCBtYXNrZWRDb250YWluZXIsIGluc3RydWN0aW9uU2V0KSB7XG4gICAgY29uc3QgcmVuZGVyZXIgPSB0aGlzLl9yZW5kZXJlcjtcbiAgICByZW5kZXJlci5yZW5kZXJQaXBlcy5iYXRjaC5icmVhayhpbnN0cnVjdGlvblNldCk7XG4gICAgaW5zdHJ1Y3Rpb25TZXQuYWRkKHtcbiAgICAgIHJlbmRlclBpcGVJZDogXCJhbHBoYU1hc2tcIixcbiAgICAgIGFjdGlvbjogXCJwdXNoTWFza0JlZ2luXCIsXG4gICAgICBtYXNrLFxuICAgICAgaW52ZXJzZTogbWFza2VkQ29udGFpbmVyLl9tYXNrT3B0aW9ucy5pbnZlcnNlLFxuICAgICAgY2FuQnVuZGxlOiBmYWxzZSxcbiAgICAgIG1hc2tlZENvbnRhaW5lclxuICAgIH0pO1xuICAgIG1hc2suaW52ZXJzZSA9IG1hc2tlZENvbnRhaW5lci5fbWFza09wdGlvbnMuaW52ZXJzZTtcbiAgICBpZiAobWFzay5yZW5kZXJNYXNrVG9UZXh0dXJlKSB7XG4gICAgICBjb25zdCBtYXNrQ29udGFpbmVyID0gbWFzay5tYXNrO1xuICAgICAgbWFza0NvbnRhaW5lci5pbmNsdWRlSW5CdWlsZCA9IHRydWU7XG4gICAgICBtYXNrQ29udGFpbmVyLmNvbGxlY3RSZW5kZXJhYmxlcyhcbiAgICAgICAgaW5zdHJ1Y3Rpb25TZXQsXG4gICAgICAgIHJlbmRlcmVyLFxuICAgICAgICBudWxsXG4gICAgICApO1xuICAgICAgbWFza0NvbnRhaW5lci5pbmNsdWRlSW5CdWlsZCA9IGZhbHNlO1xuICAgIH1cbiAgICByZW5kZXJlci5yZW5kZXJQaXBlcy5iYXRjaC5icmVhayhpbnN0cnVjdGlvblNldCk7XG4gICAgaW5zdHJ1Y3Rpb25TZXQuYWRkKHtcbiAgICAgIHJlbmRlclBpcGVJZDogXCJhbHBoYU1hc2tcIixcbiAgICAgIGFjdGlvbjogXCJwdXNoTWFza0VuZFwiLFxuICAgICAgbWFzayxcbiAgICAgIG1hc2tlZENvbnRhaW5lcixcbiAgICAgIGludmVyc2U6IG1hc2tlZENvbnRhaW5lci5fbWFza09wdGlvbnMuaW52ZXJzZSxcbiAgICAgIGNhbkJ1bmRsZTogZmFsc2VcbiAgICB9KTtcbiAgfVxuICBwb3AobWFzaywgX21hc2tlZENvbnRhaW5lciwgaW5zdHJ1Y3Rpb25TZXQpIHtcbiAgICBjb25zdCByZW5kZXJlciA9IHRoaXMuX3JlbmRlcmVyO1xuICAgIHJlbmRlcmVyLnJlbmRlclBpcGVzLmJhdGNoLmJyZWFrKGluc3RydWN0aW9uU2V0KTtcbiAgICBpbnN0cnVjdGlvblNldC5hZGQoe1xuICAgICAgcmVuZGVyUGlwZUlkOiBcImFscGhhTWFza1wiLFxuICAgICAgYWN0aW9uOiBcInBvcE1hc2tFbmRcIixcbiAgICAgIG1hc2ssXG4gICAgICBpbnZlcnNlOiBfbWFza2VkQ29udGFpbmVyLl9tYXNrT3B0aW9ucy5pbnZlcnNlLFxuICAgICAgY2FuQnVuZGxlOiBmYWxzZVxuICAgIH0pO1xuICB9XG4gIGV4ZWN1dGUoaW5zdHJ1Y3Rpb24pIHtcbiAgICBjb25zdCByZW5kZXJlciA9IHRoaXMuX3JlbmRlcmVyO1xuICAgIGNvbnN0IHJlbmRlck1hc2sgPSBpbnN0cnVjdGlvbi5tYXNrLnJlbmRlck1hc2tUb1RleHR1cmU7XG4gICAgaWYgKGluc3RydWN0aW9uLmFjdGlvbiA9PT0gXCJwdXNoTWFza0JlZ2luXCIpIHtcbiAgICAgIGNvbnN0IGZpbHRlckVmZmVjdCA9IEJpZ1Bvb2wuZ2V0KEFscGhhTWFza0VmZmVjdCk7XG4gICAgICBmaWx0ZXJFZmZlY3QuaW52ZXJzZSA9IGluc3RydWN0aW9uLmludmVyc2U7XG4gICAgICBpZiAocmVuZGVyTWFzaykge1xuICAgICAgICBpbnN0cnVjdGlvbi5tYXNrLm1hc2subWVhc3VyYWJsZSA9IHRydWU7XG4gICAgICAgIGNvbnN0IGJvdW5kcyA9IGdldEdsb2JhbEJvdW5kcyhpbnN0cnVjdGlvbi5tYXNrLm1hc2ssIHRydWUsIHRlbXBCb3VuZHMpO1xuICAgICAgICBpbnN0cnVjdGlvbi5tYXNrLm1hc2subWVhc3VyYWJsZSA9IGZhbHNlO1xuICAgICAgICBib3VuZHMuY2VpbCgpO1xuICAgICAgICBjb25zdCBjb2xvclRleHR1cmVTb3VyY2UgPSByZW5kZXJlci5yZW5kZXJUYXJnZXQucmVuZGVyVGFyZ2V0LmNvbG9yVGV4dHVyZS5zb3VyY2U7XG4gICAgICAgIGNvbnN0IGZpbHRlclRleHR1cmUgPSBUZXh0dXJlUG9vbC5nZXRPcHRpbWFsVGV4dHVyZShcbiAgICAgICAgICBib3VuZHMud2lkdGgsXG4gICAgICAgICAgYm91bmRzLmhlaWdodCxcbiAgICAgICAgICBjb2xvclRleHR1cmVTb3VyY2UuX3Jlc29sdXRpb24sXG4gICAgICAgICAgY29sb3JUZXh0dXJlU291cmNlLmFudGlhbGlhc1xuICAgICAgICApO1xuICAgICAgICByZW5kZXJlci5yZW5kZXJUYXJnZXQucHVzaChmaWx0ZXJUZXh0dXJlLCB0cnVlKTtcbiAgICAgICAgcmVuZGVyZXIuZ2xvYmFsVW5pZm9ybXMucHVzaCh7XG4gICAgICAgICAgb2Zmc2V0OiBib3VuZHMsXG4gICAgICAgICAgd29ybGRDb2xvcjogNDI5NDk2NzI5NVxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3Qgc3ByaXRlID0gZmlsdGVyRWZmZWN0LnNwcml0ZTtcbiAgICAgICAgc3ByaXRlLnRleHR1cmUgPSBmaWx0ZXJUZXh0dXJlO1xuICAgICAgICBzcHJpdGUud29ybGRUcmFuc2Zvcm0udHggPSBib3VuZHMubWluWDtcbiAgICAgICAgc3ByaXRlLndvcmxkVHJhbnNmb3JtLnR5ID0gYm91bmRzLm1pblk7XG4gICAgICAgIHRoaXMuX2FjdGl2ZU1hc2tTdGFnZS5wdXNoKHtcbiAgICAgICAgICBmaWx0ZXJFZmZlY3QsXG4gICAgICAgICAgbWFza2VkQ29udGFpbmVyOiBpbnN0cnVjdGlvbi5tYXNrZWRDb250YWluZXIsXG4gICAgICAgICAgZmlsdGVyVGV4dHVyZVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZpbHRlckVmZmVjdC5zcHJpdGUgPSBpbnN0cnVjdGlvbi5tYXNrLm1hc2s7XG4gICAgICAgIHRoaXMuX2FjdGl2ZU1hc2tTdGFnZS5wdXNoKHtcbiAgICAgICAgICBmaWx0ZXJFZmZlY3QsXG4gICAgICAgICAgbWFza2VkQ29udGFpbmVyOiBpbnN0cnVjdGlvbi5tYXNrZWRDb250YWluZXJcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpbnN0cnVjdGlvbi5hY3Rpb24gPT09IFwicHVzaE1hc2tFbmRcIikge1xuICAgICAgY29uc3QgbWFza0RhdGEgPSB0aGlzLl9hY3RpdmVNYXNrU3RhZ2VbdGhpcy5fYWN0aXZlTWFza1N0YWdlLmxlbmd0aCAtIDFdO1xuICAgICAgaWYgKHJlbmRlck1hc2spIHtcbiAgICAgICAgaWYgKHJlbmRlcmVyLnR5cGUgPT09IFJlbmRlcmVyVHlwZS5XRUJHTCkge1xuICAgICAgICAgIHJlbmRlcmVyLnJlbmRlclRhcmdldC5maW5pc2hSZW5kZXJQYXNzKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmVuZGVyZXIucmVuZGVyVGFyZ2V0LnBvcCgpO1xuICAgICAgICByZW5kZXJlci5nbG9iYWxVbmlmb3Jtcy5wb3AoKTtcbiAgICAgIH1cbiAgICAgIHJlbmRlcmVyLmZpbHRlci5wdXNoKHtcbiAgICAgICAgcmVuZGVyUGlwZUlkOiBcImZpbHRlclwiLFxuICAgICAgICBhY3Rpb246IFwicHVzaEZpbHRlclwiLFxuICAgICAgICBjb250YWluZXI6IG1hc2tEYXRhLm1hc2tlZENvbnRhaW5lcixcbiAgICAgICAgZmlsdGVyRWZmZWN0OiBtYXNrRGF0YS5maWx0ZXJFZmZlY3QsXG4gICAgICAgIGNhbkJ1bmRsZTogZmFsc2VcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoaW5zdHJ1Y3Rpb24uYWN0aW9uID09PSBcInBvcE1hc2tFbmRcIikge1xuICAgICAgcmVuZGVyZXIuZmlsdGVyLnBvcCgpO1xuICAgICAgY29uc3QgbWFza0RhdGEgPSB0aGlzLl9hY3RpdmVNYXNrU3RhZ2UucG9wKCk7XG4gICAgICBpZiAocmVuZGVyTWFzaykge1xuICAgICAgICBUZXh0dXJlUG9vbC5yZXR1cm5UZXh0dXJlKG1hc2tEYXRhLmZpbHRlclRleHR1cmUpO1xuICAgICAgfVxuICAgICAgQmlnUG9vbC5yZXR1cm4obWFza0RhdGEuZmlsdGVyRWZmZWN0KTtcbiAgICB9XG4gIH1cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLl9yZW5kZXJlciA9IG51bGw7XG4gICAgdGhpcy5fYWN0aXZlTWFza1N0YWdlID0gbnVsbDtcbiAgfVxufVxuLyoqIEBpZ25vcmUgKi9cbkFscGhhTWFza1BpcGUuZXh0ZW5zaW9uID0ge1xuICB0eXBlOiBbXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHTFBpcGVzLFxuICAgIEV4dGVuc2lvblR5cGUuV2ViR1BVUGlwZXMsXG4gICAgRXh0ZW5zaW9uVHlwZS5DYW52YXNQaXBlc1xuICBdLFxuICBuYW1lOiBcImFscGhhTWFza1wiXG59O1xuXG5leHBvcnQgeyBBbHBoYU1hc2tQaXBlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1BbHBoYU1hc2tQaXBlLm1qcy5tYXBcbiIsImltcG9ydCB7IEV4dGVuc2lvblR5cGUgfSBmcm9tICcuLi8uLi8uLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jbGFzcyBDb2xvck1hc2tQaXBlIHtcbiAgY29uc3RydWN0b3IocmVuZGVyZXIpIHtcbiAgICB0aGlzLl9jb2xvclN0YWNrID0gW107XG4gICAgdGhpcy5fY29sb3JTdGFja0luZGV4ID0gMDtcbiAgICB0aGlzLl9jdXJyZW50Q29sb3IgPSAwO1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gIH1cbiAgYnVpbGRTdGFydCgpIHtcbiAgICB0aGlzLl9jb2xvclN0YWNrWzBdID0gMTU7XG4gICAgdGhpcy5fY29sb3JTdGFja0luZGV4ID0gMTtcbiAgICB0aGlzLl9jdXJyZW50Q29sb3IgPSAxNTtcbiAgfVxuICBwdXNoKG1hc2ssIF9jb250YWluZXIsIGluc3RydWN0aW9uU2V0KSB7XG4gICAgY29uc3QgcmVuZGVyZXIgPSB0aGlzLl9yZW5kZXJlcjtcbiAgICByZW5kZXJlci5yZW5kZXJQaXBlcy5iYXRjaC5icmVhayhpbnN0cnVjdGlvblNldCk7XG4gICAgY29uc3QgY29sb3JTdGFjayA9IHRoaXMuX2NvbG9yU3RhY2s7XG4gICAgY29sb3JTdGFja1t0aGlzLl9jb2xvclN0YWNrSW5kZXhdID0gY29sb3JTdGFja1t0aGlzLl9jb2xvclN0YWNrSW5kZXggLSAxXSAmIG1hc2subWFzaztcbiAgICBjb25zdCBjdXJyZW50Q29sb3IgPSB0aGlzLl9jb2xvclN0YWNrW3RoaXMuX2NvbG9yU3RhY2tJbmRleF07XG4gICAgaWYgKGN1cnJlbnRDb2xvciAhPT0gdGhpcy5fY3VycmVudENvbG9yKSB7XG4gICAgICB0aGlzLl9jdXJyZW50Q29sb3IgPSBjdXJyZW50Q29sb3I7XG4gICAgICBpbnN0cnVjdGlvblNldC5hZGQoe1xuICAgICAgICByZW5kZXJQaXBlSWQ6IFwiY29sb3JNYXNrXCIsXG4gICAgICAgIGNvbG9yTWFzazogY3VycmVudENvbG9yLFxuICAgICAgICBjYW5CdW5kbGU6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9XG4gICAgdGhpcy5fY29sb3JTdGFja0luZGV4Kys7XG4gIH1cbiAgcG9wKF9tYXNrLCBfY29udGFpbmVyLCBpbnN0cnVjdGlvblNldCkge1xuICAgIGNvbnN0IHJlbmRlcmVyID0gdGhpcy5fcmVuZGVyZXI7XG4gICAgcmVuZGVyZXIucmVuZGVyUGlwZXMuYmF0Y2guYnJlYWsoaW5zdHJ1Y3Rpb25TZXQpO1xuICAgIGNvbnN0IGNvbG9yU3RhY2sgPSB0aGlzLl9jb2xvclN0YWNrO1xuICAgIHRoaXMuX2NvbG9yU3RhY2tJbmRleC0tO1xuICAgIGNvbnN0IGN1cnJlbnRDb2xvciA9IGNvbG9yU3RhY2tbdGhpcy5fY29sb3JTdGFja0luZGV4IC0gMV07XG4gICAgaWYgKGN1cnJlbnRDb2xvciAhPT0gdGhpcy5fY3VycmVudENvbG9yKSB7XG4gICAgICB0aGlzLl9jdXJyZW50Q29sb3IgPSBjdXJyZW50Q29sb3I7XG4gICAgICBpbnN0cnVjdGlvblNldC5hZGQoe1xuICAgICAgICByZW5kZXJQaXBlSWQ6IFwiY29sb3JNYXNrXCIsXG4gICAgICAgIGNvbG9yTWFzazogY3VycmVudENvbG9yLFxuICAgICAgICBjYW5CdW5kbGU6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgZXhlY3V0ZShpbnN0cnVjdGlvbikge1xuICAgIGNvbnN0IHJlbmRlcmVyID0gdGhpcy5fcmVuZGVyZXI7XG4gICAgcmVuZGVyZXIuY29sb3JNYXNrLnNldE1hc2soaW5zdHJ1Y3Rpb24uY29sb3JNYXNrKTtcbiAgfVxuICBkZXN0cm95KCkge1xuICAgIHRoaXMuX3JlbmRlcmVyID0gbnVsbDtcbiAgICB0aGlzLl9jb2xvclN0YWNrID0gbnVsbDtcbiAgfVxufVxuLyoqIEBpZ25vcmUgKi9cbkNvbG9yTWFza1BpcGUuZXh0ZW5zaW9uID0ge1xuICB0eXBlOiBbXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHTFBpcGVzLFxuICAgIEV4dGVuc2lvblR5cGUuV2ViR1BVUGlwZXMsXG4gICAgRXh0ZW5zaW9uVHlwZS5DYW52YXNQaXBlc1xuICBdLFxuICBuYW1lOiBcImNvbG9yTWFza1wiXG59O1xuXG5leHBvcnQgeyBDb2xvck1hc2tQaXBlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Db2xvck1hc2tQaXBlLm1qcy5tYXBcbiIsImltcG9ydCB7IEV4dGVuc2lvblR5cGUgfSBmcm9tICcuLi8uLi8uLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcbmltcG9ydCB7IENMRUFSIH0gZnJvbSAnLi4vLi4vcmVuZGVyZXJzL2dsL2NvbnN0Lm1qcyc7XG5pbXBvcnQgeyBTVEVOQ0lMX01PREVTIH0gZnJvbSAnLi4vLi4vcmVuZGVyZXJzL3NoYXJlZC9zdGF0ZS9jb25zdC5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNsYXNzIFN0ZW5jaWxNYXNrUGlwZSB7XG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyKSB7XG4gICAgLy8gdXNlZCB3aGVuIGJ1aWxkaW5nIGFuZCBhbHNvIHdoZW4gZXhlY3V0aW5nLi5cbiAgICB0aGlzLl9tYXNrU3RhY2tIYXNoID0ge307XG4gICAgdGhpcy5fbWFza0hhc2ggPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICB9XG4gIHB1c2gobWFzaywgX2NvbnRhaW5lciwgaW5zdHJ1Y3Rpb25TZXQpIHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgZWZmZWN0ID0gbWFzaztcbiAgICBjb25zdCByZW5kZXJlciA9IHRoaXMuX3JlbmRlcmVyO1xuICAgIHJlbmRlcmVyLnJlbmRlclBpcGVzLmJhdGNoLmJyZWFrKGluc3RydWN0aW9uU2V0KTtcbiAgICByZW5kZXJlci5yZW5kZXJQaXBlcy5ibGVuZE1vZGUuc2V0QmxlbmRNb2RlKGVmZmVjdC5tYXNrLCBcIm5vbmVcIiwgaW5zdHJ1Y3Rpb25TZXQpO1xuICAgIGluc3RydWN0aW9uU2V0LmFkZCh7XG4gICAgICByZW5kZXJQaXBlSWQ6IFwic3RlbmNpbE1hc2tcIixcbiAgICAgIGFjdGlvbjogXCJwdXNoTWFza0JlZ2luXCIsXG4gICAgICBtYXNrLFxuICAgICAgaW52ZXJzZTogX2NvbnRhaW5lci5fbWFza09wdGlvbnMuaW52ZXJzZSxcbiAgICAgIGNhbkJ1bmRsZTogZmFsc2VcbiAgICB9KTtcbiAgICBjb25zdCBtYXNrQ29udGFpbmVyID0gZWZmZWN0Lm1hc2s7XG4gICAgbWFza0NvbnRhaW5lci5pbmNsdWRlSW5CdWlsZCA9IHRydWU7XG4gICAgaWYgKCF0aGlzLl9tYXNrSGFzaC5oYXMoZWZmZWN0KSkge1xuICAgICAgdGhpcy5fbWFza0hhc2guc2V0KGVmZmVjdCwge1xuICAgICAgICBpbnN0cnVjdGlvbnNTdGFydDogMCxcbiAgICAgICAgaW5zdHJ1Y3Rpb25zTGVuZ3RoOiAwXG4gICAgICB9KTtcbiAgICB9XG4gICAgY29uc3QgbWFza0RhdGEgPSB0aGlzLl9tYXNrSGFzaC5nZXQoZWZmZWN0KTtcbiAgICBtYXNrRGF0YS5pbnN0cnVjdGlvbnNTdGFydCA9IGluc3RydWN0aW9uU2V0Lmluc3RydWN0aW9uU2l6ZTtcbiAgICBtYXNrQ29udGFpbmVyLmNvbGxlY3RSZW5kZXJhYmxlcyhcbiAgICAgIGluc3RydWN0aW9uU2V0LFxuICAgICAgcmVuZGVyZXIsXG4gICAgICBudWxsXG4gICAgKTtcbiAgICBtYXNrQ29udGFpbmVyLmluY2x1ZGVJbkJ1aWxkID0gZmFsc2U7XG4gICAgcmVuZGVyZXIucmVuZGVyUGlwZXMuYmF0Y2guYnJlYWsoaW5zdHJ1Y3Rpb25TZXQpO1xuICAgIGluc3RydWN0aW9uU2V0LmFkZCh7XG4gICAgICByZW5kZXJQaXBlSWQ6IFwic3RlbmNpbE1hc2tcIixcbiAgICAgIGFjdGlvbjogXCJwdXNoTWFza0VuZFwiLFxuICAgICAgbWFzayxcbiAgICAgIGludmVyc2U6IF9jb250YWluZXIuX21hc2tPcHRpb25zLmludmVyc2UsXG4gICAgICBjYW5CdW5kbGU6IGZhbHNlXG4gICAgfSk7XG4gICAgY29uc3QgaW5zdHJ1Y3Rpb25zTGVuZ3RoID0gaW5zdHJ1Y3Rpb25TZXQuaW5zdHJ1Y3Rpb25TaXplIC0gbWFza0RhdGEuaW5zdHJ1Y3Rpb25zU3RhcnQgLSAxO1xuICAgIG1hc2tEYXRhLmluc3RydWN0aW9uc0xlbmd0aCA9IGluc3RydWN0aW9uc0xlbmd0aDtcbiAgICBjb25zdCByZW5kZXJUYXJnZXRVaWQgPSByZW5kZXJlci5yZW5kZXJUYXJnZXQucmVuZGVyVGFyZ2V0LnVpZDtcbiAgICAoX2EgPSB0aGlzLl9tYXNrU3RhY2tIYXNoKVtyZW5kZXJUYXJnZXRVaWRdID8/IChfYVtyZW5kZXJUYXJnZXRVaWRdID0gMCk7XG4gIH1cbiAgcG9wKG1hc2ssIF9jb250YWluZXIsIGluc3RydWN0aW9uU2V0KSB7XG4gICAgY29uc3QgZWZmZWN0ID0gbWFzaztcbiAgICBjb25zdCByZW5kZXJlciA9IHRoaXMuX3JlbmRlcmVyO1xuICAgIHJlbmRlcmVyLnJlbmRlclBpcGVzLmJhdGNoLmJyZWFrKGluc3RydWN0aW9uU2V0KTtcbiAgICByZW5kZXJlci5yZW5kZXJQaXBlcy5ibGVuZE1vZGUuc2V0QmxlbmRNb2RlKGVmZmVjdC5tYXNrLCBcIm5vbmVcIiwgaW5zdHJ1Y3Rpb25TZXQpO1xuICAgIGluc3RydWN0aW9uU2V0LmFkZCh7XG4gICAgICByZW5kZXJQaXBlSWQ6IFwic3RlbmNpbE1hc2tcIixcbiAgICAgIGFjdGlvbjogXCJwb3BNYXNrQmVnaW5cIixcbiAgICAgIGludmVyc2U6IF9jb250YWluZXIuX21hc2tPcHRpb25zLmludmVyc2UsXG4gICAgICBjYW5CdW5kbGU6IGZhbHNlXG4gICAgfSk7XG4gICAgY29uc3QgbWFza0RhdGEgPSB0aGlzLl9tYXNrSGFzaC5nZXQobWFzayk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYXNrRGF0YS5pbnN0cnVjdGlvbnNMZW5ndGg7IGkrKykge1xuICAgICAgaW5zdHJ1Y3Rpb25TZXQuaW5zdHJ1Y3Rpb25zW2luc3RydWN0aW9uU2V0Lmluc3RydWN0aW9uU2l6ZSsrXSA9IGluc3RydWN0aW9uU2V0Lmluc3RydWN0aW9uc1ttYXNrRGF0YS5pbnN0cnVjdGlvbnNTdGFydCsrXTtcbiAgICB9XG4gICAgaW5zdHJ1Y3Rpb25TZXQuYWRkKHtcbiAgICAgIHJlbmRlclBpcGVJZDogXCJzdGVuY2lsTWFza1wiLFxuICAgICAgYWN0aW9uOiBcInBvcE1hc2tFbmRcIixcbiAgICAgIGNhbkJ1bmRsZTogZmFsc2VcbiAgICB9KTtcbiAgfVxuICBleGVjdXRlKGluc3RydWN0aW9uKSB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IHJlbmRlcmVyID0gdGhpcy5fcmVuZGVyZXI7XG4gICAgY29uc3QgcmVuZGVyVGFyZ2V0VWlkID0gcmVuZGVyZXIucmVuZGVyVGFyZ2V0LnJlbmRlclRhcmdldC51aWQ7XG4gICAgbGV0IG1hc2tTdGFja0luZGV4ID0gKF9hID0gdGhpcy5fbWFza1N0YWNrSGFzaClbcmVuZGVyVGFyZ2V0VWlkXSA/PyAoX2FbcmVuZGVyVGFyZ2V0VWlkXSA9IDApO1xuICAgIGlmIChpbnN0cnVjdGlvbi5hY3Rpb24gPT09IFwicHVzaE1hc2tCZWdpblwiKSB7XG4gICAgICByZW5kZXJlci5yZW5kZXJUYXJnZXQuZW5zdXJlRGVwdGhTdGVuY2lsKCk7XG4gICAgICByZW5kZXJlci5zdGVuY2lsLnNldFN0ZW5jaWxNb2RlKFNURU5DSUxfTU9ERVMuUkVOREVSSU5HX01BU0tfQURELCBtYXNrU3RhY2tJbmRleCk7XG4gICAgICBtYXNrU3RhY2tJbmRleCsrO1xuICAgICAgcmVuZGVyZXIuY29sb3JNYXNrLnNldE1hc2soMCk7XG4gICAgfSBlbHNlIGlmIChpbnN0cnVjdGlvbi5hY3Rpb24gPT09IFwicHVzaE1hc2tFbmRcIikge1xuICAgICAgaWYgKGluc3RydWN0aW9uLmludmVyc2UpIHtcbiAgICAgICAgcmVuZGVyZXIuc3RlbmNpbC5zZXRTdGVuY2lsTW9kZShTVEVOQ0lMX01PREVTLklOVkVSU0VfTUFTS19BQ1RJVkUsIG1hc2tTdGFja0luZGV4KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlbmRlcmVyLnN0ZW5jaWwuc2V0U3RlbmNpbE1vZGUoU1RFTkNJTF9NT0RFUy5NQVNLX0FDVElWRSwgbWFza1N0YWNrSW5kZXgpO1xuICAgICAgfVxuICAgICAgcmVuZGVyZXIuY29sb3JNYXNrLnNldE1hc2soMTUpO1xuICAgIH0gZWxzZSBpZiAoaW5zdHJ1Y3Rpb24uYWN0aW9uID09PSBcInBvcE1hc2tCZWdpblwiKSB7XG4gICAgICByZW5kZXJlci5jb2xvck1hc2suc2V0TWFzaygwKTtcbiAgICAgIGlmIChtYXNrU3RhY2tJbmRleCAhPT0gMCkge1xuICAgICAgICByZW5kZXJlci5zdGVuY2lsLnNldFN0ZW5jaWxNb2RlKFNURU5DSUxfTU9ERVMuUkVOREVSSU5HX01BU0tfUkVNT1ZFLCBtYXNrU3RhY2tJbmRleCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZW5kZXJlci5yZW5kZXJUYXJnZXQuY2xlYXIobnVsbCwgQ0xFQVIuU1RFTkNJTCk7XG4gICAgICAgIHJlbmRlcmVyLnN0ZW5jaWwuc2V0U3RlbmNpbE1vZGUoU1RFTkNJTF9NT0RFUy5ESVNBQkxFRCwgbWFza1N0YWNrSW5kZXgpO1xuICAgICAgfVxuICAgICAgbWFza1N0YWNrSW5kZXgtLTtcbiAgICB9IGVsc2UgaWYgKGluc3RydWN0aW9uLmFjdGlvbiA9PT0gXCJwb3BNYXNrRW5kXCIpIHtcbiAgICAgIGlmIChpbnN0cnVjdGlvbi5pbnZlcnNlKSB7XG4gICAgICAgIHJlbmRlcmVyLnN0ZW5jaWwuc2V0U3RlbmNpbE1vZGUoU1RFTkNJTF9NT0RFUy5JTlZFUlNFX01BU0tfQUNUSVZFLCBtYXNrU3RhY2tJbmRleCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZW5kZXJlci5zdGVuY2lsLnNldFN0ZW5jaWxNb2RlKFNURU5DSUxfTU9ERVMuTUFTS19BQ1RJVkUsIG1hc2tTdGFja0luZGV4KTtcbiAgICAgIH1cbiAgICAgIHJlbmRlcmVyLmNvbG9yTWFzay5zZXRNYXNrKDE1KTtcbiAgICB9XG4gICAgdGhpcy5fbWFza1N0YWNrSGFzaFtyZW5kZXJUYXJnZXRVaWRdID0gbWFza1N0YWNrSW5kZXg7XG4gIH1cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLl9yZW5kZXJlciA9IG51bGw7XG4gICAgdGhpcy5fbWFza1N0YWNrSGFzaCA9IG51bGw7XG4gICAgdGhpcy5fbWFza0hhc2ggPSBudWxsO1xuICB9XG59XG5TdGVuY2lsTWFza1BpcGUuZXh0ZW5zaW9uID0ge1xuICB0eXBlOiBbXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHTFBpcGVzLFxuICAgIEV4dGVuc2lvblR5cGUuV2ViR1BVUGlwZXMsXG4gICAgRXh0ZW5zaW9uVHlwZS5DYW52YXNQaXBlc1xuICBdLFxuICBuYW1lOiBcInN0ZW5jaWxNYXNrXCJcbn07XG5cbmV4cG9ydCB7IFN0ZW5jaWxNYXNrUGlwZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3RlbmNpbE1hc2tQaXBlLm1qcy5tYXBcbiIsImltcG9ydCB7IENvbG9yIH0gZnJvbSAnLi4vLi4vLi4vLi4vY29sb3IvQ29sb3IubWpzJztcbmltcG9ydCB7IEV4dGVuc2lvblR5cGUgfSBmcm9tICcuLi8uLi8uLi8uLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcbmltcG9ydCB7IHdhcm4gfSBmcm9tICcuLi8uLi8uLi8uLi91dGlscy9sb2dnaW5nL3dhcm4ubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBfQmFja2dyb3VuZFN5c3RlbSA9IGNsYXNzIF9CYWNrZ3JvdW5kU3lzdGVtIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5jbGVhckJlZm9yZVJlbmRlciA9IHRydWU7XG4gICAgdGhpcy5fYmFja2dyb3VuZENvbG9yID0gbmV3IENvbG9yKDApO1xuICAgIHRoaXMuY29sb3IgPSB0aGlzLl9iYWNrZ3JvdW5kQ29sb3I7XG4gICAgdGhpcy5hbHBoYSA9IDE7XG4gIH1cbiAgLyoqXG4gICAqIGluaXRpYXRlcyB0aGUgYmFja2dyb3VuZCBzeXN0ZW1cbiAgICogQHBhcmFtIG9wdGlvbnMgLSB0aGUgb3B0aW9ucyBmb3IgdGhlIGJhY2tncm91bmQgY29sb3JzXG4gICAqL1xuICBpbml0KG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0geyAuLi5fQmFja2dyb3VuZFN5c3RlbS5kZWZhdWx0T3B0aW9ucywgLi4ub3B0aW9ucyB9O1xuICAgIHRoaXMuY2xlYXJCZWZvcmVSZW5kZXIgPSBvcHRpb25zLmNsZWFyQmVmb3JlUmVuZGVyO1xuICAgIHRoaXMuY29sb3IgPSBvcHRpb25zLmJhY2tncm91bmQgfHwgb3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3IgfHwgdGhpcy5fYmFja2dyb3VuZENvbG9yO1xuICAgIHRoaXMuYWxwaGEgPSBvcHRpb25zLmJhY2tncm91bmRBbHBoYTtcbiAgICB0aGlzLl9iYWNrZ3JvdW5kQ29sb3Iuc2V0QWxwaGEob3B0aW9ucy5iYWNrZ3JvdW5kQWxwaGEpO1xuICB9XG4gIC8qKiBUaGUgYmFja2dyb3VuZCBjb2xvciB0byBmaWxsIGlmIG5vdCB0cmFuc3BhcmVudCAqL1xuICBnZXQgY29sb3IoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2JhY2tncm91bmRDb2xvcjtcbiAgfVxuICBzZXQgY29sb3IodmFsdWUpIHtcbiAgICBjb25zdCBpbmNvbWluZyA9IENvbG9yLnNoYXJlZC5zZXRWYWx1ZSh2YWx1ZSk7XG4gICAgaWYgKGluY29taW5nLmFscGhhIDwgMSAmJiB0aGlzLl9iYWNrZ3JvdW5kQ29sb3IuYWxwaGEgPT09IDEpIHtcbiAgICAgIHdhcm4oXG4gICAgICAgIFwiQ2Fubm90IHNldCBhIHRyYW5zcGFyZW50IGJhY2tncm91bmQgb24gYW4gb3BhcXVlIGNhbnZhcy4gVG8gZW5hYmxlIHRyYW5zcGFyZW5jeSwgc2V0IGJhY2tncm91bmRBbHBoYSA8IDEgd2hlbiBpbml0aWFsaXppbmcgeW91ciBBcHBsaWNhdGlvbi5cIlxuICAgICAgKTtcbiAgICB9XG4gICAgdGhpcy5fYmFja2dyb3VuZENvbG9yLnNldFZhbHVlKHZhbHVlKTtcbiAgfVxuICAvKiogVGhlIGJhY2tncm91bmQgY29sb3IgYWxwaGEuIFNldHRpbmcgdGhpcyB0byAwIHdpbGwgbWFrZSB0aGUgY2FudmFzIHRyYW5zcGFyZW50LiAqL1xuICBnZXQgYWxwaGEoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2JhY2tncm91bmRDb2xvci5hbHBoYTtcbiAgfVxuICBzZXQgYWxwaGEodmFsdWUpIHtcbiAgICB0aGlzLl9iYWNrZ3JvdW5kQ29sb3Iuc2V0QWxwaGEodmFsdWUpO1xuICB9XG4gIC8qKiBUaGUgYmFja2dyb3VuZCBjb2xvciBhcyBhbiBbUiwgRywgQiwgQV0gYXJyYXkuICovXG4gIGdldCBjb2xvclJnYmEoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2JhY2tncm91bmRDb2xvci50b0FycmF5KCk7XG4gIH1cbiAgLyoqXG4gICAqIGRlc3Ryb3lzIHRoZSBiYWNrZ3JvdW5kIHN5c3RlbVxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGRlc3Ryb3koKSB7XG4gIH1cbn07XG4vKiogQGlnbm9yZSAqL1xuX0JhY2tncm91bmRTeXN0ZW0uZXh0ZW5zaW9uID0ge1xuICB0eXBlOiBbXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHTFN5c3RlbSxcbiAgICBFeHRlbnNpb25UeXBlLldlYkdQVVN5c3RlbSxcbiAgICBFeHRlbnNpb25UeXBlLkNhbnZhc1N5c3RlbVxuICBdLFxuICBuYW1lOiBcImJhY2tncm91bmRcIixcbiAgcHJpb3JpdHk6IDBcbn07XG4vKiogZGVmYXVsdCBvcHRpb25zIHVzZWQgYnkgdGhlIHN5c3RlbSAqL1xuX0JhY2tncm91bmRTeXN0ZW0uZGVmYXVsdE9wdGlvbnMgPSB7XG4gIC8qKlxuICAgKiB7QGxpbmsgV2ViR0xPcHRpb25zLmJhY2tncm91bmRBbHBoYX1cbiAgICogQGRlZmF1bHQgMVxuICAgKi9cbiAgYmFja2dyb3VuZEFscGhhOiAxLFxuICAvKipcbiAgICoge0BsaW5rIFdlYkdMT3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3J9XG4gICAqIEBkZWZhdWx0IDB4MDAwMDAwXG4gICAqL1xuICBiYWNrZ3JvdW5kQ29sb3I6IDAsXG4gIC8qKlxuICAgKiB7QGxpbmsgV2ViR0xPcHRpb25zLmNsZWFyQmVmb3JlUmVuZGVyfVxuICAgKiBAZGVmYXVsdCB0cnVlXG4gICAqL1xuICBjbGVhckJlZm9yZVJlbmRlcjogdHJ1ZVxufTtcbmxldCBCYWNrZ3JvdW5kU3lzdGVtID0gX0JhY2tncm91bmRTeXN0ZW07XG5cbmV4cG9ydCB7IEJhY2tncm91bmRTeXN0ZW0gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJhY2tncm91bmRTeXN0ZW0ubWpzLm1hcFxuIiwiaW1wb3J0IHsgZXh0ZW5zaW9ucywgRXh0ZW5zaW9uVHlwZSB9IGZyb20gJy4uLy4uLy4uLy4uL2V4dGVuc2lvbnMvRXh0ZW5zaW9ucy5tanMnO1xuaW1wb3J0IHsgRmlsdGVyRWZmZWN0IH0gZnJvbSAnLi4vLi4vLi4vLi4vZmlsdGVycy9GaWx0ZXJFZmZlY3QubWpzJztcbmltcG9ydCB7IFJlbmRlckdyb3VwIH0gZnJvbSAnLi4vLi4vLi4vLi4vc2NlbmUvY29udGFpbmVyL1JlbmRlckdyb3VwLm1qcyc7XG5pbXBvcnQgeyB3YXJuIH0gZnJvbSAnLi4vLi4vLi4vLi4vdXRpbHMvbG9nZ2luZy93YXJuLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY29uc3QgQkxFTkRfTU9ERV9GSUxURVJTID0ge307XG5leHRlbnNpb25zLmhhbmRsZShFeHRlbnNpb25UeXBlLkJsZW5kTW9kZSwgKHZhbHVlKSA9PiB7XG4gIGlmICghdmFsdWUubmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkJsZW5kTW9kZSBleHRlbnNpb24gbXVzdCBoYXZlIGEgbmFtZSBwcm9wZXJ0eVwiKTtcbiAgfVxuICBCTEVORF9NT0RFX0ZJTFRFUlNbdmFsdWUubmFtZV0gPSB2YWx1ZS5yZWY7XG59LCAodmFsdWUpID0+IHtcbiAgZGVsZXRlIEJMRU5EX01PREVfRklMVEVSU1t2YWx1ZS5uYW1lXTtcbn0pO1xuY2xhc3MgQmxlbmRNb2RlUGlwZSB7XG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyKSB7XG4gICAgdGhpcy5fYmxlbmRNb2RlU3RhY2sgPSBbXTtcbiAgICB0aGlzLl9pc0FkdmFuY2VkID0gZmFsc2U7XG4gICAgdGhpcy5fZmlsdGVySGFzaCA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5fcmVuZGVyZXIucnVubmVycy5wcmVyZW5kZXIuYWRkKHRoaXMpO1xuICB9XG4gIHByZXJlbmRlcigpIHtcbiAgICB0aGlzLl9hY3RpdmVCbGVuZE1vZGUgPSBcIm5vcm1hbFwiO1xuICAgIHRoaXMuX2lzQWR2YW5jZWQgPSBmYWxzZTtcbiAgfVxuICAvKipcbiAgICogUHVzaCBhIGJsZW5kIG1vZGUgb250byB0aGUgaW50ZXJuYWwgc3RhY2sgYW5kIGFwcGx5IGl0IHRvIHRoZSBpbnN0cnVjdGlvbiBzZXQgaWYgbmVlZGVkLlxuICAgKiBAcGFyYW0gcmVuZGVyYWJsZSAtIFRoZSByZW5kZXJhYmxlIG9yIHtAbGluayBSZW5kZXJHcm91cH0gYXNzb2NpYXRlZCB3aXRoIHRoZSBjaGFuZ2UuXG4gICAqIEBwYXJhbSBibGVuZE1vZGUgLSBUaGUgYmxlbmQgbW9kZSB0byBhY3RpdmF0ZS5cbiAgICogQHBhcmFtIGluc3RydWN0aW9uU2V0IC0gVGhlIGluc3RydWN0aW9uIHNldCBiZWluZyBidWlsdC5cbiAgICovXG4gIHB1c2hCbGVuZE1vZGUocmVuZGVyYWJsZSwgYmxlbmRNb2RlLCBpbnN0cnVjdGlvblNldCkge1xuICAgIHRoaXMuX2JsZW5kTW9kZVN0YWNrLnB1c2goYmxlbmRNb2RlKTtcbiAgICB0aGlzLnNldEJsZW5kTW9kZShyZW5kZXJhYmxlLCBibGVuZE1vZGUsIGluc3RydWN0aW9uU2V0KTtcbiAgfVxuICAvKipcbiAgICogUG9wIHRoZSBsYXN0IGJsZW5kIG1vZGUgZnJvbSB0aGUgc3RhY2sgYW5kIGFwcGx5IHRoZSBuZXcgdG9wLW9mLXN0YWNrIG1vZGUuXG4gICAqIEBwYXJhbSBpbnN0cnVjdGlvblNldCAtIFRoZSBpbnN0cnVjdGlvbiBzZXQgYmVpbmcgYnVpbHQuXG4gICAqL1xuICBwb3BCbGVuZE1vZGUoaW5zdHJ1Y3Rpb25TZXQpIHtcbiAgICB0aGlzLl9ibGVuZE1vZGVTdGFjay5wb3AoKTtcbiAgICBjb25zdCBibGVuZE1vZGUgPSB0aGlzLl9ibGVuZE1vZGVTdGFja1t0aGlzLl9hY3RpdmVCbGVuZE1vZGUubGVuZ3RoIC0gMV0gPz8gXCJub3JtYWxcIjtcbiAgICB0aGlzLnNldEJsZW5kTW9kZShudWxsLCBibGVuZE1vZGUsIGluc3RydWN0aW9uU2V0KTtcbiAgfVxuICAvKipcbiAgICogRW5zdXJlIGEgYmxlbmQgbW9kZSBzd2l0Y2ggaXMgYWRkZWQgdG8gdGhlIGluc3RydWN0aW9uIHNldCB3aGVuIHRoZSBtb2RlIGNoYW5nZXMuXG4gICAqIElmIGFuIGFkdmFuY2VkIGJsZW5kIG1vZGUgaXMgYWN0aXZlLCBzdWJzZXF1ZW50IHJlbmRlcmFibGVzIHdpbGwgYmUgY29sbGVjdGVkIHNvIHRoZXkgY2FuIGJlXG4gICAqIHJlbmRlcmVkIHdpdGhpbiBhIHNpbmdsZSBmaWx0ZXIgcGFzcy5cbiAgICogQHBhcmFtIHJlbmRlcmFibGUgLSBUaGUgcmVuZGVyYWJsZSBvciB7QGxpbmsgUmVuZGVyR3JvdXB9IHRvIGFzc29jaWF0ZSB3aXRoIHRoZSBjaGFuZ2UsIG9yIG51bGwgd2hlbiB1bndpbmRpbmcuXG4gICAqIEBwYXJhbSBibGVuZE1vZGUgLSBUaGUgdGFyZ2V0IGJsZW5kIG1vZGUuXG4gICAqIEBwYXJhbSBpbnN0cnVjdGlvblNldCAtIFRoZSBpbnN0cnVjdGlvbiBzZXQgYmVpbmcgYnVpbHQuXG4gICAqL1xuICBzZXRCbGVuZE1vZGUocmVuZGVyYWJsZSwgYmxlbmRNb2RlLCBpbnN0cnVjdGlvblNldCkge1xuICAgIGNvbnN0IGlzUmVuZGVyR3JvdXAgPSByZW5kZXJhYmxlIGluc3RhbmNlb2YgUmVuZGVyR3JvdXA7XG4gICAgaWYgKHRoaXMuX2FjdGl2ZUJsZW5kTW9kZSA9PT0gYmxlbmRNb2RlKSB7XG4gICAgICBpZiAodGhpcy5faXNBZHZhbmNlZCAmJiByZW5kZXJhYmxlICYmICFpc1JlbmRlckdyb3VwKSB7XG4gICAgICAgIHRoaXMuX3JlbmRlcmFibGVMaXN0Py5wdXNoKHJlbmRlcmFibGUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5faXNBZHZhbmNlZClcbiAgICAgIHRoaXMuX2VuZEFkdmFuY2VkQmxlbmRNb2RlKGluc3RydWN0aW9uU2V0KTtcbiAgICB0aGlzLl9hY3RpdmVCbGVuZE1vZGUgPSBibGVuZE1vZGU7XG4gICAgaWYgKCFyZW5kZXJhYmxlKVxuICAgICAgcmV0dXJuO1xuICAgIHRoaXMuX2lzQWR2YW5jZWQgPSAhIUJMRU5EX01PREVfRklMVEVSU1tibGVuZE1vZGVdO1xuICAgIGlmICh0aGlzLl9pc0FkdmFuY2VkKVxuICAgICAgdGhpcy5fYmVnaW5BZHZhbmNlZEJsZW5kTW9kZShyZW5kZXJhYmxlLCBpbnN0cnVjdGlvblNldCk7XG4gIH1cbiAgX2JlZ2luQWR2YW5jZWRCbGVuZE1vZGUocmVuZGVyYWJsZSwgaW5zdHJ1Y3Rpb25TZXQpIHtcbiAgICB0aGlzLl9yZW5kZXJlci5yZW5kZXJQaXBlcy5iYXRjaC5icmVhayhpbnN0cnVjdGlvblNldCk7XG4gICAgY29uc3QgYmxlbmRNb2RlID0gdGhpcy5fYWN0aXZlQmxlbmRNb2RlO1xuICAgIGlmICghQkxFTkRfTU9ERV9GSUxURVJTW2JsZW5kTW9kZV0pIHtcbiAgICAgIHdhcm4oYFVuYWJsZSB0byBhc3NpZ24gQmxlbmRNb2RlOiAnJHtibGVuZE1vZGV9Jy4gWW91IG1heSB3YW50IHRvIGluY2x1ZGU6IGltcG9ydCAncGl4aS5qcy9hZHZhbmNlZC1ibGVuZC1tb2RlcydgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZmlsdGVyRWZmZWN0ID0gdGhpcy5fZW5zdXJlRmlsdGVyRWZmZWN0KGJsZW5kTW9kZSk7XG4gICAgY29uc3QgaXNSZW5kZXJHcm91cCA9IHJlbmRlcmFibGUgaW5zdGFuY2VvZiBSZW5kZXJHcm91cDtcbiAgICBjb25zdCBpbnN0cnVjdGlvbiA9IHtcbiAgICAgIHJlbmRlclBpcGVJZDogXCJmaWx0ZXJcIixcbiAgICAgIGFjdGlvbjogXCJwdXNoRmlsdGVyXCIsXG4gICAgICBmaWx0ZXJFZmZlY3QsXG4gICAgICByZW5kZXJhYmxlczogaXNSZW5kZXJHcm91cCA/IG51bGwgOiBbcmVuZGVyYWJsZV0sXG4gICAgICBjb250YWluZXI6IGlzUmVuZGVyR3JvdXAgPyByZW5kZXJhYmxlLnJvb3QgOiBudWxsLFxuICAgICAgY2FuQnVuZGxlOiBmYWxzZVxuICAgIH07XG4gICAgdGhpcy5fcmVuZGVyYWJsZUxpc3QgPSBpbnN0cnVjdGlvbi5yZW5kZXJhYmxlcztcbiAgICBpbnN0cnVjdGlvblNldC5hZGQoaW5zdHJ1Y3Rpb24pO1xuICB9XG4gIF9lbnN1cmVGaWx0ZXJFZmZlY3QoYmxlbmRNb2RlKSB7XG4gICAgbGV0IGZpbHRlckVmZmVjdCA9IHRoaXMuX2ZpbHRlckhhc2hbYmxlbmRNb2RlXTtcbiAgICBpZiAoIWZpbHRlckVmZmVjdCkge1xuICAgICAgZmlsdGVyRWZmZWN0ID0gdGhpcy5fZmlsdGVySGFzaFtibGVuZE1vZGVdID0gbmV3IEZpbHRlckVmZmVjdCgpO1xuICAgICAgZmlsdGVyRWZmZWN0LmZpbHRlcnMgPSBbbmV3IEJMRU5EX01PREVfRklMVEVSU1tibGVuZE1vZGVdKCldO1xuICAgIH1cbiAgICByZXR1cm4gZmlsdGVyRWZmZWN0O1xuICB9XG4gIF9lbmRBZHZhbmNlZEJsZW5kTW9kZShpbnN0cnVjdGlvblNldCkge1xuICAgIHRoaXMuX2lzQWR2YW5jZWQgPSBmYWxzZTtcbiAgICB0aGlzLl9yZW5kZXJhYmxlTGlzdCA9IG51bGw7XG4gICAgdGhpcy5fcmVuZGVyZXIucmVuZGVyUGlwZXMuYmF0Y2guYnJlYWsoaW5zdHJ1Y3Rpb25TZXQpO1xuICAgIGluc3RydWN0aW9uU2V0LmFkZCh7XG4gICAgICByZW5kZXJQaXBlSWQ6IFwiZmlsdGVyXCIsXG4gICAgICBhY3Rpb246IFwicG9wRmlsdGVyXCIsXG4gICAgICBjYW5CdW5kbGU6IGZhbHNlXG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIGNhbGxlZCB3aGVuIHRoZSBpbnN0cnVjdGlvbiBidWlsZCBwcm9jZXNzIGlzIHN0YXJ0aW5nIHRoaXMgd2lsbCByZXNldCBpbnRlcm5hbGx5IHRvIHRoZSBkZWZhdWx0IGJsZW5kIG1vZGVcbiAgICogQGludGVybmFsXG4gICAqL1xuICBidWlsZFN0YXJ0KCkge1xuICAgIHRoaXMuX2lzQWR2YW5jZWQgPSBmYWxzZTtcbiAgfVxuICAvKipcbiAgICogY2FsbGVkIHdoZW4gdGhlIGluc3RydWN0aW9uIGJ1aWxkIHByb2Nlc3MgaXMgZmluaXNoZWQsIGVuc3VyaW5nIHRoYXQgaWYgdGhlcmUgaXMgYW4gYWR2YW5jZWQgYmxlbmQgbW9kZVxuICAgKiBhY3RpdmUsIHdlIGFkZCB0aGUgZmluYWwgcmVuZGVyIGluc3RydWN0aW9ucyBhZGRlZCB0byB0aGUgaW5zdHJ1Y3Rpb24gc2V0XG4gICAqIEBwYXJhbSBpbnN0cnVjdGlvblNldCAtIFRoZSBpbnN0cnVjdGlvbiBzZXQgd2UgYXJlIGFkZGluZyB0b1xuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGJ1aWxkRW5kKGluc3RydWN0aW9uU2V0KSB7XG4gICAgaWYgKCF0aGlzLl9pc0FkdmFuY2VkKVxuICAgICAgcmV0dXJuO1xuICAgIHRoaXMuX2VuZEFkdmFuY2VkQmxlbmRNb2RlKGluc3RydWN0aW9uU2V0KTtcbiAgfVxuICAvKiogQGludGVybmFsICovXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSBudWxsO1xuICAgIHRoaXMuX3JlbmRlcmFibGVMaXN0ID0gbnVsbDtcbiAgICBmb3IgKGNvbnN0IGkgaW4gdGhpcy5fZmlsdGVySGFzaCkge1xuICAgICAgdGhpcy5fZmlsdGVySGFzaFtpXS5kZXN0cm95KCk7XG4gICAgfVxuICAgIHRoaXMuX2ZpbHRlckhhc2ggPSBudWxsO1xuICB9XG59XG4vKiogQGlnbm9yZSAqL1xuQmxlbmRNb2RlUGlwZS5leHRlbnNpb24gPSB7XG4gIHR5cGU6IFtcbiAgICBFeHRlbnNpb25UeXBlLldlYkdMUGlwZXMsXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHUFVQaXBlcyxcbiAgICBFeHRlbnNpb25UeXBlLkNhbnZhc1BpcGVzXG4gIF0sXG4gIG5hbWU6IFwiYmxlbmRNb2RlXCJcbn07XG5cbmV4cG9ydCB7IEJsZW5kTW9kZVBpcGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJsZW5kTW9kZVBpcGUubWpzLm1hcFxuIiwiaW1wb3J0IHsgRE9NQWRhcHRlciB9IGZyb20gJy4uLy4uLy4uLy4uL2Vudmlyb25tZW50L2FkYXB0ZXIubWpzJztcbmltcG9ydCB7IEV4dGVuc2lvblR5cGUgfSBmcm9tICcuLi8uLi8uLi8uLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcbmltcG9ydCB7IENvbnRhaW5lciB9IGZyb20gJy4uLy4uLy4uLy4uL3NjZW5lL2NvbnRhaW5lci9Db250YWluZXIubWpzJztcbmltcG9ydCB7IFRleHR1cmUgfSBmcm9tICcuLi90ZXh0dXJlL1RleHR1cmUubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBpbWFnZVR5cGVzID0ge1xuICBwbmc6IFwiaW1hZ2UvcG5nXCIsXG4gIGpwZzogXCJpbWFnZS9qcGVnXCIsXG4gIHdlYnA6IFwiaW1hZ2Uvd2VicFwiXG59O1xuY29uc3QgX0V4dHJhY3RTeXN0ZW0gPSBjbGFzcyBfRXh0cmFjdFN5c3RlbSB7XG4gIC8qKiBAcGFyYW0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBTeXN0ZW0gd29ya3MgZm9yLiAqL1xuICBjb25zdHJ1Y3RvcihyZW5kZXJlcikge1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gIH1cbiAgX25vcm1hbGl6ZU9wdGlvbnMob3B0aW9ucywgZGVmYXVsdHMgPSB7fSkge1xuICAgIGlmIChvcHRpb25zIGluc3RhbmNlb2YgQ29udGFpbmVyIHx8IG9wdGlvbnMgaW5zdGFuY2VvZiBUZXh0dXJlKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0YXJnZXQ6IG9wdGlvbnMsXG4gICAgICAgIC4uLmRlZmF1bHRzXG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgLi4uZGVmYXVsdHMsXG4gICAgICAuLi5vcHRpb25zXG4gICAgfTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlcyBhbiBJSW1hZ2UgZnJvbSBhIGRpc3BsYXkgb2JqZWN0IG9yIHRleHR1cmUuXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gT3B0aW9ucyBmb3IgY3JlYXRpbmcgdGhlIGltYWdlLCBvciB0aGUgdGFyZ2V0IHRvIGV4dHJhY3RcbiAgICogQHJldHVybnMgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggdGhlIGdlbmVyYXRlZCBJSW1hZ2VcbiAgICogQGV4YW1wbGVcbiAgICogYGBgdHNcbiAgICogLy8gQmFzaWMgdXNhZ2Ugd2l0aCBhIHNwcml0ZVxuICAgKiBjb25zdCBzcHJpdGUgPSBuZXcgU3ByaXRlKHRleHR1cmUpO1xuICAgKiBjb25zdCBpbWFnZSA9IGF3YWl0IHJlbmRlcmVyLmV4dHJhY3QuaW1hZ2Uoc3ByaXRlKTtcbiAgICogZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChpbWFnZSk7XG4gICAqXG4gICAqIC8vIEFkdmFuY2VkIHVzYWdlIHdpdGggb3B0aW9uc1xuICAgKiBjb25zdCBpbWFnZSA9IGF3YWl0IHJlbmRlcmVyLmV4dHJhY3QuaW1hZ2Uoe1xuICAgKiAgICAgdGFyZ2V0OiBjb250YWluZXIsXG4gICAqICAgICBmb3JtYXQ6ICd3ZWJwJyxcbiAgICogICAgIHF1YWxpdHk6IDAuOCxcbiAgICogICAgIGZyYW1lOiBuZXcgUmVjdGFuZ2xlKDAsIDAsIDEwMCwgMTAwKSxcbiAgICogICAgIHJlc29sdXRpb246IDIsXG4gICAqICAgICBjbGVhckNvbG9yOiAnI2ZmMDAwMCcsXG4gICAqICAgICBhbnRpYWxpYXM6IHRydWVcbiAgICogfSk7XG4gICAqXG4gICAqIC8vIEV4dHJhY3QgZGlyZWN0bHkgZnJvbSBhIHRleHR1cmVcbiAgICogY29uc3QgdGV4dHVyZSA9IFRleHR1cmUuZnJvbSgnbXlUZXh0dXJlLnBuZycpO1xuICAgKiBjb25zdCBpbWFnZSA9IGF3YWl0IHJlbmRlcmVyLmV4dHJhY3QuaW1hZ2UodGV4dHVyZSk7XG4gICAqIGBgYFxuICAgKiBAc2VlIHtAbGluayBFeHRyYWN0SW1hZ2VPcHRpb25zfSBGb3IgZGV0YWlsZWQgb3B0aW9uc1xuICAgKiBAc2VlIHtAbGluayBFeHRyYWN0U3lzdGVtLmJhc2U2NH0gRm9yIGJhc2U2NCBzdHJpbmcgb3V0cHV0XG4gICAqIEBzZWUge0BsaW5rIEV4dHJhY3RTeXN0ZW0uY2FudmFzfSBGb3IgY2FudmFzIG91dHB1dFxuICAgKiBAc2VlIHtAbGluayBJbWFnZUxpa2V9IEZvciB0aGUgaW1hZ2UgaW50ZXJmYWNlXG4gICAqIEBjYXRlZ29yeSByZW5kZXJpbmdcbiAgICovXG4gIGFzeW5jIGltYWdlKG9wdGlvbnMpIHtcbiAgICBjb25zdCBpbWFnZSA9IERPTUFkYXB0ZXIuZ2V0KCkuY3JlYXRlSW1hZ2UoKTtcbiAgICBpbWFnZS5zcmMgPSBhd2FpdCB0aGlzLmJhc2U2NChvcHRpb25zKTtcbiAgICByZXR1cm4gaW1hZ2U7XG4gIH1cbiAgLyoqXG4gICAqIENvbnZlcnRzIHRoZSB0YXJnZXQgaW50byBhIGJhc2U2NCBlbmNvZGVkIHN0cmluZy5cbiAgICpcbiAgICogVGhpcyBtZXRob2Qgd29ya3MgYnkgZmlyc3QgY3JlYXRpbmdcbiAgICogYSBjYW52YXMgdXNpbmcgYEV4dHJhY3QuY2FudmFzYCBhbmQgdGhlbiBjb252ZXJ0aW5nIGl0IHRvIGEgYmFzZTY0IHN0cmluZy5cbiAgICogQHBhcmFtIG9wdGlvbnMgLSBUaGUgb3B0aW9ucyBmb3IgY3JlYXRpbmcgdGhlIGJhc2U2NCBzdHJpbmcsIG9yIHRoZSB0YXJnZXQgdG8gZXh0cmFjdFxuICAgKiBAcmV0dXJucyBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCB0aGUgYmFzZTY0IGVuY29kZWQgc3RyaW5nXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYHRzXG4gICAqIC8vIEJhc2ljIHVzYWdlIHdpdGggYSBzcHJpdGVcbiAgICogY29uc3Qgc3ByaXRlID0gbmV3IFNwcml0ZSh0ZXh0dXJlKTtcbiAgICogY29uc3QgYmFzZTY0ID0gYXdhaXQgcmVuZGVyZXIuZXh0cmFjdC5iYXNlNjQoc3ByaXRlKTtcbiAgICogY29uc29sZS5sb2coYmFzZTY0KTsgLy8gZGF0YTppbWFnZS9wbmc7YmFzZTY0LC4uLlxuICAgKlxuICAgKiAvLyBBZHZhbmNlZCB1c2FnZSB3aXRoIG9wdGlvbnNcbiAgICogY29uc3QgYmFzZTY0ID0gYXdhaXQgcmVuZGVyZXIuZXh0cmFjdC5iYXNlNjQoe1xuICAgKiAgICAgdGFyZ2V0OiBjb250YWluZXIsXG4gICAqICAgICBmb3JtYXQ6ICd3ZWJwJyxcbiAgICogICAgIHF1YWxpdHk6IDAuOCxcbiAgICogICAgIGZyYW1lOiBuZXcgUmVjdGFuZ2xlKDAsIDAsIDEwMCwgMTAwKSxcbiAgICogICAgIHJlc29sdXRpb246IDJcbiAgICogfSk7XG4gICAqIGBgYFxuICAgKiBAdGhyb3dzIFdpbGwgdGhyb3cgYW4gZXJyb3IgaWYgdGhlIHBsYXRmb3JtIGRvZXNuJ3Qgc3VwcG9ydCBhbnkgb2Y6XG4gICAqIC0gSUNhbnZhcy50b0RhdGFVUkxcbiAgICogLSBJQ2FudmFzLnRvQmxvYlxuICAgKiAtIElDYW52YXMuY29udmVydFRvQmxvYlxuICAgKiBAc2VlIHtAbGluayBFeHRyYWN0SW1hZ2VPcHRpb25zfSBGb3IgZGV0YWlsZWQgb3B0aW9uc1xuICAgKiBAc2VlIHtAbGluayBFeHRyYWN0U3lzdGVtLmNhbnZhc30gRm9yIGNhbnZhcyBvdXRwdXRcbiAgICogQHNlZSB7QGxpbmsgRXh0cmFjdFN5c3RlbS5pbWFnZX0gRm9yIEhUTUxJbWFnZSBvdXRwdXRcbiAgICogQGNhdGVnb3J5IHJlbmRlcmluZ1xuICAgKi9cbiAgYXN5bmMgYmFzZTY0KG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gdGhpcy5fbm9ybWFsaXplT3B0aW9ucyhcbiAgICAgIG9wdGlvbnMsXG4gICAgICBfRXh0cmFjdFN5c3RlbS5kZWZhdWx0SW1hZ2VPcHRpb25zXG4gICAgKTtcbiAgICBjb25zdCB7IGZvcm1hdCwgcXVhbGl0eSB9ID0gb3B0aW9ucztcbiAgICBjb25zdCBjYW52YXMgPSB0aGlzLmNhbnZhcyhvcHRpb25zKTtcbiAgICBpZiAoY2FudmFzLnRvQmxvYiAhPT0gdm9pZCAwKSB7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBjYW52YXMudG9CbG9iKChibG9iKSA9PiB7XG4gICAgICAgICAgaWYgKCFibG9iKSB7XG4gICAgICAgICAgICByZWplY3QobmV3IEVycm9yKFwiSUNhbnZhcy50b0Jsb2IgZmFpbGVkIVwiKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICAgICAgcmVhZGVyLm9ubG9hZCA9ICgpID0+IHJlc29sdmUocmVhZGVyLnJlc3VsdCk7XG4gICAgICAgICAgcmVhZGVyLm9uZXJyb3IgPSByZWplY3Q7XG4gICAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoYmxvYik7XG4gICAgICAgIH0sIGltYWdlVHlwZXNbZm9ybWF0XSwgcXVhbGl0eSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGNhbnZhcy50b0RhdGFVUkwgIT09IHZvaWQgMCkge1xuICAgICAgcmV0dXJuIGNhbnZhcy50b0RhdGFVUkwoaW1hZ2VUeXBlc1tmb3JtYXRdLCBxdWFsaXR5KTtcbiAgICB9XG4gICAgaWYgKGNhbnZhcy5jb252ZXJ0VG9CbG9iICE9PSB2b2lkIDApIHtcbiAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCBjYW52YXMuY29udmVydFRvQmxvYih7IHR5cGU6IGltYWdlVHlwZXNbZm9ybWF0XSwgcXVhbGl0eSB9KTtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICAgIHJlYWRlci5vbmxvYWQgPSAoKSA9PiByZXNvbHZlKHJlYWRlci5yZXN1bHQpO1xuICAgICAgICByZWFkZXIub25lcnJvciA9IHJlamVjdDtcbiAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoYmxvYik7XG4gICAgICB9KTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRXh0cmFjdC5iYXNlNjQoKSByZXF1aXJlcyBJQ2FudmFzLnRvRGF0YVVSTCwgSUNhbnZhcy50b0Jsb2IsIG9yIElDYW52YXMuY29udmVydFRvQmxvYiB0byBiZSBpbXBsZW1lbnRlZFwiKTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlcyBhIENhbnZhcyBlbGVtZW50LCByZW5kZXJzIHRoZSB0YXJnZXQgdG8gaXQgYW5kIHJldHVybnMgaXQuXG4gICAqIFRoaXMgbWV0aG9kIGlzIHVzZWZ1bCBmb3IgY3JlYXRpbmcgc3RhdGljIGltYWdlcyBvciB3aGVuIHlvdSBuZWVkIGRpcmVjdCBjYW52YXMgYWNjZXNzLlxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIFRoZSBvcHRpb25zIGZvciBjcmVhdGluZyB0aGUgY2FudmFzLCBvciB0aGUgdGFyZ2V0IHRvIGV4dHJhY3RcbiAgICogQHJldHVybnMgQSBDYW52YXMgZWxlbWVudCB3aXRoIHRoZSB0ZXh0dXJlIHJlbmRlcmVkIG9uXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYHRzXG4gICAqIC8vIEJhc2ljIGNhbnZhcyBleHRyYWN0aW9uIGZyb20gYSBzcHJpdGVcbiAgICogY29uc3Qgc3ByaXRlID0gbmV3IFNwcml0ZSh0ZXh0dXJlKTtcbiAgICogY29uc3QgY2FudmFzID0gcmVuZGVyZXIuZXh0cmFjdC5jYW52YXMoc3ByaXRlKTtcbiAgICogZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjYW52YXMpO1xuICAgKlxuICAgKiAvLyBFeHRyYWN0IHdpdGggY3VzdG9tIHJlZ2lvblxuICAgKiBjb25zdCBjYW52YXMgPSByZW5kZXJlci5leHRyYWN0LmNhbnZhcyh7XG4gICAqICAgICB0YXJnZXQ6IGNvbnRhaW5lcixcbiAgICogICAgIGZyYW1lOiBuZXcgUmVjdGFuZ2xlKDAsIDAsIDEwMCwgMTAwKVxuICAgKiB9KTtcbiAgICpcbiAgICogLy8gRXh0cmFjdCB3aXRoIGhpZ2ggcmVzb2x1dGlvblxuICAgKiBjb25zdCBjYW52YXMgPSByZW5kZXJlci5leHRyYWN0LmNhbnZhcyh7XG4gICAqICAgICB0YXJnZXQ6IHNwcml0ZSxcbiAgICogICAgIHJlc29sdXRpb246IDIsXG4gICAqICAgICBjbGVhckNvbG9yOiAnI2ZmMDAwMCdcbiAgICogfSk7XG4gICAqXG4gICAqIC8vIEV4dHJhY3QgZGlyZWN0bHkgZnJvbSBhIHRleHR1cmVcbiAgICogY29uc3QgdGV4dHVyZSA9IFRleHR1cmUuZnJvbSgnbXlUZXh0dXJlLnBuZycpO1xuICAgKiBjb25zdCBjYW52YXMgPSByZW5kZXJlci5leHRyYWN0LmNhbnZhcyh0ZXh0dXJlKTtcbiAgICpcbiAgICogLy8gRXh0cmFjdCB3aXRoIGFudGktYWxpYXNpbmdcbiAgICogY29uc3QgY2FudmFzID0gcmVuZGVyZXIuZXh0cmFjdC5jYW52YXMoe1xuICAgKiAgICAgdGFyZ2V0OiBncmFwaGljcyxcbiAgICogICAgIGFudGlhbGlhczogdHJ1ZVxuICAgKiB9KTtcbiAgICogYGBgXG4gICAqIEBzZWUge0BsaW5rIEV4dHJhY3RPcHRpb25zfSBGb3IgZGV0YWlsZWQgb3B0aW9uc1xuICAgKiBAc2VlIHtAbGluayBFeHRyYWN0U3lzdGVtLmltYWdlfSBGb3IgSFRNTEltYWdlIG91dHB1dFxuICAgKiBAc2VlIHtAbGluayBFeHRyYWN0U3lzdGVtLnBpeGVsc30gRm9yIHJhdyBwaXhlbCBkYXRhXG4gICAqIEBjYXRlZ29yeSByZW5kZXJpbmdcbiAgICovXG4gIGNhbnZhcyhvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IHRoaXMuX25vcm1hbGl6ZU9wdGlvbnMob3B0aW9ucyk7XG4gICAgY29uc3QgdGFyZ2V0ID0gb3B0aW9ucy50YXJnZXQ7XG4gICAgY29uc3QgcmVuZGVyZXIgPSB0aGlzLl9yZW5kZXJlcjtcbiAgICBpZiAodGFyZ2V0IGluc3RhbmNlb2YgVGV4dHVyZSkge1xuICAgICAgcmV0dXJuIHJlbmRlcmVyLnRleHR1cmUuZ2VuZXJhdGVDYW52YXModGFyZ2V0KTtcbiAgICB9XG4gICAgY29uc3QgdGV4dHVyZSA9IHJlbmRlcmVyLnRleHR1cmVHZW5lcmF0b3IuZ2VuZXJhdGVUZXh0dXJlKG9wdGlvbnMpO1xuICAgIGNvbnN0IGNhbnZhcyA9IHJlbmRlcmVyLnRleHR1cmUuZ2VuZXJhdGVDYW52YXModGV4dHVyZSk7XG4gICAgdGV4dHVyZS5kZXN0cm95KHRydWUpO1xuICAgIHJldHVybiBjYW52YXM7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgYSBvbmUtZGltZW5zaW9uYWwgYXJyYXkgY29udGFpbmluZyB0aGUgcGl4ZWwgZGF0YSBvZiB0aGUgZW50aXJlIHRleHR1cmUgaW4gUkdCQSBvcmRlcixcbiAgICogd2l0aCBpbnRlZ2VyIHZhbHVlcyBiZXR3ZWVuIDAgYW5kIDI1NSAoaW5jbHVzaXZlKS5cbiAgICogPiBbIU5PRV0gVGhlIHJldHVybmVkIGFycmF5IGlzIGEgZmxhdCBVaW50OEFycmF5IHdoZXJlIGV2ZXJ5IDQgdmFsdWVzIHJlcHJlc2VudCBSR0JBXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gVGhlIG9wdGlvbnMgZm9yIGV4dHJhY3RpbmcgdGhlIGltYWdlLCBvciB0aGUgdGFyZ2V0IHRvIGV4dHJhY3RcbiAgICogQHJldHVybnMgT25lLWRpbWVuc2lvbmFsIFVpbnQ4QXJyYXkgY29udGFpbmluZyB0aGUgcGl4ZWwgZGF0YSBpbiBSR0JBIGZvcm1hdFxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0c1xuICAgKiAvLyBCYXNpYyBwaXhlbCBleHRyYWN0aW9uXG4gICAqIGNvbnN0IHNwcml0ZSA9IG5ldyBTcHJpdGUodGV4dHVyZSk7XG4gICAqIGNvbnN0IHBpeGVscyA9IHJlbmRlcmVyLmV4dHJhY3QucGl4ZWxzKHNwcml0ZSk7XG4gICAqIGNvbnNvbGUubG9nKHBpeGVsc1swXSwgcGl4ZWxzWzFdLCBwaXhlbHNbMl0sIHBpeGVsc1szXSk7IC8vIFIsRyxCLEEgdmFsdWVzXG4gICAqXG4gICAqIC8vIEV4dHJhY3Qgd2l0aCBjdXN0b20gcmVnaW9uXG4gICAqIGNvbnN0IHBpeGVscyA9IHJlbmRlcmVyLmV4dHJhY3QucGl4ZWxzKHtcbiAgICogICAgIHRhcmdldDogc3ByaXRlLFxuICAgKiAgICAgZnJhbWU6IG5ldyBSZWN0YW5nbGUoMCwgMCwgMTAwLCAxMDApXG4gICAqIH0pO1xuICAgKlxuICAgKiAvLyBFeHRyYWN0IHdpdGggaGlnaCByZXNvbHV0aW9uXG4gICAqIGNvbnN0IHBpeGVscyA9IHJlbmRlcmVyLmV4dHJhY3QucGl4ZWxzKHtcbiAgICogICAgIHRhcmdldDogc3ByaXRlLFxuICAgKiAgICAgcmVzb2x1dGlvbjogMlxuICAgKiB9KTtcbiAgICogYGBgXG4gICAqIEBzZWUge0BsaW5rIEV4dHJhY3RPcHRpb25zfSBGb3IgZGV0YWlsZWQgb3B0aW9uc1xuICAgKiBAc2VlIHtAbGluayBFeHRyYWN0U3lzdGVtLmNhbnZhc30gRm9yIGNhbnZhcyBvdXRwdXRcbiAgICogQHNlZSB7QGxpbmsgRXh0cmFjdFN5c3RlbS5pbWFnZX0gRm9yIGltYWdlIG91dHB1dFxuICAgKiBAY2F0ZWdvcnkgcmVuZGVyaW5nXG4gICAqL1xuICBwaXhlbHMob3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSB0aGlzLl9ub3JtYWxpemVPcHRpb25zKG9wdGlvbnMpO1xuICAgIGNvbnN0IHRhcmdldCA9IG9wdGlvbnMudGFyZ2V0O1xuICAgIGNvbnN0IHJlbmRlcmVyID0gdGhpcy5fcmVuZGVyZXI7XG4gICAgY29uc3QgdGV4dHVyZSA9IHRhcmdldCBpbnN0YW5jZW9mIFRleHR1cmUgPyB0YXJnZXQgOiByZW5kZXJlci50ZXh0dXJlR2VuZXJhdG9yLmdlbmVyYXRlVGV4dHVyZShvcHRpb25zKTtcbiAgICBjb25zdCBwaXhlbEluZm8gPSByZW5kZXJlci50ZXh0dXJlLmdldFBpeGVscyh0ZXh0dXJlKTtcbiAgICBpZiAodGFyZ2V0IGluc3RhbmNlb2YgQ29udGFpbmVyKSB7XG4gICAgICB0ZXh0dXJlLmRlc3Ryb3kodHJ1ZSk7XG4gICAgfVxuICAgIHJldHVybiBwaXhlbEluZm87XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSB0ZXh0dXJlIGZyb20gYSBkaXNwbGF5IG9iamVjdCBvciBleGlzdGluZyB0ZXh0dXJlLlxuICAgKlxuICAgKiBUaGlzIGlzIHVzZWZ1bCBmb3IgY3JlYXRpbmdcbiAgICogcmV1c2FibGUgdGV4dHVyZXMgZnJvbSByZW5kZXJlZCBjb250ZW50IG9yIG1ha2luZyBjb3BpZXMgb2YgZXhpc3RpbmcgdGV4dHVyZXMuXG4gICAqID4gWyFOT1RFXSBUaGUgcmV0dXJuZWQgdGV4dHVyZSBzaG91bGQgYmUgZGVzdHJveWVkIHdoZW4gbm8gbG9uZ2VyIG5lZWRlZFxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIFRoZSBvcHRpb25zIGZvciBjcmVhdGluZyB0aGUgdGV4dHVyZSwgb3IgdGhlIHRhcmdldCB0byBleHRyYWN0XG4gICAqIEByZXR1cm5zIEEgbmV3IHRleHR1cmUgY29udGFpbmluZyB0aGUgZXh0cmFjdGVkIGNvbnRlbnRcbiAgICogQGV4YW1wbGVcbiAgICogYGBgdHNcbiAgICogLy8gQmFzaWMgdGV4dHVyZSBleHRyYWN0aW9uIGZyb20gYSBzcHJpdGVcbiAgICogY29uc3Qgc3ByaXRlID0gbmV3IFNwcml0ZSh0ZXh0dXJlKTtcbiAgICogY29uc3QgZXh0cmFjdGVkVGV4dHVyZSA9IHJlbmRlcmVyLmV4dHJhY3QudGV4dHVyZShzcHJpdGUpO1xuICAgKlxuICAgKiAvLyBFeHRyYWN0IHdpdGggY3VzdG9tIHJlZ2lvblxuICAgKiBjb25zdCByZWdpb25UZXh0dXJlID0gcmVuZGVyZXIuZXh0cmFjdC50ZXh0dXJlKHtcbiAgICogICAgIHRhcmdldDogY29udGFpbmVyLFxuICAgKiAgICAgZnJhbWU6IG5ldyBSZWN0YW5nbGUoMCwgMCwgMTAwLCAxMDApXG4gICAqIH0pO1xuICAgKlxuICAgKiAvLyBFeHRyYWN0IHdpdGggaGlnaCByZXNvbHV0aW9uXG4gICAqIGNvbnN0IGhpUmVzVGV4dHVyZSA9IHJlbmRlcmVyLmV4dHJhY3QudGV4dHVyZSh7XG4gICAqICAgICB0YXJnZXQ6IHNwcml0ZSxcbiAgICogICAgIHJlc29sdXRpb246IDIsXG4gICAqICAgICBjbGVhckNvbG9yOiAnI2ZmMDAwMCdcbiAgICogfSk7XG4gICAqXG4gICAqIC8vIENyZWF0ZSBhIG5ldyBzcHJpdGUgZnJvbSBleHRyYWN0ZWQgdGV4dHVyZVxuICAgKiBjb25zdCBuZXdTcHJpdGUgPSBuZXcgU3ByaXRlKFxuICAgKiAgICAgcmVuZGVyZXIuZXh0cmFjdC50ZXh0dXJlKHtcbiAgICogICAgICAgICB0YXJnZXQ6IGdyYXBoaWNzLFxuICAgKiAgICAgICAgIGFudGlhbGlhczogdHJ1ZVxuICAgKiAgICAgfSlcbiAgICogKTtcbiAgICpcbiAgICogLy8gQ2xlYW4gdXAgd2hlbiBkb25lXG4gICAqIGV4dHJhY3RlZFRleHR1cmUuZGVzdHJveSh0cnVlKTtcbiAgICogYGBgXG4gICAqIEBzZWUge0BsaW5rIEV4dHJhY3RPcHRpb25zfSBGb3IgZGV0YWlsZWQgb3B0aW9uc1xuICAgKiBAc2VlIHtAbGluayBUZXh0dXJlfSBGb3IgdGV4dHVyZSBtYW5hZ2VtZW50XG4gICAqIEBzZWUge0BsaW5rIEdlbmVyYXRlVGV4dHVyZVN5c3RlbX0gRm9yIHRleHR1cmUgZ2VuZXJhdGlvblxuICAgKiBAY2F0ZWdvcnkgcmVuZGVyaW5nXG4gICAqL1xuICB0ZXh0dXJlKG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gdGhpcy5fbm9ybWFsaXplT3B0aW9ucyhvcHRpb25zKTtcbiAgICBpZiAob3B0aW9ucy50YXJnZXQgaW5zdGFuY2VvZiBUZXh0dXJlKVxuICAgICAgcmV0dXJuIG9wdGlvbnMudGFyZ2V0O1xuICAgIHJldHVybiB0aGlzLl9yZW5kZXJlci50ZXh0dXJlR2VuZXJhdG9yLmdlbmVyYXRlVGV4dHVyZShvcHRpb25zKTtcbiAgfVxuICAvKipcbiAgICogRXh0cmFjdHMgYW5kIGRvd25sb2FkcyBjb250ZW50IGZyb20gdGhlIHJlbmRlcmVyIGFzIGFuIGltYWdlIGZpbGUuXG4gICAqIFRoaXMgaXMgYSBjb252ZW5pZW50IHdheSB0byBzYXZlIHNjcmVlbnNob3RzIG9yIGV4cG9ydCByZW5kZXJlZCBjb250ZW50LlxuICAgKiA+IFshTk9URV0gVGhlIGRvd25sb2FkIHdpbGwgdXNlIFBORyBmb3JtYXQgcmVnYXJkbGVzcyBvZiB0aGUgZmlsZW5hbWUgZXh0ZW5zaW9uXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gVGhlIG9wdGlvbnMgZm9yIGRvd25sb2FkaW5nIGFuZCBleHRyYWN0aW5nIHRoZSBpbWFnZSwgb3IgdGhlIHRhcmdldCB0byBleHRyYWN0XG4gICAqIEBleGFtcGxlXG4gICAqIGBgYHRzXG4gICAqIC8vIEJhc2ljIGRvd25sb2FkIHdpdGggZGVmYXVsdCBmaWxlbmFtZVxuICAgKiBjb25zdCBzcHJpdGUgPSBuZXcgU3ByaXRlKHRleHR1cmUpO1xuICAgKiByZW5kZXJlci5leHRyYWN0LmRvd25sb2FkKHNwcml0ZSk7IC8vIERvd25sb2FkcyBhcyAnaW1hZ2UucG5nJ1xuICAgKlxuICAgKiAvLyBEb3dubG9hZCB3aXRoIGN1c3RvbSBmaWxlbmFtZVxuICAgKiByZW5kZXJlci5leHRyYWN0LmRvd25sb2FkKHtcbiAgICogICAgIHRhcmdldDogc3ByaXRlLFxuICAgKiAgICAgZmlsZW5hbWU6ICdzY3JlZW5zaG90LnBuZydcbiAgICogfSk7XG4gICAqXG4gICAqIC8vIERvd25sb2FkIHdpdGggY3VzdG9tIHJlZ2lvblxuICAgKiByZW5kZXJlci5leHRyYWN0LmRvd25sb2FkKHtcbiAgICogICAgIHRhcmdldDogY29udGFpbmVyLFxuICAgKiAgICAgZmlsZW5hbWU6ICdyZWdpb24ucG5nJyxcbiAgICogICAgIGZyYW1lOiBuZXcgUmVjdGFuZ2xlKDAsIDAsIDEwMCwgMTAwKVxuICAgKiB9KTtcbiAgICpcbiAgICogLy8gRG93bmxvYWQgd2l0aCBoaWdoIHJlc29sdXRpb24gYW5kIGJhY2tncm91bmRcbiAgICogcmVuZGVyZXIuZXh0cmFjdC5kb3dubG9hZCh7XG4gICAqICAgICB0YXJnZXQ6IHN0YWdlLFxuICAgKiAgICAgZmlsZW5hbWU6ICdoZC1zY3JlZW5zaG90LnBuZycsXG4gICAqICAgICByZXNvbHV0aW9uOiAyLFxuICAgKiAgICAgY2xlYXJDb2xvcjogJyNmZjAwMDAnXG4gICAqIH0pO1xuICAgKlxuICAgKiAvLyBEb3dubG9hZCB3aXRoIGFudGktYWxpYXNpbmdcbiAgICogcmVuZGVyZXIuZXh0cmFjdC5kb3dubG9hZCh7XG4gICAqICAgICB0YXJnZXQ6IGdyYXBoaWNzLFxuICAgKiAgICAgZmlsZW5hbWU6ICdzbW9vdGgucG5nJyxcbiAgICogICAgIGFudGlhbGlhczogdHJ1ZVxuICAgKiB9KTtcbiAgICogYGBgXG4gICAqIEBzZWUge0BsaW5rIEV4dHJhY3REb3dubG9hZE9wdGlvbnN9IEZvciBkZXRhaWxlZCBvcHRpb25zXG4gICAqIEBzZWUge0BsaW5rIEV4dHJhY3RTeXN0ZW0uaW1hZ2V9IEZvciBjcmVhdGluZyBpbWFnZXMgd2l0aG91dCBkb3dubG9hZFxuICAgKiBAc2VlIHtAbGluayBFeHRyYWN0U3lzdGVtLmNhbnZhc30gRm9yIGNhbnZhcyBvdXRwdXRcbiAgICogQGNhdGVnb3J5IHJlbmRlcmluZ1xuICAgKi9cbiAgZG93bmxvYWQob3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSB0aGlzLl9ub3JtYWxpemVPcHRpb25zKG9wdGlvbnMpO1xuICAgIGNvbnN0IGNhbnZhcyA9IHRoaXMuY2FudmFzKG9wdGlvbnMpO1xuICAgIGNvbnN0IGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtcbiAgICBsaW5rLmRvd25sb2FkID0gb3B0aW9ucy5maWxlbmFtZSA/PyBcImltYWdlLnBuZ1wiO1xuICAgIGxpbmsuaHJlZiA9IGNhbnZhcy50b0RhdGFVUkwoXCJpbWFnZS9wbmdcIik7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChsaW5rKTtcbiAgICBsaW5rLmNsaWNrKCk7XG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChsaW5rKTtcbiAgfVxuICAvKipcbiAgICogTG9ncyB0aGUgdGFyZ2V0IHRvIHRoZSBjb25zb2xlIGFzIGFuIGltYWdlLiBUaGlzIGlzIGEgdXNlZnVsIHdheSB0byBkZWJ1ZyB3aGF0J3MgaGFwcGVuaW5nIGluIHRoZSByZW5kZXJlci5cbiAgICogVGhlIGltYWdlIHdpbGwgYmUgZGlzcGxheWVkIGluIHRoZSBicm93c2VyJ3MgY29uc29sZSB1c2luZyBDU1MgYmFja2dyb3VuZCBpbWFnZXMuXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gVGhlIG9wdGlvbnMgZm9yIGxvZ2dpbmcgdGhlIGltYWdlLCBvciB0aGUgdGFyZ2V0IHRvIGxvZ1xuICAgKiBAcGFyYW0gb3B0aW9ucy53aWR0aCAtIFRoZSB3aWR0aCBvZiB0aGUgbG9nZ2VkIGltYWdlIHByZXZpZXcgaW4gdGhlIGNvbnNvbGUgKGluIHBpeGVscylcbiAgICogQGV4YW1wbGVcbiAgICogYGBgdHNcbiAgICogLy8gQmFzaWMgdXNhZ2VcbiAgICogY29uc3Qgc3ByaXRlID0gbmV3IFNwcml0ZSh0ZXh0dXJlKTtcbiAgICogcmVuZGVyZXIuZXh0cmFjdC5sb2coc3ByaXRlKTtcbiAgICogYGBgXG4gICAqIEBzZWUge0BsaW5rIEV4dHJhY3RTeXN0ZW0uY2FudmFzfSBGb3IgZ2V0dGluZyByYXcgY2FudmFzIG91dHB1dFxuICAgKiBAc2VlIHtAbGluayBFeHRyYWN0U3lzdGVtLnBpeGVsc30gRm9yIHJhdyBwaXhlbCBkYXRhXG4gICAqIEBjYXRlZ29yeSByZW5kZXJpbmdcbiAgICogQGFkdmFuY2VkXG4gICAqL1xuICBsb2cob3B0aW9ucykge1xuICAgIGNvbnN0IHdpZHRoID0gb3B0aW9ucy53aWR0aCA/PyAyMDA7XG4gICAgb3B0aW9ucyA9IHRoaXMuX25vcm1hbGl6ZU9wdGlvbnMob3B0aW9ucyk7XG4gICAgY29uc3QgY2FudmFzID0gdGhpcy5jYW52YXMob3B0aW9ucyk7XG4gICAgY29uc3QgYmFzZTY0ID0gY2FudmFzLnRvRGF0YVVSTCgpO1xuICAgIGNvbnNvbGUubG9nKGBbUGl4aSBUZXh0dXJlXSAke2NhbnZhcy53aWR0aH1weCAke2NhbnZhcy5oZWlnaHR9cHhgKTtcbiAgICBjb25zdCBzdHlsZSA9IFtcbiAgICAgIFwiZm9udC1zaXplOiAxcHg7XCIsXG4gICAgICBgcGFkZGluZzogJHt3aWR0aH1weCAkezMwMH1weDtgLFxuICAgICAgYGJhY2tncm91bmQ6IHVybCgke2Jhc2U2NH0pIG5vLXJlcGVhdDtgLFxuICAgICAgXCJiYWNrZ3JvdW5kLXNpemU6IGNvbnRhaW47XCJcbiAgICBdLmpvaW4oXCIgXCIpO1xuICAgIGNvbnNvbGUubG9nKFwiJWMgXCIsIHN0eWxlKTtcbiAgfVxuICBkZXN0cm95KCkge1xuICAgIHRoaXMuX3JlbmRlcmVyID0gbnVsbDtcbiAgfVxufTtcbi8qKiBAaWdub3JlICovXG5fRXh0cmFjdFN5c3RlbS5leHRlbnNpb24gPSB7XG4gIHR5cGU6IFtcbiAgICBFeHRlbnNpb25UeXBlLldlYkdMU3lzdGVtLFxuICAgIEV4dGVuc2lvblR5cGUuV2ViR1BVU3lzdGVtXG4gIF0sXG4gIG5hbWU6IFwiZXh0cmFjdFwiXG59O1xuLyoqXG4gKiBEZWZhdWx0IG9wdGlvbnMgZm9yIGltYWdlIGV4dHJhY3Rpb24uXG4gKiBAZXhhbXBsZVxuICogYGBgdHNcbiAqIC8vIEN1c3RvbWl6ZSBkZWZhdWx0IG9wdGlvbnNcbiAqIEV4dHJhY3RTeXN0ZW0uZGVmYXVsdEltYWdlT3B0aW9ucy5mb3JtYXQgPSAnd2VicCc7XG4gKiBFeHRyYWN0U3lzdGVtLmRlZmF1bHRJbWFnZU9wdGlvbnMucXVhbGl0eSA9IDAuODtcbiAqXG4gKiAvLyBVc2UgZGVmYXVsdHNcbiAqIGNvbnN0IGltYWdlID0gYXdhaXQgcmVuZGVyZXIuZXh0cmFjdC5pbWFnZShzcHJpdGUpO1xuICogYGBgXG4gKi9cbl9FeHRyYWN0U3lzdGVtLmRlZmF1bHRJbWFnZU9wdGlvbnMgPSB7XG4gIGZvcm1hdDogXCJwbmdcIixcbiAgcXVhbGl0eTogMVxufTtcbmxldCBFeHRyYWN0U3lzdGVtID0gX0V4dHJhY3RTeXN0ZW07XG5cbmV4cG9ydCB7IEV4dHJhY3RTeXN0ZW0gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUV4dHJhY3RTeXN0ZW0ubWpzLm1hcFxuIiwiaW1wb3J0IHsgVGV4dHVyZVNvdXJjZSB9IGZyb20gJy4vc291cmNlcy9UZXh0dXJlU291cmNlLm1qcyc7XG5pbXBvcnQgeyBUZXh0dXJlIH0gZnJvbSAnLi9UZXh0dXJlLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY2xhc3MgUmVuZGVyVGV4dHVyZSBleHRlbmRzIFRleHR1cmUge1xuICBzdGF0aWMgY3JlYXRlKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gbmV3IFJlbmRlclRleHR1cmUoe1xuICAgICAgc291cmNlOiBuZXcgVGV4dHVyZVNvdXJjZShvcHRpb25zKVxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBSZXNpemVzIHRoZSByZW5kZXIgdGV4dHVyZS5cbiAgICogQHBhcmFtIHdpZHRoIC0gVGhlIG5ldyB3aWR0aCBvZiB0aGUgcmVuZGVyIHRleHR1cmUuXG4gICAqIEBwYXJhbSBoZWlnaHQgLSBUaGUgbmV3IGhlaWdodCBvZiB0aGUgcmVuZGVyIHRleHR1cmUuXG4gICAqIEBwYXJhbSByZXNvbHV0aW9uIC0gVGhlIG5ldyByZXNvbHV0aW9uIG9mIHRoZSByZW5kZXIgdGV4dHVyZS5cbiAgICogQHJldHVybnMgVGhpcyB0ZXh0dXJlLlxuICAgKi9cbiAgcmVzaXplKHdpZHRoLCBoZWlnaHQsIHJlc29sdXRpb24pIHtcbiAgICB0aGlzLnNvdXJjZS5yZXNpemUod2lkdGgsIGhlaWdodCwgcmVzb2x1dGlvbik7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn1cblxuZXhwb3J0IHsgUmVuZGVyVGV4dHVyZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UmVuZGVyVGV4dHVyZS5tanMubWFwXG4iLCJpbXBvcnQgeyBDb2xvciB9IGZyb20gJy4uLy4uLy4uLy4uL2NvbG9yL0NvbG9yLm1qcyc7XG5pbXBvcnQgeyBFeHRlbnNpb25UeXBlIH0gZnJvbSAnLi4vLi4vLi4vLi4vZXh0ZW5zaW9ucy9FeHRlbnNpb25zLm1qcyc7XG5pbXBvcnQgeyBNYXRyaXggfSBmcm9tICcuLi8uLi8uLi8uLi9tYXRocy9tYXRyaXgvTWF0cml4Lm1qcyc7XG5pbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tICcuLi8uLi8uLi8uLi9tYXRocy9zaGFwZXMvUmVjdGFuZ2xlLm1qcyc7XG5pbXBvcnQgeyBCb3VuZHMgfSBmcm9tICcuLi8uLi8uLi8uLi9zY2VuZS9jb250YWluZXIvYm91bmRzL0JvdW5kcy5tanMnO1xuaW1wb3J0IHsgZ2V0TG9jYWxCb3VuZHMgfSBmcm9tICcuLi8uLi8uLi8uLi9zY2VuZS9jb250YWluZXIvYm91bmRzL2dldExvY2FsQm91bmRzLm1qcyc7XG5pbXBvcnQgeyBDb250YWluZXIgfSBmcm9tICcuLi8uLi8uLi8uLi9zY2VuZS9jb250YWluZXIvQ29udGFpbmVyLm1qcyc7XG5pbXBvcnQgeyBSZW5kZXJUZXh0dXJlIH0gZnJvbSAnLi4vdGV4dHVyZS9SZW5kZXJUZXh0dXJlLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY29uc3QgdGVtcFJlY3QgPSBuZXcgUmVjdGFuZ2xlKCk7XG5jb25zdCB0ZW1wQm91bmRzID0gbmV3IEJvdW5kcygpO1xuY29uc3Qgbm9Db2xvciA9IFswLCAwLCAwLCAwXTtcbmNsYXNzIEdlbmVyYXRlVGV4dHVyZVN5c3RlbSB7XG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyKSB7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlcyBhIHRleHR1cmUgZnJvbSBhIGRpc3BsYXkgb2JqZWN0IHRoYXQgY2FuIGJlIHVzZWQgZm9yIGNyZWF0aW5nIHNwcml0ZXMgYW5kIG90aGVyIHRleHR1cmVzLlxuICAgKiBUaGlzIGlzIHBhcnRpY3VsYXJseSB1c2VmdWwgZm9yIG9wdGltaXppbmcgcGVyZm9ybWFuY2Ugd2hlbiBhIGNvbXBsZXggY29udGFpbmVyIG5lZWRzIHRvIGJlIHJldXNlZC5cbiAgICogQHBhcmFtIG9wdGlvbnMgLSBHZW5lcmF0ZSB0ZXh0dXJlIG9wdGlvbnMgb3IgYSBjb250YWluZXIgdG8gY29udmVydCB0byB0ZXh0dXJlXG4gICAqIEByZXR1cm5zIEEgbmV3IFJlbmRlclRleHR1cmUgY29udGFpbmluZyB0aGUgcmVuZGVyZWQgZGlzcGxheSBvYmplY3RcbiAgICogQGV4YW1wbGVcbiAgICogYGBgdHNcbiAgICogLy8gQmFzaWMgdXNhZ2Ugd2l0aCBhIGNvbnRhaW5lclxuICAgKiBjb25zdCBjb250YWluZXIgPSBuZXcgQ29udGFpbmVyKCk7XG4gICAqIGNvbnRhaW5lci5hZGRDaGlsZChcbiAgICogICAgIG5ldyBHcmFwaGljcygpXG4gICAqICAgICAgICAgLmNpcmNsZSgwLCAwLCA1MClcbiAgICogICAgICAgICAuZmlsbCgncmVkJylcbiAgICogKTtcbiAgICpcbiAgICogY29uc3QgdGV4dHVyZSA9IHJlbmRlcmVyLnRleHR1cmVHZW5lcmF0b3IuZ2VuZXJhdGVUZXh0dXJlKGNvbnRhaW5lcik7XG4gICAqXG4gICAqIC8vIEFkdmFuY2VkIHVzYWdlIHdpdGggb3B0aW9uc1xuICAgKiBjb25zdCB0ZXh0dXJlID0gcmVuZGVyZXIudGV4dHVyZUdlbmVyYXRvci5nZW5lcmF0ZVRleHR1cmUoe1xuICAgKiAgICAgdGFyZ2V0OiBjb250YWluZXIsXG4gICAqICAgICBmcmFtZTogbmV3IFJlY3RhbmdsZSgwLCAwLCAxMDAsIDEwMCksIC8vIFNwZWNpZmljIHJlZ2lvblxuICAgKiAgICAgcmVzb2x1dGlvbjogMiwgICAgICAgICAgICAgICAgICAgICAgICAvLyBIaWdoIERQSVxuICAgKiAgICAgY2xlYXJDb2xvcjogJyNmZjAwMDAnLCAgICAgICAgICAgICAgIC8vIFJlZCBiYWNrZ3JvdW5kXG4gICAqICAgICBhbnRpYWxpYXM6IHRydWUgICAgICAgICAgICAgICAgICAgICAgLy8gU21vb3RoIGVkZ2VzXG4gICAqIH0pO1xuICAgKlxuICAgKiAvLyBDcmVhdGUgYSBzcHJpdGUgZnJvbSB0aGUgZ2VuZXJhdGVkIHRleHR1cmVcbiAgICogY29uc3Qgc3ByaXRlID0gbmV3IFNwcml0ZSh0ZXh0dXJlKTtcbiAgICpcbiAgICogLy8gQ2xlYW4gdXAgd2hlbiBkb25lXG4gICAqIHRleHR1cmUuZGVzdHJveSh0cnVlKTtcbiAgICogYGBgXG4gICAqIEBzZWUge0BsaW5rIEdlbmVyYXRlVGV4dHVyZU9wdGlvbnN9IEZvciBkZXRhaWxlZCB0ZXh0dXJlIGdlbmVyYXRpb24gb3B0aW9uc1xuICAgKiBAc2VlIHtAbGluayBSZW5kZXJUZXh0dXJlfSBGb3IgdGhlIHR5cGUgb2YgdGV4dHVyZSBjcmVhdGVkXG4gICAqIEBjYXRlZ29yeSByZW5kZXJpbmdcbiAgICovXG4gIGdlbmVyYXRlVGV4dHVyZShvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgaW5zdGFuY2VvZiBDb250YWluZXIpIHtcbiAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgIHRhcmdldDogb3B0aW9ucyxcbiAgICAgICAgZnJhbWU6IHZvaWQgMCxcbiAgICAgICAgdGV4dHVyZVNvdXJjZU9wdGlvbnM6IHt9LFxuICAgICAgICByZXNvbHV0aW9uOiB2b2lkIDBcbiAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IHJlc29sdXRpb24gPSBvcHRpb25zLnJlc29sdXRpb24gfHwgdGhpcy5fcmVuZGVyZXIucmVzb2x1dGlvbjtcbiAgICBjb25zdCBhbnRpYWxpYXMgPSBvcHRpb25zLmFudGlhbGlhcyB8fCB0aGlzLl9yZW5kZXJlci52aWV3LmFudGlhbGlhcztcbiAgICBjb25zdCBjb250YWluZXIgPSBvcHRpb25zLnRhcmdldDtcbiAgICBsZXQgY2xlYXJDb2xvciA9IG9wdGlvbnMuY2xlYXJDb2xvcjtcbiAgICBpZiAoY2xlYXJDb2xvcikge1xuICAgICAgY29uc3QgaXNSR0JBQXJyYXkgPSBBcnJheS5pc0FycmF5KGNsZWFyQ29sb3IpICYmIGNsZWFyQ29sb3IubGVuZ3RoID09PSA0O1xuICAgICAgY2xlYXJDb2xvciA9IGlzUkdCQUFycmF5ID8gY2xlYXJDb2xvciA6IENvbG9yLnNoYXJlZC5zZXRWYWx1ZShjbGVhckNvbG9yKS50b0FycmF5KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNsZWFyQ29sb3IgPSBub0NvbG9yO1xuICAgIH1cbiAgICBjb25zdCByZWdpb24gPSBvcHRpb25zLmZyYW1lPy5jb3B5VG8odGVtcFJlY3QpIHx8IGdldExvY2FsQm91bmRzKGNvbnRhaW5lciwgdGVtcEJvdW5kcykucmVjdGFuZ2xlO1xuICAgIHJlZ2lvbi53aWR0aCA9IE1hdGgubWF4KHJlZ2lvbi53aWR0aCwgMSAvIHJlc29sdXRpb24pIHwgMDtcbiAgICByZWdpb24uaGVpZ2h0ID0gTWF0aC5tYXgocmVnaW9uLmhlaWdodCwgMSAvIHJlc29sdXRpb24pIHwgMDtcbiAgICBjb25zdCB0YXJnZXQgPSBSZW5kZXJUZXh0dXJlLmNyZWF0ZSh7XG4gICAgICAuLi5vcHRpb25zLnRleHR1cmVTb3VyY2VPcHRpb25zLFxuICAgICAgd2lkdGg6IHJlZ2lvbi53aWR0aCxcbiAgICAgIGhlaWdodDogcmVnaW9uLmhlaWdodCxcbiAgICAgIHJlc29sdXRpb24sXG4gICAgICBhbnRpYWxpYXNcbiAgICB9KTtcbiAgICBjb25zdCB0cmFuc2Zvcm0gPSBNYXRyaXguc2hhcmVkLnRyYW5zbGF0ZSgtcmVnaW9uLngsIC1yZWdpb24ueSk7XG4gICAgdGhpcy5fcmVuZGVyZXIucmVuZGVyKHtcbiAgICAgIGNvbnRhaW5lcixcbiAgICAgIHRyYW5zZm9ybSxcbiAgICAgIHRhcmdldCxcbiAgICAgIGNsZWFyQ29sb3JcbiAgICB9KTtcbiAgICB0YXJnZXQuc291cmNlLnVwZGF0ZU1pcG1hcHMoKTtcbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSBudWxsO1xuICB9XG59XG4vKiogQGlnbm9yZSAqL1xuR2VuZXJhdGVUZXh0dXJlU3lzdGVtLmV4dGVuc2lvbiA9IHtcbiAgdHlwZTogW1xuICAgIEV4dGVuc2lvblR5cGUuV2ViR0xTeXN0ZW0sXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHUFVTeXN0ZW1cbiAgXSxcbiAgbmFtZTogXCJ0ZXh0dXJlR2VuZXJhdG9yXCJcbn07XG5cbmV4cG9ydCB7IEdlbmVyYXRlVGV4dHVyZVN5c3RlbSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9R2VuZXJhdGVUZXh0dXJlU3lzdGVtLm1qcy5tYXBcbiIsImltcG9ydCB7IEV4dGVuc2lvblR5cGUgfSBmcm9tICcuLi8uLi8uLi8uLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcbmltcG9ydCB7IE1hdHJpeCB9IGZyb20gJy4uLy4uLy4uLy4uL21hdGhzL21hdHJpeC9NYXRyaXgubWpzJztcbmltcG9ydCB7IFBvaW50IH0gZnJvbSAnLi4vLi4vLi4vLi4vbWF0aHMvcG9pbnQvUG9pbnQubWpzJztcbmltcG9ydCB7IGNvbG9yMzJCaXRUb1VuaWZvcm0gfSBmcm9tICcuLi8uLi8uLi8uLi9zY2VuZS9ncmFwaGljcy9ncHUvY29sb3JUb1VuaWZvcm0ubWpzJztcbmltcG9ydCB7IEJpbmRHcm91cCB9IGZyb20gJy4uLy4uL2dwdS9zaGFkZXIvQmluZEdyb3VwLm1qcyc7XG5pbXBvcnQgeyBSZW5kZXJlclR5cGUgfSBmcm9tICcuLi8uLi90eXBlcy5tanMnO1xuaW1wb3J0IHsgVW5pZm9ybUdyb3VwIH0gZnJvbSAnLi4vc2hhZGVyL1VuaWZvcm1Hcm91cC5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNsYXNzIEdsb2JhbFVuaWZvcm1TeXN0ZW0ge1xuICBjb25zdHJ1Y3RvcihyZW5kZXJlcikge1xuICAgIHRoaXMuX3N0YWNrSW5kZXggPSAwO1xuICAgIHRoaXMuX2dsb2JhbFVuaWZvcm1EYXRhU3RhY2sgPSBbXTtcbiAgICB0aGlzLl91bmlmb3Jtc1Bvb2wgPSBbXTtcbiAgICB0aGlzLl9hY3RpdmVVbmlmb3JtcyA9IFtdO1xuICAgIHRoaXMuX2JpbmRHcm91cFBvb2wgPSBbXTtcbiAgICB0aGlzLl9hY3RpdmVCaW5kR3JvdXBzID0gW107XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgfVxuICByZXNldCgpIHtcbiAgICB0aGlzLl9zdGFja0luZGV4ID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX2FjdGl2ZVVuaWZvcm1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLl91bmlmb3Jtc1Bvb2wucHVzaCh0aGlzLl9hY3RpdmVVbmlmb3Jtc1tpXSk7XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fYWN0aXZlQmluZEdyb3Vwcy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5fYmluZEdyb3VwUG9vbC5wdXNoKHRoaXMuX2FjdGl2ZUJpbmRHcm91cHNbaV0pO1xuICAgIH1cbiAgICB0aGlzLl9hY3RpdmVVbmlmb3Jtcy5sZW5ndGggPSAwO1xuICAgIHRoaXMuX2FjdGl2ZUJpbmRHcm91cHMubGVuZ3RoID0gMDtcbiAgfVxuICBzdGFydChvcHRpb25zKSB7XG4gICAgdGhpcy5yZXNldCgpO1xuICAgIHRoaXMucHVzaChvcHRpb25zKTtcbiAgfVxuICBiaW5kKHtcbiAgICBzaXplLFxuICAgIHByb2plY3Rpb25NYXRyaXgsXG4gICAgd29ybGRUcmFuc2Zvcm1NYXRyaXgsXG4gICAgd29ybGRDb2xvcixcbiAgICBvZmZzZXRcbiAgfSkge1xuICAgIGNvbnN0IHJlbmRlclRhcmdldCA9IHRoaXMuX3JlbmRlcmVyLnJlbmRlclRhcmdldC5yZW5kZXJUYXJnZXQ7XG4gICAgY29uc3QgY3VycmVudEdsb2JhbFVuaWZvcm1EYXRhID0gdGhpcy5fc3RhY2tJbmRleCA/IHRoaXMuX2dsb2JhbFVuaWZvcm1EYXRhU3RhY2tbdGhpcy5fc3RhY2tJbmRleCAtIDFdIDoge1xuICAgICAgcHJvamVjdGlvbkRhdGE6IHJlbmRlclRhcmdldCxcbiAgICAgIHdvcmxkVHJhbnNmb3JtTWF0cml4OiBuZXcgTWF0cml4KCksXG4gICAgICB3b3JsZENvbG9yOiA0Mjk0OTY3Mjk1LFxuICAgICAgb2Zmc2V0OiBuZXcgUG9pbnQoKVxuICAgIH07XG4gICAgY29uc3QgZ2xvYmFsVW5pZm9ybURhdGEgPSB7XG4gICAgICBwcm9qZWN0aW9uTWF0cml4OiBwcm9qZWN0aW9uTWF0cml4IHx8IHRoaXMuX3JlbmRlcmVyLnJlbmRlclRhcmdldC5wcm9qZWN0aW9uTWF0cml4LFxuICAgICAgcmVzb2x1dGlvbjogc2l6ZSB8fCByZW5kZXJUYXJnZXQuc2l6ZSxcbiAgICAgIHdvcmxkVHJhbnNmb3JtTWF0cml4OiB3b3JsZFRyYW5zZm9ybU1hdHJpeCB8fCBjdXJyZW50R2xvYmFsVW5pZm9ybURhdGEud29ybGRUcmFuc2Zvcm1NYXRyaXgsXG4gICAgICB3b3JsZENvbG9yOiB3b3JsZENvbG9yIHx8IGN1cnJlbnRHbG9iYWxVbmlmb3JtRGF0YS53b3JsZENvbG9yLFxuICAgICAgb2Zmc2V0OiBvZmZzZXQgfHwgY3VycmVudEdsb2JhbFVuaWZvcm1EYXRhLm9mZnNldCxcbiAgICAgIGJpbmRHcm91cDogbnVsbFxuICAgIH07XG4gICAgY29uc3QgdW5pZm9ybUdyb3VwID0gdGhpcy5fdW5pZm9ybXNQb29sLnBvcCgpIHx8IHRoaXMuX2NyZWF0ZVVuaWZvcm1zKCk7XG4gICAgdGhpcy5fYWN0aXZlVW5pZm9ybXMucHVzaCh1bmlmb3JtR3JvdXApO1xuICAgIGNvbnN0IHVuaWZvcm1zID0gdW5pZm9ybUdyb3VwLnVuaWZvcm1zO1xuICAgIHVuaWZvcm1zLnVQcm9qZWN0aW9uTWF0cml4ID0gZ2xvYmFsVW5pZm9ybURhdGEucHJvamVjdGlvbk1hdHJpeDtcbiAgICB1bmlmb3Jtcy51UmVzb2x1dGlvbiA9IGdsb2JhbFVuaWZvcm1EYXRhLnJlc29sdXRpb247XG4gICAgdW5pZm9ybXMudVdvcmxkVHJhbnNmb3JtTWF0cml4LmNvcHlGcm9tKGdsb2JhbFVuaWZvcm1EYXRhLndvcmxkVHJhbnNmb3JtTWF0cml4KTtcbiAgICB1bmlmb3Jtcy51V29ybGRUcmFuc2Zvcm1NYXRyaXgudHggLT0gZ2xvYmFsVW5pZm9ybURhdGEub2Zmc2V0Lng7XG4gICAgdW5pZm9ybXMudVdvcmxkVHJhbnNmb3JtTWF0cml4LnR5IC09IGdsb2JhbFVuaWZvcm1EYXRhLm9mZnNldC55O1xuICAgIGNvbG9yMzJCaXRUb1VuaWZvcm0oXG4gICAgICBnbG9iYWxVbmlmb3JtRGF0YS53b3JsZENvbG9yLFxuICAgICAgdW5pZm9ybXMudVdvcmxkQ29sb3JBbHBoYSxcbiAgICAgIDBcbiAgICApO1xuICAgIHVuaWZvcm1Hcm91cC51cGRhdGUoKTtcbiAgICBsZXQgYmluZEdyb3VwO1xuICAgIGlmICh0aGlzLl9yZW5kZXJlci5yZW5kZXJQaXBlcy51bmlmb3JtQmF0Y2gpIHtcbiAgICAgIGJpbmRHcm91cCA9IHRoaXMuX3JlbmRlcmVyLnJlbmRlclBpcGVzLnVuaWZvcm1CYXRjaC5nZXRVbmlmb3JtQmluZEdyb3VwKHVuaWZvcm1Hcm91cCwgZmFsc2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICBiaW5kR3JvdXAgPSB0aGlzLl9iaW5kR3JvdXBQb29sLnBvcCgpIHx8IG5ldyBCaW5kR3JvdXAoKTtcbiAgICAgIHRoaXMuX2FjdGl2ZUJpbmRHcm91cHMucHVzaChiaW5kR3JvdXApO1xuICAgICAgYmluZEdyb3VwLnNldFJlc291cmNlKHVuaWZvcm1Hcm91cCwgMCk7XG4gICAgfVxuICAgIGdsb2JhbFVuaWZvcm1EYXRhLmJpbmRHcm91cCA9IGJpbmRHcm91cDtcbiAgICB0aGlzLl9jdXJyZW50R2xvYmFsVW5pZm9ybURhdGEgPSBnbG9iYWxVbmlmb3JtRGF0YTtcbiAgfVxuICBwdXNoKG9wdGlvbnMpIHtcbiAgICB0aGlzLmJpbmQob3B0aW9ucyk7XG4gICAgdGhpcy5fZ2xvYmFsVW5pZm9ybURhdGFTdGFja1t0aGlzLl9zdGFja0luZGV4KytdID0gdGhpcy5fY3VycmVudEdsb2JhbFVuaWZvcm1EYXRhO1xuICB9XG4gIHBvcCgpIHtcbiAgICB0aGlzLl9jdXJyZW50R2xvYmFsVW5pZm9ybURhdGEgPSB0aGlzLl9nbG9iYWxVbmlmb3JtRGF0YVN0YWNrWy0tdGhpcy5fc3RhY2tJbmRleCAtIDFdO1xuICAgIGlmICh0aGlzLl9yZW5kZXJlci50eXBlID09PSBSZW5kZXJlclR5cGUuV0VCR0wpIHtcbiAgICAgIHRoaXMuX2N1cnJlbnRHbG9iYWxVbmlmb3JtRGF0YS5iaW5kR3JvdXAucmVzb3VyY2VzWzBdLnVwZGF0ZSgpO1xuICAgIH1cbiAgfVxuICBnZXQgYmluZEdyb3VwKCkge1xuICAgIHJldHVybiB0aGlzLl9jdXJyZW50R2xvYmFsVW5pZm9ybURhdGEuYmluZEdyb3VwO1xuICB9XG4gIGdldCBnbG9iYWxVbmlmb3JtRGF0YSgpIHtcbiAgICByZXR1cm4gdGhpcy5fY3VycmVudEdsb2JhbFVuaWZvcm1EYXRhO1xuICB9XG4gIGdldCB1bmlmb3JtR3JvdXAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2N1cnJlbnRHbG9iYWxVbmlmb3JtRGF0YS5iaW5kR3JvdXAucmVzb3VyY2VzWzBdO1xuICB9XG4gIF9jcmVhdGVVbmlmb3JtcygpIHtcbiAgICBjb25zdCBnbG9iYWxVbmlmb3JtcyA9IG5ldyBVbmlmb3JtR3JvdXAoe1xuICAgICAgdVByb2plY3Rpb25NYXRyaXg6IHsgdmFsdWU6IG5ldyBNYXRyaXgoKSwgdHlwZTogXCJtYXQzeDM8ZjMyPlwiIH0sXG4gICAgICB1V29ybGRUcmFuc2Zvcm1NYXRyaXg6IHsgdmFsdWU6IG5ldyBNYXRyaXgoKSwgdHlwZTogXCJtYXQzeDM8ZjMyPlwiIH0sXG4gICAgICAvLyBUT0RPIC0gc29tZW9uZSBzbWFydCAtIHNldCB0aGlzIHRvIGJlIGEgdW5vcm04eDQgcmF0aGVyIHRoYW4gYSB2ZWM0PGYzMj5cbiAgICAgIHVXb3JsZENvbG9yQWxwaGE6IHsgdmFsdWU6IG5ldyBGbG9hdDMyQXJyYXkoNCksIHR5cGU6IFwidmVjNDxmMzI+XCIgfSxcbiAgICAgIHVSZXNvbHV0aW9uOiB7IHZhbHVlOiBbMCwgMF0sIHR5cGU6IFwidmVjMjxmMzI+XCIgfVxuICAgIH0sIHtcbiAgICAgIGlzU3RhdGljOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIGdsb2JhbFVuaWZvcm1zO1xuICB9XG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSBudWxsO1xuICAgIHRoaXMuX2dsb2JhbFVuaWZvcm1EYXRhU3RhY2subGVuZ3RoID0gMDtcbiAgICB0aGlzLl91bmlmb3Jtc1Bvb2wubGVuZ3RoID0gMDtcbiAgICB0aGlzLl9hY3RpdmVVbmlmb3Jtcy5sZW5ndGggPSAwO1xuICAgIHRoaXMuX2JpbmRHcm91cFBvb2wubGVuZ3RoID0gMDtcbiAgICB0aGlzLl9hY3RpdmVCaW5kR3JvdXBzLmxlbmd0aCA9IDA7XG4gICAgdGhpcy5fY3VycmVudEdsb2JhbFVuaWZvcm1EYXRhID0gbnVsbDtcbiAgfVxufVxuLyoqIEBpZ25vcmUgKi9cbkdsb2JhbFVuaWZvcm1TeXN0ZW0uZXh0ZW5zaW9uID0ge1xuICB0eXBlOiBbXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHTFN5c3RlbSxcbiAgICBFeHRlbnNpb25UeXBlLldlYkdQVVN5c3RlbSxcbiAgICBFeHRlbnNpb25UeXBlLkNhbnZhc1N5c3RlbVxuICBdLFxuICBuYW1lOiBcImdsb2JhbFVuaWZvcm1zXCJcbn07XG5cbmV4cG9ydCB7IEdsb2JhbFVuaWZvcm1TeXN0ZW0gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUdsb2JhbFVuaWZvcm1TeXN0ZW0ubWpzLm1hcFxuIiwiaW1wb3J0IHsgRXh0ZW5zaW9uVHlwZSB9IGZyb20gJy4uLy4uLy4uL2V4dGVuc2lvbnMvRXh0ZW5zaW9ucy5tanMnO1xuaW1wb3J0IHsgVGlja2VyIH0gZnJvbSAnLi4vLi4vLi4vdGlja2VyL1RpY2tlci5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmxldCB1aWQgPSAxO1xuY2xhc3MgU2NoZWR1bGVyU3lzdGVtIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5fdGFza3MgPSBbXTtcbiAgICAvKiogYSBzbWFsbCBvZmYgc2V0IHRvIGFwcGx5IHRvIHRoZSByZXBlYXQgc2NoZWR1bGVzLiBUaGlzIGlzIGp1c3QgdG8gbWFrZSBzdXJlIHRoZXkgcnVuIGF0IHNsaWdodGx5IGRpZmZlcmVudCB0aW1lcyAqL1xuICAgIHRoaXMuX29mZnNldCA9IDA7XG4gIH1cbiAgLyoqIEluaXRpYWxpemVzIHRoZSBzY2hlZHVsZXIgc3lzdGVtIGFuZCBzdGFydHMgdGhlIHRpY2tlci4gKi9cbiAgaW5pdCgpIHtcbiAgICBUaWNrZXIuc3lzdGVtLmFkZCh0aGlzLl91cGRhdGUsIHRoaXMpO1xuICB9XG4gIC8qKlxuICAgKiBTY2hlZHVsZXMgYSByZXBlYXRpbmcgdGFzay5cbiAgICogQHBhcmFtIGZ1bmMgLSBUaGUgZnVuY3Rpb24gdG8gZXhlY3V0ZS5cbiAgICogQHBhcmFtIGR1cmF0aW9uIC0gVGhlIGludGVydmFsIGR1cmF0aW9uIGluIG1pbGxpc2Vjb25kcy5cbiAgICogQHBhcmFtIHVzZU9mZnNldCAtIHRoaXMgd2lsbCBzcHJlYWQgb3V0IHRhc2tzIHNvIHRoYXQgdGhleSBkbyBub3QgYWxsIHJ1biBhdCB0aGUgc2FtZSB0aW1lXG4gICAqIEByZXR1cm5zIFRoZSB1bmlxdWUgaWRlbnRpZmllciBmb3IgdGhlIHNjaGVkdWxlZCB0YXNrLlxuICAgKi9cbiAgcmVwZWF0KGZ1bmMsIGR1cmF0aW9uLCB1c2VPZmZzZXQgPSB0cnVlKSB7XG4gICAgY29uc3QgaWQgPSB1aWQrKztcbiAgICBsZXQgb2Zmc2V0ID0gMDtcbiAgICBpZiAodXNlT2Zmc2V0KSB7XG4gICAgICB0aGlzLl9vZmZzZXQgKz0gMWUzO1xuICAgICAgb2Zmc2V0ID0gdGhpcy5fb2Zmc2V0O1xuICAgIH1cbiAgICB0aGlzLl90YXNrcy5wdXNoKHtcbiAgICAgIGZ1bmMsXG4gICAgICBkdXJhdGlvbixcbiAgICAgIHN0YXJ0OiBwZXJmb3JtYW5jZS5ub3coKSxcbiAgICAgIG9mZnNldCxcbiAgICAgIGxhc3Q6IHBlcmZvcm1hbmNlLm5vdygpLFxuICAgICAgcmVwZWF0OiB0cnVlLFxuICAgICAgaWRcbiAgICB9KTtcbiAgICByZXR1cm4gaWQ7XG4gIH1cbiAgLyoqXG4gICAqIENhbmNlbHMgYSBzY2hlZHVsZWQgdGFzay5cbiAgICogQHBhcmFtIGlkIC0gVGhlIHVuaXF1ZSBpZGVudGlmaWVyIG9mIHRoZSB0YXNrIHRvIGNhbmNlbC5cbiAgICovXG4gIGNhbmNlbChpZCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fdGFza3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICh0aGlzLl90YXNrc1tpXS5pZCA9PT0gaWQpIHtcbiAgICAgICAgdGhpcy5fdGFza3Muc3BsaWNlKGksIDEpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBVcGRhdGVzIGFuZCBleGVjdXRlcyB0aGUgc2NoZWR1bGVkIHRhc2tzLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3VwZGF0ZSgpIHtcbiAgICBjb25zdCBub3cgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX3Rhc2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCB0YXNrID0gdGhpcy5fdGFza3NbaV07XG4gICAgICBpZiAobm93IC0gdGFzay5vZmZzZXQgLSB0YXNrLmxhc3QgPj0gdGFzay5kdXJhdGlvbikge1xuICAgICAgICBjb25zdCBlbGFwc2VkID0gbm93IC0gdGFzay5zdGFydDtcbiAgICAgICAgdGFzay5mdW5jKGVsYXBzZWQpO1xuICAgICAgICB0YXNrLmxhc3QgPSBub3c7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBEZXN0cm95cyB0aGUgc2NoZWR1bGVyIHN5c3RlbSBhbmQgcmVtb3ZlcyBhbGwgdGFza3MuXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgZGVzdHJveSgpIHtcbiAgICBUaWNrZXIuc3lzdGVtLnJlbW92ZSh0aGlzLl91cGRhdGUsIHRoaXMpO1xuICAgIHRoaXMuX3Rhc2tzLmxlbmd0aCA9IDA7XG4gIH1cbn1cbi8qKiBAaWdub3JlICovXG5TY2hlZHVsZXJTeXN0ZW0uZXh0ZW5zaW9uID0ge1xuICB0eXBlOiBbXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHTFN5c3RlbSxcbiAgICBFeHRlbnNpb25UeXBlLldlYkdQVVN5c3RlbSxcbiAgICBFeHRlbnNpb25UeXBlLkNhbnZhc1N5c3RlbVxuICBdLFxuICBuYW1lOiBcInNjaGVkdWxlclwiLFxuICBwcmlvcml0eTogMFxufTtcblxuZXhwb3J0IHsgU2NoZWR1bGVyU3lzdGVtIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TY2hlZHVsZXJTeXN0ZW0ubWpzLm1hcFxuIiwiaW1wb3J0IHsgRE9NQWRhcHRlciB9IGZyb20gJy4uL2Vudmlyb25tZW50L2FkYXB0ZXIubWpzJztcbmltcG9ydCB7IFZFUlNJT04gfSBmcm9tICcuL2NvbnN0Lm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xubGV0IHNhaWRIZWxsbyA9IGZhbHNlO1xuZnVuY3Rpb24gc2F5SGVsbG8odHlwZSkge1xuICBpZiAoc2FpZEhlbGxvKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChET01BZGFwdGVyLmdldCgpLmdldE5hdmlnYXRvcigpLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCJjaHJvbWVcIikgPiAtMSkge1xuICAgIGNvbnN0IGFyZ3MgPSBbXG4gICAgICBgJWMgICVjICAlYyAgJWMgICVjIFBpeGlKUyAlYyB2JHtWRVJTSU9OfSAoJHt0eXBlfSkgaHR0cDovL3d3dy5waXhpanMuY29tL1xuXG5gLFxuICAgICAgXCJiYWNrZ3JvdW5kOiAjRTcyMjY0OyBwYWRkaW5nOjVweCAwO1wiLFxuICAgICAgXCJiYWNrZ3JvdW5kOiAjNkNBMkVBOyBwYWRkaW5nOjVweCAwO1wiLFxuICAgICAgXCJiYWNrZ3JvdW5kOiAjQjVEMzNEOyBwYWRkaW5nOjVweCAwO1wiLFxuICAgICAgXCJiYWNrZ3JvdW5kOiAjRkVEMjNGOyBwYWRkaW5nOjVweCAwO1wiLFxuICAgICAgXCJjb2xvcjogI0ZGRkZGRjsgYmFja2dyb3VuZDogI0U3MjI2NDsgcGFkZGluZzo1cHggMDtcIixcbiAgICAgIFwiY29sb3I6ICNFNzIyNjQ7IGJhY2tncm91bmQ6ICNGRkZGRkY7IHBhZGRpbmc6NXB4IDA7XCJcbiAgICBdO1xuICAgIGdsb2JhbFRoaXMuY29uc29sZS5sb2coLi4uYXJncyk7XG4gIH0gZWxzZSBpZiAoZ2xvYmFsVGhpcy5jb25zb2xlKSB7XG4gICAgZ2xvYmFsVGhpcy5jb25zb2xlLmxvZyhgUGl4aUpTICR7VkVSU0lPTn0gLSAke3R5cGV9IC0gaHR0cDovL3d3dy5waXhpanMuY29tL2ApO1xuICB9XG4gIHNhaWRIZWxsbyA9IHRydWU7XG59XG5cbmV4cG9ydCB7IHNheUhlbGxvIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zYXlIZWxsby5tanMubWFwXG4iLCJpbXBvcnQgeyBFeHRlbnNpb25UeXBlIH0gZnJvbSAnLi4vLi4vLi4vLi4vZXh0ZW5zaW9ucy9FeHRlbnNpb25zLm1qcyc7XG5pbXBvcnQgeyBzYXlIZWxsbyB9IGZyb20gJy4uLy4uLy4uLy4uL3V0aWxzL3NheUhlbGxvLm1qcyc7XG5pbXBvcnQgeyBSZW5kZXJlclR5cGUgfSBmcm9tICcuLi8uLi90eXBlcy5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNsYXNzIEhlbGxvU3lzdGVtIHtcbiAgY29uc3RydWN0b3IocmVuZGVyZXIpIHtcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICB9XG4gIC8qKlxuICAgKiBJdCBhbGwgc3RhcnRzIGhlcmUhIFRoaXMgaW5pdGlhdGVzIGV2ZXJ5IHN5c3RlbSwgcGFzc2luZyBpbiB0aGUgb3B0aW9ucyBmb3IgYW55IHN5c3RlbSBieSBuYW1lLlxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIHRoZSBjb25maWcgZm9yIHRoZSByZW5kZXJlciBhbmQgYWxsIGl0cyBzeXN0ZW1zXG4gICAqL1xuICBpbml0KG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucy5oZWxsbykge1xuICAgICAgbGV0IG5hbWUgPSB0aGlzLl9yZW5kZXJlci5uYW1lO1xuICAgICAgaWYgKHRoaXMuX3JlbmRlcmVyLnR5cGUgPT09IFJlbmRlcmVyVHlwZS5XRUJHTCkge1xuICAgICAgICBuYW1lICs9IGAgJHt0aGlzLl9yZW5kZXJlci5jb250ZXh0LndlYkdMVmVyc2lvbn1gO1xuICAgICAgfVxuICAgICAgc2F5SGVsbG8obmFtZSk7XG4gICAgfVxuICB9XG59XG4vKiogQGlnbm9yZSAqL1xuSGVsbG9TeXN0ZW0uZXh0ZW5zaW9uID0ge1xuICB0eXBlOiBbXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHTFN5c3RlbSxcbiAgICBFeHRlbnNpb25UeXBlLldlYkdQVVN5c3RlbSxcbiAgICBFeHRlbnNpb25UeXBlLkNhbnZhc1N5c3RlbVxuICBdLFxuICBuYW1lOiBcImhlbGxvXCIsXG4gIHByaW9yaXR5OiAtMlxufTtcbi8qKiBUaGUgZGVmYXVsdCBvcHRpb25zIGZvciB0aGUgc3lzdGVtLiAqL1xuSGVsbG9TeXN0ZW0uZGVmYXVsdE9wdGlvbnMgPSB7XG4gIC8qKiB7QGxpbmsgV2ViR0xPcHRpb25zLmhlbGxvfSAqL1xuICBoZWxsbzogZmFsc2Vcbn07XG5cbmV4cG9ydCB7IEhlbGxvU3lzdGVtIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1IZWxsb1N5c3RlbS5tanMubWFwXG4iLCJcInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIGNsZWFuSGFzaChoYXNoKSB7XG4gIGxldCBjbGVhbiA9IGZhbHNlO1xuICBmb3IgKGNvbnN0IGkgaW4gaGFzaCkge1xuICAgIGlmIChoYXNoW2ldID09IHZvaWQgMCkge1xuICAgICAgY2xlYW4gPSB0cnVlO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIGlmICghY2xlYW4pXG4gICAgcmV0dXJuIGhhc2g7XG4gIGNvbnN0IGNsZWFuSGFzaDIgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgZm9yIChjb25zdCBpIGluIGhhc2gpIHtcbiAgICBjb25zdCB2YWx1ZSA9IGhhc2hbaV07XG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICBjbGVhbkhhc2gyW2ldID0gdmFsdWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBjbGVhbkhhc2gyO1xufVxuZnVuY3Rpb24gY2xlYW5BcnJheShhcnIpIHtcbiAgbGV0IG9mZnNldCA9IDA7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKGFycltpXSA9PSB2b2lkIDApIHtcbiAgICAgIG9mZnNldCsrO1xuICAgIH0gZWxzZSB7XG4gICAgICBhcnJbaSAtIG9mZnNldF0gPSBhcnJbaV07XG4gICAgfVxuICB9XG4gIGFyci5sZW5ndGggLT0gb2Zmc2V0O1xuICByZXR1cm4gYXJyO1xufVxuXG5leHBvcnQgeyBjbGVhbkFycmF5LCBjbGVhbkhhc2ggfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNsZWFuLm1qcy5tYXBcbiIsImltcG9ydCB7IEV4dGVuc2lvblR5cGUgfSBmcm9tICcuLi8uLi8uLi8uLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcbmltcG9ydCB7IGNsZWFuSGFzaCwgY2xlYW5BcnJheSB9IGZyb20gJy4uLy4uLy4uLy4uL3V0aWxzL2RhdGEvY2xlYW4ubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5sZXQgcmVuZGVyYWJsZUdDVGljayA9IDA7XG5jb25zdCBfUmVuZGVyYWJsZUdDU3lzdGVtID0gY2xhc3MgX1JlbmRlcmFibGVHQ1N5c3RlbSB7XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IFJlbmRlcmFibGVHQ1N5c3RlbSBpbnN0YW5jZS5cbiAgICogQHBhcmFtIHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyIHRoaXMgZ2FyYmFnZSBjb2xsZWN0aW9uIHN5c3RlbSB3b3JrcyBmb3JcbiAgICovXG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyKSB7XG4gICAgLyoqIEFycmF5IG9mIHJlbmRlcmFibGVzIGJlaW5nIHRyYWNrZWQgZm9yIGdhcmJhZ2UgY29sbGVjdGlvbiAqL1xuICAgIHRoaXMuX21hbmFnZWRSZW5kZXJhYmxlcyA9IFtdO1xuICAgIC8qKiBBcnJheSBvZiBoYXNoIG9iamVjdHMgYmVpbmcgdHJhY2tlZCBmb3IgY2xlYW51cCAqL1xuICAgIHRoaXMuX21hbmFnZWRIYXNoZXMgPSBbXTtcbiAgICAvKiogQXJyYXkgb2YgYXJyYXlzIGJlaW5nIHRyYWNrZWQgZm9yIGNsZWFudXAgKi9cbiAgICB0aGlzLl9tYW5hZ2VkQXJyYXlzID0gW107XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgfVxuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgdGhlIGdhcmJhZ2UgY29sbGVjdGlvbiBzeXN0ZW0gd2l0aCB0aGUgcHJvdmlkZWQgb3B0aW9ucy5cbiAgICogQHBhcmFtIG9wdGlvbnMgLSBDb25maWd1cmF0aW9uIG9wdGlvbnMgZm9yIHRoZSByZW5kZXJlclxuICAgKi9cbiAgaW5pdChvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IHsgLi4uX1JlbmRlcmFibGVHQ1N5c3RlbS5kZWZhdWx0T3B0aW9ucywgLi4ub3B0aW9ucyB9O1xuICAgIHRoaXMubWF4VW51c2VkVGltZSA9IG9wdGlvbnMucmVuZGVyYWJsZUdDTWF4VW51c2VkVGltZTtcbiAgICB0aGlzLl9mcmVxdWVuY3kgPSBvcHRpb25zLnJlbmRlcmFibGVHQ0ZyZXF1ZW5jeTtcbiAgICB0aGlzLmVuYWJsZWQgPSBvcHRpb25zLnJlbmRlcmFibGVHQ0FjdGl2ZTtcbiAgfVxuICAvKipcbiAgICogR2V0cyB3aGV0aGVyIHRoZSBnYXJiYWdlIGNvbGxlY3Rpb24gc3lzdGVtIGlzIGN1cnJlbnRseSBlbmFibGVkLlxuICAgKiBAcmV0dXJucyBUcnVlIGlmIEdDIGlzIGVuYWJsZWQsIGZhbHNlIG90aGVyd2lzZVxuICAgKi9cbiAgZ2V0IGVuYWJsZWQoKSB7XG4gICAgcmV0dXJuICEhdGhpcy5faGFuZGxlcjtcbiAgfVxuICAvKipcbiAgICogRW5hYmxlcyBvciBkaXNhYmxlcyB0aGUgZ2FyYmFnZSBjb2xsZWN0aW9uIHN5c3RlbS5cbiAgICogV2hlbiBlbmFibGVkLCBzY2hlZHVsZXMgcGVyaW9kaWMgY2xlYW51cCBvZiByZXNvdXJjZXMuXG4gICAqIFdoZW4gZGlzYWJsZWQsIGNhbmNlbHMgYWxsIHNjaGVkdWxlZCBjbGVhbnVwcy5cbiAgICovXG4gIHNldCBlbmFibGVkKHZhbHVlKSB7XG4gICAgaWYgKHRoaXMuZW5hYmxlZCA9PT0gdmFsdWUpXG4gICAgICByZXR1cm47XG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICB0aGlzLl9oYW5kbGVyID0gdGhpcy5fcmVuZGVyZXIuc2NoZWR1bGVyLnJlcGVhdChcbiAgICAgICAgKCkgPT4gdGhpcy5ydW4oKSxcbiAgICAgICAgdGhpcy5fZnJlcXVlbmN5LFxuICAgICAgICBmYWxzZVxuICAgICAgKTtcbiAgICAgIHRoaXMuX2hhc2hIYW5kbGVyID0gdGhpcy5fcmVuZGVyZXIuc2NoZWR1bGVyLnJlcGVhdChcbiAgICAgICAgKCkgPT4ge1xuICAgICAgICAgIGZvciAoY29uc3QgaGFzaCBvZiB0aGlzLl9tYW5hZ2VkSGFzaGVzKSB7XG4gICAgICAgICAgICBoYXNoLmNvbnRleHRbaGFzaC5oYXNoXSA9IGNsZWFuSGFzaChoYXNoLmNvbnRleHRbaGFzaC5oYXNoXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB0aGlzLl9mcmVxdWVuY3lcbiAgICAgICk7XG4gICAgICB0aGlzLl9hcnJheUhhbmRsZXIgPSB0aGlzLl9yZW5kZXJlci5zY2hlZHVsZXIucmVwZWF0KFxuICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgZm9yIChjb25zdCBhcnJheSBvZiB0aGlzLl9tYW5hZ2VkQXJyYXlzKSB7XG4gICAgICAgICAgICBjbGVhbkFycmF5KGFycmF5LmNvbnRleHRbYXJyYXkuaGFzaF0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgdGhpcy5fZnJlcXVlbmN5XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9yZW5kZXJlci5zY2hlZHVsZXIuY2FuY2VsKHRoaXMuX2hhbmRsZXIpO1xuICAgICAgdGhpcy5fcmVuZGVyZXIuc2NoZWR1bGVyLmNhbmNlbCh0aGlzLl9oYXNoSGFuZGxlcik7XG4gICAgICB0aGlzLl9yZW5kZXJlci5zY2hlZHVsZXIuY2FuY2VsKHRoaXMuX2FycmF5SGFuZGxlcik7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBBZGRzIGEgaGFzaCB0YWJsZSB0byBiZSBtYW5hZ2VkIGJ5IHRoZSBnYXJiYWdlIGNvbGxlY3Rvci5cbiAgICogQHBhcmFtIGNvbnRleHQgLSBUaGUgb2JqZWN0IGNvbnRhaW5pbmcgdGhlIGhhc2ggdGFibGVcbiAgICogQHBhcmFtIGhhc2ggLSBUaGUgcHJvcGVydHkgbmFtZSBvZiB0aGUgaGFzaCB0YWJsZVxuICAgKi9cbiAgYWRkTWFuYWdlZEhhc2goY29udGV4dCwgaGFzaCkge1xuICAgIHRoaXMuX21hbmFnZWRIYXNoZXMucHVzaCh7IGNvbnRleHQsIGhhc2ggfSk7XG4gIH1cbiAgLyoqXG4gICAqIEFkZHMgYW4gYXJyYXkgdG8gYmUgbWFuYWdlZCBieSB0aGUgZ2FyYmFnZSBjb2xsZWN0b3IuXG4gICAqIEBwYXJhbSBjb250ZXh0IC0gVGhlIG9iamVjdCBjb250YWluaW5nIHRoZSBhcnJheVxuICAgKiBAcGFyYW0gaGFzaCAtIFRoZSBwcm9wZXJ0eSBuYW1lIG9mIHRoZSBhcnJheVxuICAgKi9cbiAgYWRkTWFuYWdlZEFycmF5KGNvbnRleHQsIGhhc2gpIHtcbiAgICB0aGlzLl9tYW5hZ2VkQXJyYXlzLnB1c2goeyBjb250ZXh0LCBoYXNoIH0pO1xuICB9XG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSBHQyB0aW1lc3RhbXAgYW5kIHRyYWNraW5nIGJlZm9yZSByZW5kZXJpbmcuXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gVGhlIHJlbmRlciBvcHRpb25zXG4gICAqIEBwYXJhbSBvcHRpb25zLmNvbnRhaW5lciAtIFRoZSBjb250YWluZXIgdG8gcmVuZGVyXG4gICAqL1xuICBwcmVyZW5kZXIoe1xuICAgIGNvbnRhaW5lclxuICB9KSB7XG4gICAgdGhpcy5fbm93ID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgY29udGFpbmVyLnJlbmRlckdyb3VwLmdjVGljayA9IHJlbmRlcmFibGVHQ1RpY2srKztcbiAgICB0aGlzLl91cGRhdGVJbnN0cnVjdGlvbkdDVGljayhjb250YWluZXIucmVuZGVyR3JvdXAsIGNvbnRhaW5lci5yZW5kZXJHcm91cC5nY1RpY2spO1xuICB9XG4gIC8qKlxuICAgKiBTdGFydHMgdHJhY2tpbmcgYSByZW5kZXJhYmxlIGZvciBnYXJiYWdlIGNvbGxlY3Rpb24uXG4gICAqIEBwYXJhbSByZW5kZXJhYmxlIC0gVGhlIHJlbmRlcmFibGUgdG8gdHJhY2tcbiAgICovXG4gIGFkZFJlbmRlcmFibGUocmVuZGVyYWJsZSkge1xuICAgIGlmICghdGhpcy5lbmFibGVkKVxuICAgICAgcmV0dXJuO1xuICAgIGlmIChyZW5kZXJhYmxlLl9sYXN0VXNlZCA9PT0gLTEpIHtcbiAgICAgIHRoaXMuX21hbmFnZWRSZW5kZXJhYmxlcy5wdXNoKHJlbmRlcmFibGUpO1xuICAgICAgcmVuZGVyYWJsZS5vbmNlKFwiZGVzdHJveWVkXCIsIHRoaXMuX3JlbW92ZVJlbmRlcmFibGUsIHRoaXMpO1xuICAgIH1cbiAgICByZW5kZXJhYmxlLl9sYXN0VXNlZCA9IHRoaXMuX25vdztcbiAgfVxuICAvKipcbiAgICogUGVyZm9ybXMgZ2FyYmFnZSBjb2xsZWN0aW9uIGJ5IGNsZWFuaW5nIHVwIHVudXNlZCByZW5kZXJhYmxlcy5cbiAgICogUmVtb3ZlcyByZW5kZXJhYmxlcyB0aGF0IGhhdmVuJ3QgYmVlbiB1c2VkIGZvciBsb25nZXIgdGhhbiBtYXhVbnVzZWRUaW1lLlxuICAgKi9cbiAgcnVuKCkge1xuICAgIGNvbnN0IG5vdyA9IHRoaXMuX25vdztcbiAgICBjb25zdCBtYW5hZ2VkUmVuZGVyYWJsZXMgPSB0aGlzLl9tYW5hZ2VkUmVuZGVyYWJsZXM7XG4gICAgY29uc3QgcmVuZGVyUGlwZXMgPSB0aGlzLl9yZW5kZXJlci5yZW5kZXJQaXBlcztcbiAgICBsZXQgb2Zmc2V0ID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1hbmFnZWRSZW5kZXJhYmxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgcmVuZGVyYWJsZSA9IG1hbmFnZWRSZW5kZXJhYmxlc1tpXTtcbiAgICAgIGlmIChyZW5kZXJhYmxlID09PSBudWxsKSB7XG4gICAgICAgIG9mZnNldCsrO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlbmRlckdyb3VwID0gcmVuZGVyYWJsZS5yZW5kZXJHcm91cCA/PyByZW5kZXJhYmxlLnBhcmVudFJlbmRlckdyb3VwO1xuICAgICAgY29uc3QgY3VycmVudFRpY2sgPSByZW5kZXJHcm91cD8uaW5zdHJ1Y3Rpb25TZXQ/LmdjVGljayA/PyAtMTtcbiAgICAgIGlmICgocmVuZGVyR3JvdXA/LmdjVGljayA/PyAwKSA9PT0gY3VycmVudFRpY2spIHtcbiAgICAgICAgcmVuZGVyYWJsZS5fbGFzdFVzZWQgPSBub3c7XG4gICAgICB9XG4gICAgICBpZiAobm93IC0gcmVuZGVyYWJsZS5fbGFzdFVzZWQgPiB0aGlzLm1heFVudXNlZFRpbWUpIHtcbiAgICAgICAgaWYgKCFyZW5kZXJhYmxlLmRlc3Ryb3llZCkge1xuICAgICAgICAgIGNvbnN0IHJwID0gcmVuZGVyUGlwZXM7XG4gICAgICAgICAgaWYgKHJlbmRlckdyb3VwKVxuICAgICAgICAgICAgcmVuZGVyR3JvdXAuc3RydWN0dXJlRGlkQ2hhbmdlID0gdHJ1ZTtcbiAgICAgICAgICBycFtyZW5kZXJhYmxlLnJlbmRlclBpcGVJZF0uZGVzdHJveVJlbmRlcmFibGUocmVuZGVyYWJsZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmVuZGVyYWJsZS5fbGFzdFVzZWQgPSAtMTtcbiAgICAgICAgb2Zmc2V0Kys7XG4gICAgICAgIHJlbmRlcmFibGUub2ZmKFwiZGVzdHJveWVkXCIsIHRoaXMuX3JlbW92ZVJlbmRlcmFibGUsIHRoaXMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWFuYWdlZFJlbmRlcmFibGVzW2kgLSBvZmZzZXRdID0gcmVuZGVyYWJsZTtcbiAgICAgIH1cbiAgICB9XG4gICAgbWFuYWdlZFJlbmRlcmFibGVzLmxlbmd0aCAtPSBvZmZzZXQ7XG4gIH1cbiAgLyoqIENsZWFucyB1cCB0aGUgZ2FyYmFnZSBjb2xsZWN0aW9uIHN5c3RlbS4gRGlzYWJsZXMgR0MgYW5kIHJlbW92ZXMgYWxsIHRyYWNrZWQgcmVzb3VyY2VzLiAqL1xuICBkZXN0cm95KCkge1xuICAgIHRoaXMuZW5hYmxlZCA9IGZhbHNlO1xuICAgIHRoaXMuX3JlbmRlcmVyID0gbnVsbDtcbiAgICB0aGlzLl9tYW5hZ2VkUmVuZGVyYWJsZXMubGVuZ3RoID0gMDtcbiAgICB0aGlzLl9tYW5hZ2VkSGFzaGVzLmxlbmd0aCA9IDA7XG4gICAgdGhpcy5fbWFuYWdlZEFycmF5cy5sZW5ndGggPSAwO1xuICB9XG4gIC8qKlxuICAgKiBSZW1vdmVzIGEgcmVuZGVyYWJsZSBmcm9tIGJlaW5nIHRyYWNrZWQgd2hlbiBpdCdzIGRlc3Ryb3llZC5cbiAgICogQHBhcmFtIHJlbmRlcmFibGUgLSBUaGUgcmVuZGVyYWJsZSB0byBzdG9wIHRyYWNraW5nXG4gICAqL1xuICBfcmVtb3ZlUmVuZGVyYWJsZShyZW5kZXJhYmxlKSB7XG4gICAgY29uc3QgaW5kZXggPSB0aGlzLl9tYW5hZ2VkUmVuZGVyYWJsZXMuaW5kZXhPZihyZW5kZXJhYmxlKTtcbiAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgcmVuZGVyYWJsZS5vZmYoXCJkZXN0cm95ZWRcIiwgdGhpcy5fcmVtb3ZlUmVuZGVyYWJsZSwgdGhpcyk7XG4gICAgICB0aGlzLl9tYW5hZ2VkUmVuZGVyYWJsZXNbaW5kZXhdID0gbnVsbDtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIEdDIHRpY2sgY291bnRlciBmb3IgYSByZW5kZXIgZ3JvdXAgYW5kIGl0cyBjaGlsZHJlbi5cbiAgICogQHBhcmFtIHJlbmRlckdyb3VwIC0gVGhlIHJlbmRlciBncm91cCB0byB1cGRhdGVcbiAgICogQHBhcmFtIGdjVGljayAtIFRoZSBuZXcgdGljayB2YWx1ZVxuICAgKi9cbiAgX3VwZGF0ZUluc3RydWN0aW9uR0NUaWNrKHJlbmRlckdyb3VwLCBnY1RpY2spIHtcbiAgICByZW5kZXJHcm91cC5pbnN0cnVjdGlvblNldC5nY1RpY2sgPSBnY1RpY2s7XG4gICAgZm9yIChjb25zdCBjaGlsZCBvZiByZW5kZXJHcm91cC5yZW5kZXJHcm91cENoaWxkcmVuKSB7XG4gICAgICB0aGlzLl91cGRhdGVJbnN0cnVjdGlvbkdDVGljayhjaGlsZCwgZ2NUaWNrKTtcbiAgICB9XG4gIH1cbn07XG4vKipcbiAqIEV4dGVuc2lvbiBtZXRhZGF0YSBmb3IgcmVnaXN0ZXJpbmcgdGhpcyBzeXN0ZW0gd2l0aCB0aGUgcmVuZGVyZXIuXG4gKiBAaWdub3JlXG4gKi9cbl9SZW5kZXJhYmxlR0NTeXN0ZW0uZXh0ZW5zaW9uID0ge1xuICB0eXBlOiBbXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHTFN5c3RlbSxcbiAgICBFeHRlbnNpb25UeXBlLldlYkdQVVN5c3RlbVxuICBdLFxuICBuYW1lOiBcInJlbmRlcmFibGVHQ1wiLFxuICBwcmlvcml0eTogMFxufTtcbi8qKlxuICogRGVmYXVsdCBjb25maWd1cmF0aW9uIG9wdGlvbnMgZm9yIHRoZSBnYXJiYWdlIGNvbGxlY3Rpb24gc3lzdGVtLlxuICogVGhlc2UgY2FuIGJlIG92ZXJyaWRkZW4gd2hlbiBpbml0aWFsaXppbmcgdGhlIHJlbmRlcmVyLlxuICovXG5fUmVuZGVyYWJsZUdDU3lzdGVtLmRlZmF1bHRPcHRpb25zID0ge1xuICAvKiogRW5hYmxlL2Rpc2FibGUgdGhlIGdhcmJhZ2UgY29sbGVjdG9yICovXG4gIHJlbmRlcmFibGVHQ0FjdGl2ZTogdHJ1ZSxcbiAgLyoqIFRpbWUgaW4gbXMgYmVmb3JlIGFuIHVudXNlZCByZXNvdXJjZSBpcyBjb2xsZWN0ZWQgKGRlZmF1bHQgMSBtaW51dGUpICovXG4gIHJlbmRlcmFibGVHQ01heFVudXNlZFRpbWU6IDZlNCxcbiAgLyoqIEhvdyBvZnRlbiB0byBydW4gZ2FyYmFnZSBjb2xsZWN0aW9uIGluIG1zIChkZWZhdWx0IDMwIHNlY29uZHMpICovXG4gIHJlbmRlcmFibGVHQ0ZyZXF1ZW5jeTogM2U0XG59O1xubGV0IFJlbmRlcmFibGVHQ1N5c3RlbSA9IF9SZW5kZXJhYmxlR0NTeXN0ZW07XG5cbmV4cG9ydCB7IFJlbmRlcmFibGVHQ1N5c3RlbSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UmVuZGVyYWJsZUdDU3lzdGVtLm1qcy5tYXBcbiIsImltcG9ydCB7IEV4dGVuc2lvblR5cGUgfSBmcm9tICcuLi8uLi8uLi8uLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBfVGV4dHVyZUdDU3lzdGVtID0gY2xhc3MgX1RleHR1cmVHQ1N5c3RlbSB7XG4gIC8qKiBAcGFyYW0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXIgdGhpcyBTeXN0ZW0gd29ya3MgZm9yLiAqL1xuICBjb25zdHJ1Y3RvcihyZW5kZXJlcikge1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5jb3VudCA9IDA7XG4gICAgdGhpcy5jaGVja0NvdW50ID0gMDtcbiAgfVxuICBpbml0KG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0geyAuLi5fVGV4dHVyZUdDU3lzdGVtLmRlZmF1bHRPcHRpb25zLCAuLi5vcHRpb25zIH07XG4gICAgdGhpcy5jaGVja0NvdW50TWF4ID0gb3B0aW9ucy50ZXh0dXJlR0NDaGVja0NvdW50TWF4O1xuICAgIHRoaXMubWF4SWRsZSA9IG9wdGlvbnMudGV4dHVyZUdDQU1heElkbGUgPz8gb3B0aW9ucy50ZXh0dXJlR0NNYXhJZGxlO1xuICAgIHRoaXMuYWN0aXZlID0gb3B0aW9ucy50ZXh0dXJlR0NBY3RpdmU7XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrcyB0byBzZWUgd2hlbiB0aGUgbGFzdCB0aW1lIGEgdGV4dHVyZSB3YXMgdXNlZC5cbiAgICogSWYgdGhlIHRleHR1cmUgaGFzIG5vdCBiZWVuIHVzZWQgZm9yIGEgc3BlY2lmaWVkIGFtb3VudCBvZiB0aW1lLCBpdCB3aWxsIGJlIHJlbW92ZWQgZnJvbSB0aGUgR1BVLlxuICAgKi9cbiAgcG9zdHJlbmRlcigpIHtcbiAgICBpZiAoIXRoaXMuX3JlbmRlcmVyLnJlbmRlcmluZ1RvU2NyZWVuKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuY291bnQrKztcbiAgICBpZiAoIXRoaXMuYWN0aXZlKVxuICAgICAgcmV0dXJuO1xuICAgIHRoaXMuY2hlY2tDb3VudCsrO1xuICAgIGlmICh0aGlzLmNoZWNrQ291bnQgPiB0aGlzLmNoZWNrQ291bnRNYXgpIHtcbiAgICAgIHRoaXMuY2hlY2tDb3VudCA9IDA7XG4gICAgICB0aGlzLnJ1bigpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQ2hlY2tzIHRvIHNlZSB3aGVuIHRoZSBsYXN0IHRpbWUgYSB0ZXh0dXJlIHdhcyB1c2VkLlxuICAgKiBJZiB0aGUgdGV4dHVyZSBoYXMgbm90IGJlZW4gdXNlZCBmb3IgYSBzcGVjaWZpZWQgYW1vdW50IG9mIHRpbWUsIGl0IHdpbGwgYmUgcmVtb3ZlZCBmcm9tIHRoZSBHUFUuXG4gICAqL1xuICBydW4oKSB7XG4gICAgY29uc3QgbWFuYWdlZFRleHR1cmVzID0gdGhpcy5fcmVuZGVyZXIudGV4dHVyZS5tYW5hZ2VkVGV4dHVyZXM7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYW5hZ2VkVGV4dHVyZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHRleHR1cmUgPSBtYW5hZ2VkVGV4dHVyZXNbaV07XG4gICAgICBpZiAodGV4dHVyZS5hdXRvR2FyYmFnZUNvbGxlY3QgJiYgdGV4dHVyZS5yZXNvdXJjZSAmJiB0ZXh0dXJlLl90b3VjaGVkID4gLTEgJiYgdGhpcy5jb3VudCAtIHRleHR1cmUuX3RvdWNoZWQgPiB0aGlzLm1heElkbGUpIHtcbiAgICAgICAgdGV4dHVyZS5fdG91Y2hlZCA9IC0xO1xuICAgICAgICB0ZXh0dXJlLnVubG9hZCgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBkZXN0cm95KCkge1xuICAgIHRoaXMuX3JlbmRlcmVyID0gbnVsbDtcbiAgfVxufTtcbi8qKiBAaWdub3JlICovXG5fVGV4dHVyZUdDU3lzdGVtLmV4dGVuc2lvbiA9IHtcbiAgdHlwZTogW1xuICAgIEV4dGVuc2lvblR5cGUuV2ViR0xTeXN0ZW0sXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHUFVTeXN0ZW1cbiAgXSxcbiAgbmFtZTogXCJ0ZXh0dXJlR0NcIlxufTtcbi8qKiBkZWZhdWx0IG9wdGlvbnMgZm9yIHRoZSBUZXh0dXJlR0NTeXN0ZW0gKi9cbl9UZXh0dXJlR0NTeXN0ZW0uZGVmYXVsdE9wdGlvbnMgPSB7XG4gIC8qKlxuICAgKiBJZiBzZXQgdG8gdHJ1ZSwgdGhpcyB3aWxsIGVuYWJsZSB0aGUgZ2FyYmFnZSBjb2xsZWN0b3Igb24gdGhlIEdQVS5cbiAgICogQGRlZmF1bHQgdHJ1ZVxuICAgKi9cbiAgdGV4dHVyZUdDQWN0aXZlOiB0cnVlLFxuICAvKipcbiAgICogQGRlcHJlY2F0ZWQgc2luY2UgOC4zLjBcbiAgICogQHNlZSB7QGxpbmsgVGV4dHVyZUdDU3lzdGVtT3B0aW9ucy50ZXh0dXJlR0NNYXhJZGxlfVxuICAgKi9cbiAgdGV4dHVyZUdDQU1heElkbGU6IG51bGwsXG4gIC8qKlxuICAgKiBUaGUgbWF4aW11bSBpZGxlIGZyYW1lcyBiZWZvcmUgYSB0ZXh0dXJlIGlzIGRlc3Ryb3llZCBieSBnYXJiYWdlIGNvbGxlY3Rpb24uXG4gICAqIEBkZWZhdWx0IDYwICogNjBcbiAgICovXG4gIHRleHR1cmVHQ01heElkbGU6IDYwICogNjAsXG4gIC8qKlxuICAgKiBGcmFtZXMgYmV0d2VlbiB0d28gZ2FyYmFnZSBjb2xsZWN0aW9ucy5cbiAgICogQGRlZmF1bHQgNjAwXG4gICAqL1xuICB0ZXh0dXJlR0NDaGVja0NvdW50TWF4OiA2MDBcbn07XG5sZXQgVGV4dHVyZUdDU3lzdGVtID0gX1RleHR1cmVHQ1N5c3RlbTtcblxuZXhwb3J0IHsgVGV4dHVyZUdDU3lzdGVtIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UZXh0dXJlR0NTeXN0ZW0ubWpzLm1hcFxuIiwiaW1wb3J0IHsgRE9NQWRhcHRlciB9IGZyb20gJy4uLy4uLy4uLy4uL2Vudmlyb25tZW50L2FkYXB0ZXIubWpzJztcbmltcG9ydCB7IEV4dGVuc2lvblR5cGUgfSBmcm9tICcuLi8uLi8uLi8uLi9leHRlbnNpb25zL0V4dGVuc2lvbnMubWpzJztcbmltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gJy4uLy4uLy4uLy4uL21hdGhzL3NoYXBlcy9SZWN0YW5nbGUubWpzJztcbmltcG9ydCB7IGRlcHJlY2F0aW9uLCB2OF8wXzAgfSBmcm9tICcuLi8uLi8uLi8uLi91dGlscy9sb2dnaW5nL2RlcHJlY2F0aW9uLm1qcyc7XG5pbXBvcnQgeyBSZW5kZXJUYXJnZXQgfSBmcm9tICcuLi9yZW5kZXJUYXJnZXQvUmVuZGVyVGFyZ2V0Lm1qcyc7XG5pbXBvcnQgeyBnZXRDYW52YXNUZXh0dXJlIH0gZnJvbSAnLi4vdGV4dHVyZS91dGlscy9nZXRDYW52YXNUZXh0dXJlLm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuY29uc3QgX1ZpZXdTeXN0ZW0gPSBjbGFzcyBfVmlld1N5c3RlbSB7XG4gIC8qKlxuICAgKiBXaGV0aGVyIENTUyBkaW1lbnNpb25zIG9mIGNhbnZhcyB2aWV3IHNob3VsZCBiZSByZXNpemVkIHRvIHNjcmVlbiBkaW1lbnNpb25zIGF1dG9tYXRpY2FsbHkuXG4gICAqIFRoaXMgaXMgb25seSBzdXBwb3J0ZWQgZm9yIEhUTUxDYW52YXNFbGVtZW50IGFuZCB3aWxsIGJlIGlnbm9yZWQgaWYgdGhlIGNhbnZhcyBpcyBhbiBPZmZzY3JlZW5DYW52YXMuXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKi9cbiAgZ2V0IGF1dG9EZW5zaXR5KCkge1xuICAgIHJldHVybiB0aGlzLnRleHR1cmUuc291cmNlLmF1dG9EZW5zaXR5O1xuICB9XG4gIHNldCBhdXRvRGVuc2l0eSh2YWx1ZSkge1xuICAgIHRoaXMudGV4dHVyZS5zb3VyY2UuYXV0b0RlbnNpdHkgPSB2YWx1ZTtcbiAgfVxuICAvKiogVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHJlbmRlcmVyLiAqL1xuICBnZXQgcmVzb2x1dGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy50ZXh0dXJlLnNvdXJjZS5fcmVzb2x1dGlvbjtcbiAgfVxuICBzZXQgcmVzb2x1dGlvbih2YWx1ZSkge1xuICAgIHRoaXMudGV4dHVyZS5zb3VyY2UucmVzaXplKFxuICAgICAgdGhpcy50ZXh0dXJlLnNvdXJjZS53aWR0aCxcbiAgICAgIHRoaXMudGV4dHVyZS5zb3VyY2UuaGVpZ2h0LFxuICAgICAgdmFsdWVcbiAgICApO1xuICB9XG4gIC8qKlxuICAgKiBpbml0aWF0ZXMgdGhlIHZpZXcgc3lzdGVtXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gdGhlIG9wdGlvbnMgZm9yIHRoZSB2aWV3XG4gICAqL1xuICBpbml0KG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0ge1xuICAgICAgLi4uX1ZpZXdTeXN0ZW0uZGVmYXVsdE9wdGlvbnMsXG4gICAgICAuLi5vcHRpb25zXG4gICAgfTtcbiAgICBpZiAob3B0aW9ucy52aWV3KSB7XG4gICAgICBkZXByZWNhdGlvbih2OF8wXzAsIFwiVmlld1N5c3RlbS52aWV3IGhhcyBiZWVuIHJlbmFtZWQgdG8gVmlld1N5c3RlbS5jYW52YXNcIik7XG4gICAgICBvcHRpb25zLmNhbnZhcyA9IG9wdGlvbnMudmlldztcbiAgICB9XG4gICAgdGhpcy5zY3JlZW4gPSBuZXcgUmVjdGFuZ2xlKDAsIDAsIG9wdGlvbnMud2lkdGgsIG9wdGlvbnMuaGVpZ2h0KTtcbiAgICB0aGlzLmNhbnZhcyA9IG9wdGlvbnMuY2FudmFzIHx8IERPTUFkYXB0ZXIuZ2V0KCkuY3JlYXRlQ2FudmFzKCk7XG4gICAgdGhpcy5hbnRpYWxpYXMgPSAhIW9wdGlvbnMuYW50aWFsaWFzO1xuICAgIHRoaXMudGV4dHVyZSA9IGdldENhbnZhc1RleHR1cmUodGhpcy5jYW52YXMsIG9wdGlvbnMpO1xuICAgIHRoaXMucmVuZGVyVGFyZ2V0ID0gbmV3IFJlbmRlclRhcmdldCh7XG4gICAgICBjb2xvclRleHR1cmVzOiBbdGhpcy50ZXh0dXJlXSxcbiAgICAgIGRlcHRoOiAhIW9wdGlvbnMuZGVwdGgsXG4gICAgICBpc1Jvb3Q6IHRydWVcbiAgICB9KTtcbiAgICB0aGlzLnRleHR1cmUuc291cmNlLnRyYW5zcGFyZW50ID0gb3B0aW9ucy5iYWNrZ3JvdW5kQWxwaGEgPCAxO1xuICAgIHRoaXMucmVzb2x1dGlvbiA9IG9wdGlvbnMucmVzb2x1dGlvbjtcbiAgfVxuICAvKipcbiAgICogUmVzaXplcyB0aGUgc2NyZWVuIGFuZCBjYW52YXMgdG8gdGhlIHNwZWNpZmllZCBkaW1lbnNpb25zLlxuICAgKiBAcGFyYW0gZGVzaXJlZFNjcmVlbldpZHRoIC0gVGhlIG5ldyB3aWR0aCBvZiB0aGUgc2NyZWVuLlxuICAgKiBAcGFyYW0gZGVzaXJlZFNjcmVlbkhlaWdodCAtIFRoZSBuZXcgaGVpZ2h0IG9mIHRoZSBzY3JlZW4uXG4gICAqIEBwYXJhbSByZXNvbHV0aW9uXG4gICAqL1xuICByZXNpemUoZGVzaXJlZFNjcmVlbldpZHRoLCBkZXNpcmVkU2NyZWVuSGVpZ2h0LCByZXNvbHV0aW9uKSB7XG4gICAgdGhpcy50ZXh0dXJlLnNvdXJjZS5yZXNpemUoZGVzaXJlZFNjcmVlbldpZHRoLCBkZXNpcmVkU2NyZWVuSGVpZ2h0LCByZXNvbHV0aW9uKTtcbiAgICB0aGlzLnNjcmVlbi53aWR0aCA9IHRoaXMudGV4dHVyZS5mcmFtZS53aWR0aDtcbiAgICB0aGlzLnNjcmVlbi5oZWlnaHQgPSB0aGlzLnRleHR1cmUuZnJhbWUuaGVpZ2h0O1xuICB9XG4gIC8qKlxuICAgKiBEZXN0cm95cyB0aGlzIFN5c3RlbSBhbmQgb3B0aW9uYWxseSByZW1vdmVzIHRoZSBjYW52YXMgZnJvbSB0aGUgZG9tLlxuICAgKiBAcGFyYW0ge29wdGlvbnMgfCBmYWxzZX0gb3B0aW9ucyAtIFRoZSBvcHRpb25zIGZvciBkZXN0cm95aW5nIHRoZSB2aWV3LCBvciBcImZhbHNlXCIuXG4gICAqIEBleGFtcGxlXG4gICAqIHZpZXdTeXN0ZW0uZGVzdHJveSgpO1xuICAgKiB2aWV3U3lzdGVtLmRlc3Ryb3kodHJ1ZSk7XG4gICAqIHZpZXdTeXN0ZW0uZGVzdHJveSh7IHJlbW92ZVZpZXc6IHRydWUgfSk7XG4gICAqL1xuICBkZXN0cm95KG9wdGlvbnMgPSBmYWxzZSkge1xuICAgIGNvbnN0IHJlbW92ZVZpZXcgPSB0eXBlb2Ygb3B0aW9ucyA9PT0gXCJib29sZWFuXCIgPyBvcHRpb25zIDogISFvcHRpb25zPy5yZW1vdmVWaWV3O1xuICAgIGlmIChyZW1vdmVWaWV3ICYmIHRoaXMuY2FudmFzLnBhcmVudE5vZGUpIHtcbiAgICAgIHRoaXMuY2FudmFzLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5jYW52YXMpO1xuICAgIH1cbiAgICB0aGlzLnRleHR1cmUuZGVzdHJveSgpO1xuICB9XG59O1xuLyoqIEBpZ25vcmUgKi9cbl9WaWV3U3lzdGVtLmV4dGVuc2lvbiA9IHtcbiAgdHlwZTogW1xuICAgIEV4dGVuc2lvblR5cGUuV2ViR0xTeXN0ZW0sXG4gICAgRXh0ZW5zaW9uVHlwZS5XZWJHUFVTeXN0ZW0sXG4gICAgRXh0ZW5zaW9uVHlwZS5DYW52YXNTeXN0ZW1cbiAgXSxcbiAgbmFtZTogXCJ2aWV3XCIsXG4gIHByaW9yaXR5OiAwXG59O1xuLyoqIFRoZSBkZWZhdWx0IG9wdGlvbnMgZm9yIHRoZSB2aWV3IHN5c3RlbS4gKi9cbl9WaWV3U3lzdGVtLmRlZmF1bHRPcHRpb25zID0ge1xuICAvKipcbiAgICoge0BsaW5rIFdlYkdMT3B0aW9ucy53aWR0aH1cbiAgICogQGRlZmF1bHQgODAwXG4gICAqL1xuICB3aWR0aDogODAwLFxuICAvKipcbiAgICoge0BsaW5rIFdlYkdMT3B0aW9ucy5oZWlnaHR9XG4gICAqIEBkZWZhdWx0IDYwMFxuICAgKi9cbiAgaGVpZ2h0OiA2MDAsXG4gIC8qKlxuICAgKiB7QGxpbmsgV2ViR0xPcHRpb25zLmF1dG9EZW5zaXR5fVxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgYXV0b0RlbnNpdHk6IGZhbHNlLFxuICAvKipcbiAgICoge0BsaW5rIFdlYkdMT3B0aW9ucy5hbnRpYWxpYXN9XG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBhbnRpYWxpYXM6IGZhbHNlXG59O1xubGV0IFZpZXdTeXN0ZW0gPSBfVmlld1N5c3RlbTtcblxuZXhwb3J0IHsgVmlld1N5c3RlbSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Vmlld1N5c3RlbS5tanMubWFwXG4iLCJpbXBvcnQgeyBDdXN0b21SZW5kZXJQaXBlIH0gZnJvbSAnLi4vLi4vLi4vLi4vc2NlbmUvY29udGFpbmVyL0N1c3RvbVJlbmRlclBpcGUubWpzJztcbmltcG9ydCB7IFJlbmRlckdyb3VwUGlwZSB9IGZyb20gJy4uLy4uLy4uLy4uL3NjZW5lL2NvbnRhaW5lci9SZW5kZXJHcm91cFBpcGUubWpzJztcbmltcG9ydCB7IFJlbmRlckdyb3VwU3lzdGVtIH0gZnJvbSAnLi4vLi4vLi4vLi4vc2NlbmUvY29udGFpbmVyL1JlbmRlckdyb3VwU3lzdGVtLm1qcyc7XG5pbXBvcnQgeyBTcHJpdGVQaXBlIH0gZnJvbSAnLi4vLi4vLi4vLi4vc2NlbmUvc3ByaXRlL1Nwcml0ZVBpcGUubWpzJztcbmltcG9ydCB7IFJlbmRlcmVySW5pdEhvb2sgfSBmcm9tICcuLi8uLi8uLi8uLi91dGlscy9nbG9iYWwvZ2xvYmFsSG9va3MubWpzJztcbmltcG9ydCB7IEJhdGNoZXJQaXBlIH0gZnJvbSAnLi4vLi4vLi4vYmF0Y2hlci9zaGFyZWQvQmF0Y2hlclBpcGUubWpzJztcbmltcG9ydCB7IEFscGhhTWFza1BpcGUgfSBmcm9tICcuLi8uLi8uLi9tYXNrL2FscGhhL0FscGhhTWFza1BpcGUubWpzJztcbmltcG9ydCB7IENvbG9yTWFza1BpcGUgfSBmcm9tICcuLi8uLi8uLi9tYXNrL2NvbG9yL0NvbG9yTWFza1BpcGUubWpzJztcbmltcG9ydCB7IFN0ZW5jaWxNYXNrUGlwZSB9IGZyb20gJy4uLy4uLy4uL21hc2svc3RlbmNpbC9TdGVuY2lsTWFza1BpcGUubWpzJztcbmltcG9ydCB7IEJhY2tncm91bmRTeXN0ZW0gfSBmcm9tICcuLi9iYWNrZ3JvdW5kL0JhY2tncm91bmRTeXN0ZW0ubWpzJztcbmltcG9ydCB7IEJsZW5kTW9kZVBpcGUgfSBmcm9tICcuLi9ibGVuZE1vZGVzL0JsZW5kTW9kZVBpcGUubWpzJztcbmltcG9ydCB7IEV4dHJhY3RTeXN0ZW0gfSBmcm9tICcuLi9leHRyYWN0L0V4dHJhY3RTeXN0ZW0ubWpzJztcbmltcG9ydCB7IEdlbmVyYXRlVGV4dHVyZVN5c3RlbSB9IGZyb20gJy4uL2V4dHJhY3QvR2VuZXJhdGVUZXh0dXJlU3lzdGVtLm1qcyc7XG5pbXBvcnQgeyBHbG9iYWxVbmlmb3JtU3lzdGVtIH0gZnJvbSAnLi4vcmVuZGVyVGFyZ2V0L0dsb2JhbFVuaWZvcm1TeXN0ZW0ubWpzJztcbmltcG9ydCB7IFNjaGVkdWxlclN5c3RlbSB9IGZyb20gJy4uL1NjaGVkdWxlclN5c3RlbS5tanMnO1xuaW1wb3J0IHsgSGVsbG9TeXN0ZW0gfSBmcm9tICcuLi9zdGFydHVwL0hlbGxvU3lzdGVtLm1qcyc7XG5pbXBvcnQgeyBSZW5kZXJhYmxlR0NTeXN0ZW0gfSBmcm9tICcuLi90ZXh0dXJlL1JlbmRlcmFibGVHQ1N5c3RlbS5tanMnO1xuaW1wb3J0IHsgVGV4dHVyZUdDU3lzdGVtIH0gZnJvbSAnLi4vdGV4dHVyZS9UZXh0dXJlR0NTeXN0ZW0ubWpzJztcbmltcG9ydCB7IFZpZXdTeXN0ZW0gfSBmcm9tICcuLi92aWV3L1ZpZXdTeXN0ZW0ubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBTaGFyZWRTeXN0ZW1zID0gW1xuICBCYWNrZ3JvdW5kU3lzdGVtLFxuICBHbG9iYWxVbmlmb3JtU3lzdGVtLFxuICBIZWxsb1N5c3RlbSxcbiAgVmlld1N5c3RlbSxcbiAgUmVuZGVyR3JvdXBTeXN0ZW0sXG4gIFRleHR1cmVHQ1N5c3RlbSxcbiAgR2VuZXJhdGVUZXh0dXJlU3lzdGVtLFxuICBFeHRyYWN0U3lzdGVtLFxuICBSZW5kZXJlckluaXRIb29rLFxuICBSZW5kZXJhYmxlR0NTeXN0ZW0sXG4gIFNjaGVkdWxlclN5c3RlbVxuXTtcbmNvbnN0IFNoYXJlZFJlbmRlclBpcGVzID0gW1xuICBCbGVuZE1vZGVQaXBlLFxuICBCYXRjaGVyUGlwZSxcbiAgU3ByaXRlUGlwZSxcbiAgUmVuZGVyR3JvdXBQaXBlLFxuICBBbHBoYU1hc2tQaXBlLFxuICBTdGVuY2lsTWFza1BpcGUsXG4gIENvbG9yTWFza1BpcGUsXG4gIEN1c3RvbVJlbmRlclBpcGVcbl07XG5cbmV4cG9ydCB7IFNoYXJlZFJlbmRlclBpcGVzLCBTaGFyZWRTeXN0ZW1zIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TaGFyZWRTeXN0ZW1zLm1qcy5tYXBcbiIsIlwidXNlIHN0cmljdFwiO1xuY29uc3QgbG9jYWxVbmlmb3JtQml0ID0ge1xuICBuYW1lOiBcImxvY2FsLXVuaWZvcm0tYml0XCIsXG4gIHZlcnRleDoge1xuICAgIGhlYWRlcjogKFxuICAgICAgLyogd2dzbCAqL1xuICAgICAgYFxuXG4gICAgICAgICAgICBzdHJ1Y3QgTG9jYWxVbmlmb3JtcyB7XG4gICAgICAgICAgICAgICAgdVRyYW5zZm9ybU1hdHJpeDptYXQzeDM8ZjMyPixcbiAgICAgICAgICAgICAgICB1Q29sb3I6dmVjNDxmMzI+LFxuICAgICAgICAgICAgICAgIHVSb3VuZDpmMzIsXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIEBncm91cCgxKSBAYmluZGluZygwKSB2YXI8dW5pZm9ybT4gbG9jYWxVbmlmb3JtcyA6IExvY2FsVW5pZm9ybXM7XG4gICAgICAgIGBcbiAgICApLFxuICAgIG1haW46IChcbiAgICAgIC8qIHdnc2wgKi9cbiAgICAgIGBcbiAgICAgICAgICAgIHZDb2xvciAqPSBsb2NhbFVuaWZvcm1zLnVDb2xvcjtcbiAgICAgICAgICAgIG1vZGVsTWF0cml4ICo9IGxvY2FsVW5pZm9ybXMudVRyYW5zZm9ybU1hdHJpeDtcbiAgICAgICAgYFxuICAgICksXG4gICAgZW5kOiAoXG4gICAgICAvKiB3Z3NsICovXG4gICAgICBgXG4gICAgICAgICAgICBpZihsb2NhbFVuaWZvcm1zLnVSb3VuZCA9PSAxKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZQb3NpdGlvbiA9IHZlYzQocm91bmRQaXhlbHModlBvc2l0aW9uLnh5LCBnbG9iYWxVbmlmb3Jtcy51UmVzb2x1dGlvbiksIHZQb3NpdGlvbi56dyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIGBcbiAgICApXG4gIH1cbn07XG5jb25zdCBsb2NhbFVuaWZvcm1CaXRHcm91cDIgPSB7XG4gIC4uLmxvY2FsVW5pZm9ybUJpdCxcbiAgdmVydGV4OiB7XG4gICAgLi4ubG9jYWxVbmlmb3JtQml0LnZlcnRleCxcbiAgICAvLyByZXBsYWNlIHRoZSBncm91cCFcbiAgICBoZWFkZXI6IGxvY2FsVW5pZm9ybUJpdC52ZXJ0ZXguaGVhZGVyLnJlcGxhY2UoXCJncm91cCgxKVwiLCBcImdyb3VwKDIpXCIpXG4gIH1cbn07XG5jb25zdCBsb2NhbFVuaWZvcm1CaXRHbCA9IHtcbiAgbmFtZTogXCJsb2NhbC11bmlmb3JtLWJpdFwiLFxuICB2ZXJ0ZXg6IHtcbiAgICBoZWFkZXI6IChcbiAgICAgIC8qIGdsc2wgKi9cbiAgICAgIGBcblxuICAgICAgICAgICAgdW5pZm9ybSBtYXQzIHVUcmFuc2Zvcm1NYXRyaXg7XG4gICAgICAgICAgICB1bmlmb3JtIHZlYzQgdUNvbG9yO1xuICAgICAgICAgICAgdW5pZm9ybSBmbG9hdCB1Um91bmQ7XG4gICAgICAgIGBcbiAgICApLFxuICAgIG1haW46IChcbiAgICAgIC8qIGdsc2wgKi9cbiAgICAgIGBcbiAgICAgICAgICAgIHZDb2xvciAqPSB1Q29sb3I7XG4gICAgICAgICAgICBtb2RlbE1hdHJpeCA9IHVUcmFuc2Zvcm1NYXRyaXg7XG4gICAgICAgIGBcbiAgICApLFxuICAgIGVuZDogKFxuICAgICAgLyogZ2xzbCAqL1xuICAgICAgYFxuICAgICAgICAgICAgaWYodVJvdW5kID09IDEuKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGdsX1Bvc2l0aW9uLnh5ID0gcm91bmRQaXhlbHMoZ2xfUG9zaXRpb24ueHksIHVSZXNvbHV0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgYFxuICAgIClcbiAgfVxufTtcblxuZXhwb3J0IHsgbG9jYWxVbmlmb3JtQml0LCBsb2NhbFVuaWZvcm1CaXRHbCwgbG9jYWxVbmlmb3JtQml0R3JvdXAyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sb2NhbFVuaWZvcm1CaXQubWpzLm1hcFxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBjb2xvclRvVW5pZm9ybShyZ2IsIGFscGhhLCBvdXQsIG9mZnNldCkge1xuICBvdXRbb2Zmc2V0KytdID0gKHJnYiA+PiAxNiAmIDI1NSkgLyAyNTU7XG4gIG91dFtvZmZzZXQrK10gPSAocmdiID4+IDggJiAyNTUpIC8gMjU1O1xuICBvdXRbb2Zmc2V0KytdID0gKHJnYiAmIDI1NSkgLyAyNTU7XG4gIG91dFtvZmZzZXQrK10gPSBhbHBoYTtcbn1cbmZ1bmN0aW9uIGNvbG9yMzJCaXRUb1VuaWZvcm0oYWJnciwgb3V0LCBvZmZzZXQpIHtcbiAgY29uc3QgYWxwaGEgPSAoYWJnciA+PiAyNCAmIDI1NSkgLyAyNTU7XG4gIG91dFtvZmZzZXQrK10gPSAoYWJnciAmIDI1NSkgLyAyNTUgKiBhbHBoYTtcbiAgb3V0W29mZnNldCsrXSA9IChhYmdyID4+IDggJiAyNTUpIC8gMjU1ICogYWxwaGE7XG4gIG91dFtvZmZzZXQrK10gPSAoYWJnciA+PiAxNiAmIDI1NSkgLyAyNTUgKiBhbHBoYTtcbiAgb3V0W29mZnNldCsrXSA9IGFscGhhO1xufVxuXG5leHBvcnQgeyBjb2xvcjMyQml0VG9Vbmlmb3JtLCBjb2xvclRvVW5pZm9ybSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29sb3JUb1VuaWZvcm0ubWpzLm1hcFxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCB0ZXh0dXJlQml0ID0ge1xuICBuYW1lOiBcInRleHR1cmUtYml0XCIsXG4gIHZlcnRleDoge1xuICAgIGhlYWRlcjogKFxuICAgICAgLyogd2dzbCAqL1xuICAgICAgYFxuXG4gICAgICAgIHN0cnVjdCBUZXh0dXJlVW5pZm9ybXMge1xuICAgICAgICAgICAgdVRleHR1cmVNYXRyaXg6bWF0M3gzPGYzMj4sXG4gICAgICAgIH1cblxuICAgICAgICBAZ3JvdXAoMikgQGJpbmRpbmcoMikgdmFyPHVuaWZvcm0+IHRleHR1cmVVbmlmb3JtcyA6IFRleHR1cmVVbmlmb3JtcztcbiAgICAgICAgYFxuICAgICksXG4gICAgbWFpbjogKFxuICAgICAgLyogd2dzbCAqL1xuICAgICAgYFxuICAgICAgICAgICAgdXYgPSAodGV4dHVyZVVuaWZvcm1zLnVUZXh0dXJlTWF0cml4ICogdmVjMyh1diwgMS4wKSkueHk7XG4gICAgICAgIGBcbiAgICApXG4gIH0sXG4gIGZyYWdtZW50OiB7XG4gICAgaGVhZGVyOiAoXG4gICAgICAvKiB3Z3NsICovXG4gICAgICBgXG4gICAgICAgICAgICBAZ3JvdXAoMikgQGJpbmRpbmcoMCkgdmFyIHVUZXh0dXJlOiB0ZXh0dXJlXzJkPGYzMj47XG4gICAgICAgICAgICBAZ3JvdXAoMikgQGJpbmRpbmcoMSkgdmFyIHVTYW1wbGVyOiBzYW1wbGVyO1xuXG5cbiAgICAgICAgYFxuICAgICksXG4gICAgbWFpbjogKFxuICAgICAgLyogd2dzbCAqL1xuICAgICAgYFxuICAgICAgICAgICAgb3V0Q29sb3IgPSB0ZXh0dXJlU2FtcGxlKHVUZXh0dXJlLCB1U2FtcGxlciwgdlVWKTtcbiAgICAgICAgYFxuICAgIClcbiAgfVxufTtcbmNvbnN0IHRleHR1cmVCaXRHbCA9IHtcbiAgbmFtZTogXCJ0ZXh0dXJlLWJpdFwiLFxuICB2ZXJ0ZXg6IHtcbiAgICBoZWFkZXI6IChcbiAgICAgIC8qIGdsc2wgKi9cbiAgICAgIGBcbiAgICAgICAgICAgIHVuaWZvcm0gbWF0MyB1VGV4dHVyZU1hdHJpeDtcbiAgICAgICAgYFxuICAgICksXG4gICAgbWFpbjogKFxuICAgICAgLyogZ2xzbCAqL1xuICAgICAgYFxuICAgICAgICAgICAgdXYgPSAodVRleHR1cmVNYXRyaXggKiB2ZWMzKHV2LCAxLjApKS54eTtcbiAgICAgICAgYFxuICAgIClcbiAgfSxcbiAgZnJhZ21lbnQ6IHtcbiAgICBoZWFkZXI6IChcbiAgICAgIC8qIGdsc2wgKi9cbiAgICAgIGBcbiAgICAgICAgdW5pZm9ybSBzYW1wbGVyMkQgdVRleHR1cmU7XG5cblxuICAgICAgICBgXG4gICAgKSxcbiAgICBtYWluOiAoXG4gICAgICAvKiBnbHNsICovXG4gICAgICBgXG4gICAgICAgICAgICBvdXRDb2xvciA9IHRleHR1cmUodVRleHR1cmUsIHZVVik7XG4gICAgICAgIGBcbiAgICApXG4gIH1cbn07XG5cbmV4cG9ydCB7IHRleHR1cmVCaXQsIHRleHR1cmVCaXRHbCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGV4dHVyZUJpdC5tanMubWFwXG4iLCJpbXBvcnQgeyB1bmlmb3JtUGFyc2VycyB9IGZyb20gJy4vdW5pZm9ybVBhcnNlcnMubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBjcmVhdGVVYm9TeW5jRnVuY3Rpb24odWJvRWxlbWVudHMsIHBhcnNlckNvZGUsIGFycmF5R2VuZXJhdGlvbkZ1bmN0aW9uLCBzaW5nbGVTZXR0ZXJzTWFwKSB7XG4gIGNvbnN0IGZ1bmNGcmFnbWVudHMgPSBbYFxuICAgICAgICB2YXIgdiA9IG51bGw7XG4gICAgICAgIHZhciB2MiA9IG51bGw7XG4gICAgICAgIHZhciB0ID0gMDtcbiAgICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgICAgdmFyIG5hbWUgPSBudWxsO1xuICAgICAgICB2YXIgYXJyYXlPZmZzZXQgPSBudWxsO1xuICAgIGBdO1xuICBsZXQgcHJldiA9IDA7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdWJvRWxlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCB1Ym9FbGVtZW50ID0gdWJvRWxlbWVudHNbaV07XG4gICAgY29uc3QgbmFtZSA9IHVib0VsZW1lbnQuZGF0YS5uYW1lO1xuICAgIGxldCBwYXJzZWQgPSBmYWxzZTtcbiAgICBsZXQgb2Zmc2V0ID0gMDtcbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IHVuaWZvcm1QYXJzZXJzLmxlbmd0aDsgaisrKSB7XG4gICAgICBjb25zdCB1bmlmb3JtUGFyc2VyID0gdW5pZm9ybVBhcnNlcnNbal07XG4gICAgICBpZiAodW5pZm9ybVBhcnNlci50ZXN0KHVib0VsZW1lbnQuZGF0YSkpIHtcbiAgICAgICAgb2Zmc2V0ID0gdWJvRWxlbWVudC5vZmZzZXQgLyA0O1xuICAgICAgICBmdW5jRnJhZ21lbnRzLnB1c2goXG4gICAgICAgICAgYG5hbWUgPSBcIiR7bmFtZX1cIjtgLFxuICAgICAgICAgIGBvZmZzZXQgKz0gJHtvZmZzZXQgLSBwcmV2fTtgLFxuICAgICAgICAgIHVuaWZvcm1QYXJzZXJzW2pdW3BhcnNlckNvZGVdIHx8IHVuaWZvcm1QYXJzZXJzW2pdLnVib1xuICAgICAgICApO1xuICAgICAgICBwYXJzZWQgPSB0cnVlO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFwYXJzZWQpIHtcbiAgICAgIGlmICh1Ym9FbGVtZW50LmRhdGEuc2l6ZSA+IDEpIHtcbiAgICAgICAgb2Zmc2V0ID0gdWJvRWxlbWVudC5vZmZzZXQgLyA0O1xuICAgICAgICBmdW5jRnJhZ21lbnRzLnB1c2goYXJyYXlHZW5lcmF0aW9uRnVuY3Rpb24odWJvRWxlbWVudCwgb2Zmc2V0IC0gcHJldikpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgdGVtcGxhdGUgPSBzaW5nbGVTZXR0ZXJzTWFwW3Vib0VsZW1lbnQuZGF0YS50eXBlXTtcbiAgICAgICAgb2Zmc2V0ID0gdWJvRWxlbWVudC5vZmZzZXQgLyA0O1xuICAgICAgICBmdW5jRnJhZ21lbnRzLnB1c2goXG4gICAgICAgICAgLyogd2dzbCAqL1xuICAgICAgICAgIGBcbiAgICAgICAgICAgICAgICAgICAgdiA9IHV2LiR7bmFtZX07XG4gICAgICAgICAgICAgICAgICAgIG9mZnNldCArPSAke29mZnNldCAtIHByZXZ9O1xuICAgICAgICAgICAgICAgICAgICAke3RlbXBsYXRlfTtcbiAgICAgICAgICAgICAgICBgXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIHByZXYgPSBvZmZzZXQ7XG4gIH1cbiAgY29uc3QgZnJhZ21lbnRTcmMgPSBmdW5jRnJhZ21lbnRzLmpvaW4oXCJcXG5cIik7XG4gIHJldHVybiBuZXcgRnVuY3Rpb24oXG4gICAgXCJ1dlwiLFxuICAgIFwiZGF0YVwiLFxuICAgIFwiZGF0YUludDMyXCIsXG4gICAgXCJvZmZzZXRcIixcbiAgICBmcmFnbWVudFNyY1xuICApO1xufVxuXG5leHBvcnQgeyBjcmVhdGVVYm9TeW5jRnVuY3Rpb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNyZWF0ZVVib1N5bmNGdW5jdGlvbi5tanMubWFwXG4iLCJpbXBvcnQgeyBHbFByb2dyYW0gfSBmcm9tICcuLi9yZW5kZXJpbmcvcmVuZGVyZXJzL2dsL3NoYWRlci9HbFByb2dyYW0ubWpzJztcbmltcG9ydCB7IEdwdVByb2dyYW0gfSBmcm9tICcuLi9yZW5kZXJpbmcvcmVuZGVyZXJzL2dwdS9zaGFkZXIvR3B1UHJvZ3JhbS5tanMnO1xuaW1wb3J0IHsgU2hhZGVyIH0gZnJvbSAnLi4vcmVuZGVyaW5nL3JlbmRlcmVycy9zaGFyZWQvc2hhZGVyL1NoYWRlci5tanMnO1xuaW1wb3J0IHsgU3RhdGUgfSBmcm9tICcuLi9yZW5kZXJpbmcvcmVuZGVyZXJzL3NoYXJlZC9zdGF0ZS9TdGF0ZS5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNvbnN0IF9GaWx0ZXIgPSBjbGFzcyBfRmlsdGVyIGV4dGVuZHMgU2hhZGVyIHtcbiAgLyoqXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gVGhlIG9wdGlvbmFsIHBhcmFtZXRlcnMgb2YgdGhpcyBmaWx0ZXIuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IHsgLi4uX0ZpbHRlci5kZWZhdWx0T3B0aW9ucywgLi4ub3B0aW9ucyB9O1xuICAgIHN1cGVyKG9wdGlvbnMpO1xuICAgIC8qKiBJZiBlbmFibGVkIGlzIHRydWUgdGhlIGZpbHRlciBpcyBhcHBsaWVkLCBpZiBmYWxzZSBpdCB3aWxsIG5vdC4gKi9cbiAgICB0aGlzLmVuYWJsZWQgPSB0cnVlO1xuICAgIC8qKlxuICAgICAqIFRoZSBncHUgc3RhdGUgdGhlIGZpbHRlciByZXF1aXJlcyB0byByZW5kZXIuXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdGhpcy5fc3RhdGUgPSBTdGF0ZS5mb3IyZCgpO1xuICAgIHRoaXMuYmxlbmRNb2RlID0gb3B0aW9ucy5ibGVuZE1vZGU7XG4gICAgdGhpcy5wYWRkaW5nID0gb3B0aW9ucy5wYWRkaW5nO1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5hbnRpYWxpYXMgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICB0aGlzLmFudGlhbGlhcyA9IG9wdGlvbnMuYW50aWFsaWFzID8gXCJvblwiIDogXCJvZmZcIjtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5hbnRpYWxpYXMgPSBvcHRpb25zLmFudGlhbGlhcztcbiAgICB9XG4gICAgdGhpcy5yZXNvbHV0aW9uID0gb3B0aW9ucy5yZXNvbHV0aW9uO1xuICAgIHRoaXMuYmxlbmRSZXF1aXJlZCA9IG9wdGlvbnMuYmxlbmRSZXF1aXJlZDtcbiAgICB0aGlzLmNsaXBUb1ZpZXdwb3J0ID0gb3B0aW9ucy5jbGlwVG9WaWV3cG9ydDtcbiAgICB0aGlzLmFkZFJlc291cmNlKFwidVRleHR1cmVcIiwgMCwgMSk7XG4gIH1cbiAgLyoqXG4gICAqIEFwcGxpZXMgdGhlIGZpbHRlclxuICAgKiBAcGFyYW0gZmlsdGVyTWFuYWdlciAtIFRoZSByZW5kZXJlciB0byByZXRyaWV2ZSB0aGUgZmlsdGVyIGZyb21cbiAgICogQHBhcmFtIGlucHV0IC0gVGhlIGlucHV0IHJlbmRlciB0YXJnZXQuXG4gICAqIEBwYXJhbSBvdXRwdXQgLSBUaGUgdGFyZ2V0IHRvIG91dHB1dCB0by5cbiAgICogQHBhcmFtIGNsZWFyTW9kZSAtIFNob3VsZCB0aGUgb3V0cHV0IGJlIGNsZWFyZWQgYmVmb3JlIHJlbmRlcmluZyB0byBpdFxuICAgKi9cbiAgYXBwbHkoZmlsdGVyTWFuYWdlciwgaW5wdXQsIG91dHB1dCwgY2xlYXJNb2RlKSB7XG4gICAgZmlsdGVyTWFuYWdlci5hcHBseUZpbHRlcih0aGlzLCBpbnB1dCwgb3V0cHV0LCBjbGVhck1vZGUpO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgdGhlIGJsZW5kIG1vZGUgb2YgdGhlIGZpbHRlci5cbiAgICogQGRlZmF1bHQgXCJub3JtYWxcIlxuICAgKi9cbiAgZ2V0IGJsZW5kTW9kZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fc3RhdGUuYmxlbmRNb2RlO1xuICB9XG4gIC8qKiBTZXRzIHRoZSBibGVuZCBtb2RlIG9mIHRoZSBmaWx0ZXIuICovXG4gIHNldCBibGVuZE1vZGUodmFsdWUpIHtcbiAgICB0aGlzLl9zdGF0ZS5ibGVuZE1vZGUgPSB2YWx1ZTtcbiAgfVxuICAvKipcbiAgICogQSBzaG9ydCBoYW5kIGZ1bmN0aW9uIHRvIGNyZWF0ZSBhIGZpbHRlciBiYXNlZCBvZiBhIHZlcnRleCBhbmQgZnJhZ21lbnQgc2hhZGVyIHNyYy5cbiAgICogQHBhcmFtIG9wdGlvbnNcbiAgICogQHJldHVybnMgQSBzaGlueSBuZXcgUGl4aUpTIGZpbHRlciFcbiAgICovXG4gIHN0YXRpYyBmcm9tKG9wdGlvbnMpIHtcbiAgICBjb25zdCB7IGdwdSwgZ2wsIC4uLnJlc3QgfSA9IG9wdGlvbnM7XG4gICAgbGV0IGdwdVByb2dyYW07XG4gICAgbGV0IGdsUHJvZ3JhbTtcbiAgICBpZiAoZ3B1KSB7XG4gICAgICBncHVQcm9ncmFtID0gR3B1UHJvZ3JhbS5mcm9tKGdwdSk7XG4gICAgfVxuICAgIGlmIChnbCkge1xuICAgICAgZ2xQcm9ncmFtID0gR2xQcm9ncmFtLmZyb20oZ2wpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IF9GaWx0ZXIoe1xuICAgICAgZ3B1UHJvZ3JhbSxcbiAgICAgIGdsUHJvZ3JhbSxcbiAgICAgIC4uLnJlc3RcbiAgICB9KTtcbiAgfVxufTtcbi8qKiBUaGUgZGVmYXVsdCBmaWx0ZXIgc2V0dGluZ3MgKi9cbl9GaWx0ZXIuZGVmYXVsdE9wdGlvbnMgPSB7XG4gIGJsZW5kTW9kZTogXCJub3JtYWxcIixcbiAgcmVzb2x1dGlvbjogMSxcbiAgcGFkZGluZzogMCxcbiAgYW50aWFsaWFzOiBcIm9mZlwiLFxuICBibGVuZFJlcXVpcmVkOiBmYWxzZSxcbiAgY2xpcFRvVmlld3BvcnQ6IHRydWVcbn07XG5sZXQgRmlsdGVyID0gX0ZpbHRlcjtcblxuZXhwb3J0IHsgRmlsdGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1GaWx0ZXIubWpzLm1hcFxuIiwiaW1wb3J0IHsgdW5zYWZlRXZhbFN1cHBvcnRlZCB9IGZyb20gJy4uLy4uLy4uLy4uL3V0aWxzL2Jyb3dzZXIvdW5zYWZlRXZhbFN1cHBvcnRlZC5tanMnO1xuaW1wb3J0IHsgQnVmZmVyIH0gZnJvbSAnLi4vYnVmZmVyL0J1ZmZlci5tanMnO1xuaW1wb3J0IHsgQnVmZmVyVXNhZ2UgfSBmcm9tICcuLi9idWZmZXIvY29uc3QubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jbGFzcyBVYm9TeXN0ZW0ge1xuICBjb25zdHJ1Y3RvcihhZGFwdG9yKSB7XG4gICAgLyoqIENhY2hlIG9mIHVuaWZvcm0gYnVmZmVyIGxheW91dHMgYW5kIHN5bmMgZnVuY3Rpb25zLCBzbyB3ZSBkb24ndCBoYXZlIHRvIHJlLWNyZWF0ZSB0aGVtICovXG4gICAgdGhpcy5fc3luY0Z1bmN0aW9uSGFzaCA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIHRoaXMuX2FkYXB0b3IgPSBhZGFwdG9yO1xuICAgIHRoaXMuX3N5c3RlbUNoZWNrKCk7XG4gIH1cbiAgLyoqXG4gICAqIE92ZXJyaWRhYmxlIGZ1bmN0aW9uIGJ5IGBwaXhpLmpzL3Vuc2FmZS1ldmFsYCB0byBzaWxlbmNlXG4gICAqIHRocm93aW5nIGFuIGVycm9yIGlmIHBsYXRmb3JtIGRvZXNuJ3Qgc3VwcG9ydCB1bnNhZmUtZXZhbHMuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfc3lzdGVtQ2hlY2soKSB7XG4gICAgaWYgKCF1bnNhZmVFdmFsU3VwcG9ydGVkKCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkN1cnJlbnQgZW52aXJvbm1lbnQgZG9lcyBub3QgYWxsb3cgdW5zYWZlLWV2YWwsIHBsZWFzZSB1c2UgcGl4aS5qcy91bnNhZmUtZXZhbCBtb2R1bGUgdG8gZW5hYmxlIHN1cHBvcnQuXCIpO1xuICAgIH1cbiAgfVxuICBlbnN1cmVVbmlmb3JtR3JvdXAodW5pZm9ybUdyb3VwKSB7XG4gICAgY29uc3QgdW5pZm9ybURhdGEgPSB0aGlzLmdldFVuaWZvcm1Hcm91cERhdGEodW5pZm9ybUdyb3VwKTtcbiAgICB1bmlmb3JtR3JvdXAuYnVmZmVyIHx8ICh1bmlmb3JtR3JvdXAuYnVmZmVyID0gbmV3IEJ1ZmZlcih7XG4gICAgICBkYXRhOiBuZXcgRmxvYXQzMkFycmF5KHVuaWZvcm1EYXRhLmxheW91dC5zaXplIC8gNCksXG4gICAgICB1c2FnZTogQnVmZmVyVXNhZ2UuVU5JRk9STSB8IEJ1ZmZlclVzYWdlLkNPUFlfRFNUXG4gICAgfSkpO1xuICB9XG4gIGdldFVuaWZvcm1Hcm91cERhdGEodW5pZm9ybUdyb3VwKSB7XG4gICAgcmV0dXJuIHRoaXMuX3N5bmNGdW5jdGlvbkhhc2hbdW5pZm9ybUdyb3VwLl9zaWduYXR1cmVdIHx8IHRoaXMuX2luaXRVbmlmb3JtR3JvdXAodW5pZm9ybUdyb3VwKTtcbiAgfVxuICBfaW5pdFVuaWZvcm1Hcm91cCh1bmlmb3JtR3JvdXApIHtcbiAgICBjb25zdCB1bmlmb3JtR3JvdXBTaWduYXR1cmUgPSB1bmlmb3JtR3JvdXAuX3NpZ25hdHVyZTtcbiAgICBsZXQgdW5pZm9ybURhdGEgPSB0aGlzLl9zeW5jRnVuY3Rpb25IYXNoW3VuaWZvcm1Hcm91cFNpZ25hdHVyZV07XG4gICAgaWYgKCF1bmlmb3JtRGF0YSkge1xuICAgICAgY29uc3QgZWxlbWVudHMgPSBPYmplY3Qua2V5cyh1bmlmb3JtR3JvdXAudW5pZm9ybVN0cnVjdHVyZXMpLm1hcCgoaSkgPT4gdW5pZm9ybUdyb3VwLnVuaWZvcm1TdHJ1Y3R1cmVzW2ldKTtcbiAgICAgIGNvbnN0IGxheW91dCA9IHRoaXMuX2FkYXB0b3IuY3JlYXRlVWJvRWxlbWVudHMoZWxlbWVudHMpO1xuICAgICAgY29uc3Qgc3luY0Z1bmN0aW9uID0gdGhpcy5fZ2VuZXJhdGVVYm9TeW5jKGxheW91dC51Ym9FbGVtZW50cyk7XG4gICAgICB1bmlmb3JtRGF0YSA9IHRoaXMuX3N5bmNGdW5jdGlvbkhhc2hbdW5pZm9ybUdyb3VwU2lnbmF0dXJlXSA9IHtcbiAgICAgICAgbGF5b3V0LFxuICAgICAgICBzeW5jRnVuY3Rpb25cbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9zeW5jRnVuY3Rpb25IYXNoW3VuaWZvcm1Hcm91cFNpZ25hdHVyZV07XG4gIH1cbiAgX2dlbmVyYXRlVWJvU3luYyh1Ym9FbGVtZW50cykge1xuICAgIHJldHVybiB0aGlzLl9hZGFwdG9yLmdlbmVyYXRlVWJvU3luYyh1Ym9FbGVtZW50cyk7XG4gIH1cbiAgc3luY1VuaWZvcm1Hcm91cCh1bmlmb3JtR3JvdXAsIGRhdGEsIG9mZnNldCkge1xuICAgIGNvbnN0IHVuaWZvcm1Hcm91cERhdGEgPSB0aGlzLmdldFVuaWZvcm1Hcm91cERhdGEodW5pZm9ybUdyb3VwKTtcbiAgICB1bmlmb3JtR3JvdXAuYnVmZmVyIHx8ICh1bmlmb3JtR3JvdXAuYnVmZmVyID0gbmV3IEJ1ZmZlcih7XG4gICAgICBkYXRhOiBuZXcgRmxvYXQzMkFycmF5KHVuaWZvcm1Hcm91cERhdGEubGF5b3V0LnNpemUgLyA0KSxcbiAgICAgIHVzYWdlOiBCdWZmZXJVc2FnZS5VTklGT1JNIHwgQnVmZmVyVXNhZ2UuQ09QWV9EU1RcbiAgICB9KSk7XG4gICAgbGV0IGRhdGFJbnQzMiA9IG51bGw7XG4gICAgaWYgKCFkYXRhKSB7XG4gICAgICBkYXRhID0gdW5pZm9ybUdyb3VwLmJ1ZmZlci5kYXRhO1xuICAgICAgZGF0YUludDMyID0gdW5pZm9ybUdyb3VwLmJ1ZmZlci5kYXRhSW50MzI7XG4gICAgfVxuICAgIG9mZnNldCB8fCAob2Zmc2V0ID0gMCk7XG4gICAgdW5pZm9ybUdyb3VwRGF0YS5zeW5jRnVuY3Rpb24odW5pZm9ybUdyb3VwLnVuaWZvcm1zLCBkYXRhLCBkYXRhSW50MzIsIG9mZnNldCk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgdXBkYXRlVW5pZm9ybUdyb3VwKHVuaWZvcm1Hcm91cCkge1xuICAgIGlmICh1bmlmb3JtR3JvdXAuaXNTdGF0aWMgJiYgIXVuaWZvcm1Hcm91cC5fZGlydHlJZClcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB1bmlmb3JtR3JvdXAuX2RpcnR5SWQgPSAwO1xuICAgIGNvbnN0IHN5bmNlZCA9IHRoaXMuc3luY1VuaWZvcm1Hcm91cCh1bmlmb3JtR3JvdXApO1xuICAgIHVuaWZvcm1Hcm91cC5idWZmZXIudXBkYXRlKCk7XG4gICAgcmV0dXJuIHN5bmNlZDtcbiAgfVxuICBkZXN0cm95KCkge1xuICAgIHRoaXMuX3N5bmNGdW5jdGlvbkhhc2ggPSBudWxsO1xuICB9XG59XG5cbmV4cG9ydCB7IFVib1N5c3RlbSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VWJvU3lzdGVtLm1qcy5tYXBcbiIsImltcG9ydCB7IHdhcm4gfSBmcm9tICcuLi8uLi8uLi8uLi8uLi91dGlscy9sb2dnaW5nL3dhcm4ubWpzJztcbmltcG9ydCB7IGdldEF0dHJpYnV0ZUluZm9Gcm9tRm9ybWF0IH0gZnJvbSAnLi4vLi4vLi4vc2hhcmVkL2dlb21ldHJ5L3V0aWxzL2dldEF0dHJpYnV0ZUluZm9Gcm9tRm9ybWF0Lm1qcyc7XG5cblwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gZW5zdXJlQXR0cmlidXRlcyhnZW9tZXRyeSwgZXh0cmFjdGVkRGF0YSkge1xuICBmb3IgKGNvbnN0IGkgaW4gZ2VvbWV0cnkuYXR0cmlidXRlcykge1xuICAgIGNvbnN0IGF0dHJpYnV0ZSA9IGdlb21ldHJ5LmF0dHJpYnV0ZXNbaV07XG4gICAgY29uc3QgYXR0cmlidXRlRGF0YSA9IGV4dHJhY3RlZERhdGFbaV07XG4gICAgaWYgKGF0dHJpYnV0ZURhdGEpIHtcbiAgICAgIGF0dHJpYnV0ZS5mb3JtYXQgPz8gKGF0dHJpYnV0ZS5mb3JtYXQgPSBhdHRyaWJ1dGVEYXRhLmZvcm1hdCk7XG4gICAgICBhdHRyaWJ1dGUub2Zmc2V0ID8/IChhdHRyaWJ1dGUub2Zmc2V0ID0gYXR0cmlidXRlRGF0YS5vZmZzZXQpO1xuICAgICAgYXR0cmlidXRlLmluc3RhbmNlID8/IChhdHRyaWJ1dGUuaW5zdGFuY2UgPSBhdHRyaWJ1dGVEYXRhLmluc3RhbmNlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgd2FybihgQXR0cmlidXRlICR7aX0gaXMgbm90IHByZXNlbnQgaW4gdGhlIHNoYWRlciwgYnV0IGlzIHByZXNlbnQgaW4gdGhlIGdlb21ldHJ5LiBVbmFibGUgdG8gaW5mZXIgYXR0cmlidXRlIGRldGFpbHMuYCk7XG4gICAgfVxuICB9XG4gIGVuc3VyZVN0YXJ0QW5kU3RyaWRlKGdlb21ldHJ5KTtcbn1cbmZ1bmN0aW9uIGVuc3VyZVN0YXJ0QW5kU3RyaWRlKGdlb21ldHJ5KSB7XG4gIGNvbnN0IHsgYnVmZmVycywgYXR0cmlidXRlcyB9ID0gZ2VvbWV0cnk7XG4gIGNvbnN0IHRlbXBTdHJpZGUgPSB7fTtcbiAgY29uc3QgdGVtcFN0YXJ0ID0ge307XG4gIGZvciAoY29uc3QgaiBpbiBidWZmZXJzKSB7XG4gICAgY29uc3QgYnVmZmVyID0gYnVmZmVyc1tqXTtcbiAgICB0ZW1wU3RyaWRlW2J1ZmZlci51aWRdID0gMDtcbiAgICB0ZW1wU3RhcnRbYnVmZmVyLnVpZF0gPSAwO1xuICB9XG4gIGZvciAoY29uc3QgaiBpbiBhdHRyaWJ1dGVzKSB7XG4gICAgY29uc3QgYXR0cmlidXRlID0gYXR0cmlidXRlc1tqXTtcbiAgICB0ZW1wU3RyaWRlW2F0dHJpYnV0ZS5idWZmZXIudWlkXSArPSBnZXRBdHRyaWJ1dGVJbmZvRnJvbUZvcm1hdChhdHRyaWJ1dGUuZm9ybWF0KS5zdHJpZGU7XG4gIH1cbiAgZm9yIChjb25zdCBqIGluIGF0dHJpYnV0ZXMpIHtcbiAgICBjb25zdCBhdHRyaWJ1dGUgPSBhdHRyaWJ1dGVzW2pdO1xuICAgIGF0dHJpYnV0ZS5zdHJpZGUgPz8gKGF0dHJpYnV0ZS5zdHJpZGUgPSB0ZW1wU3RyaWRlW2F0dHJpYnV0ZS5idWZmZXIudWlkXSk7XG4gICAgYXR0cmlidXRlLnN0YXJ0ID8/IChhdHRyaWJ1dGUuc3RhcnQgPSB0ZW1wU3RhcnRbYXR0cmlidXRlLmJ1ZmZlci51aWRdKTtcbiAgICB0ZW1wU3RhcnRbYXR0cmlidXRlLmJ1ZmZlci51aWRdICs9IGdldEF0dHJpYnV0ZUluZm9Gcm9tRm9ybWF0KGF0dHJpYnV0ZS5mb3JtYXQpLnN0cmlkZTtcbiAgfVxufVxuXG5leHBvcnQgeyBlbnN1cmVBdHRyaWJ1dGVzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lbnN1cmVBdHRyaWJ1dGVzLm1qcy5tYXBcbiIsImltcG9ydCB7IE1hdHJpeCB9IGZyb20gJy4uLy4uLy4uLy4uL21hdGhzL21hdHJpeC9NYXRyaXgubWpzJztcbmltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gJy4uLy4uLy4uLy4uL21hdGhzL3NoYXBlcy9SZWN0YW5nbGUubWpzJztcbmltcG9ydCB7IENMRUFSIH0gZnJvbSAnLi4vLi4vZ2wvY29uc3QubWpzJztcbmltcG9ydCB7IGNhbGN1bGF0ZVByb2plY3Rpb24gfSBmcm9tICcuLi8uLi9ncHUvcmVuZGVyVGFyZ2V0L2NhbGN1bGF0ZVByb2plY3Rpb24ubWpzJztcbmltcG9ydCB7IFN5c3RlbVJ1bm5lciB9IGZyb20gJy4uL3N5c3RlbS9TeXN0ZW1SdW5uZXIubWpzJztcbmltcG9ydCB7IENhbnZhc1NvdXJjZSB9IGZyb20gJy4uL3RleHR1cmUvc291cmNlcy9DYW52YXNTb3VyY2UubWpzJztcbmltcG9ydCB7IFRleHR1cmVTb3VyY2UgfSBmcm9tICcuLi90ZXh0dXJlL3NvdXJjZXMvVGV4dHVyZVNvdXJjZS5tanMnO1xuaW1wb3J0IHsgVGV4dHVyZSB9IGZyb20gJy4uL3RleHR1cmUvVGV4dHVyZS5tanMnO1xuaW1wb3J0IHsgZ2V0Q2FudmFzVGV4dHVyZSB9IGZyb20gJy4uL3RleHR1cmUvdXRpbHMvZ2V0Q2FudmFzVGV4dHVyZS5tanMnO1xuaW1wb3J0IHsgaXNSZW5kZXJpbmdUb1NjcmVlbiB9IGZyb20gJy4vaXNSZW5kZXJpbmdUb1NjcmVlbi5tanMnO1xuaW1wb3J0IHsgUmVuZGVyVGFyZ2V0IH0gZnJvbSAnLi9SZW5kZXJUYXJnZXQubWpzJztcblxuXCJ1c2Ugc3RyaWN0XCI7XG5jbGFzcyBSZW5kZXJUYXJnZXRTeXN0ZW0ge1xuICBjb25zdHJ1Y3RvcihyZW5kZXJlcikge1xuICAgIC8qKiBUaGlzIGlzIHRoZSByb290IHZpZXdwb3J0IGZvciB0aGUgcmVuZGVyIHBhc3MqL1xuICAgIHRoaXMucm9vdFZpZXdQb3J0ID0gbmV3IFJlY3RhbmdsZSgpO1xuICAgIC8qKiB0aGUgY3VycmVudCB2aWV3cG9ydCB0aGF0IHRoZSBncHUgaXMgdXNpbmcgKi9cbiAgICB0aGlzLnZpZXdwb3J0ID0gbmV3IFJlY3RhbmdsZSgpO1xuICAgIC8qKlxuICAgICAqIGEgcnVubmVyIHRoYXQgbGV0cyBzeXN0ZW1zIGtub3cgaWYgdGhlIGFjdGl2ZSByZW5kZXIgdGFyZ2V0IGhhcyBjaGFuZ2VkLlxuICAgICAqIEVnIHRoZSBTdGVuY2lsIFN5c3RlbSBuZWVkcyB0byBrbm93IHNvIGl0IGNhbiBtYW5hZ2UgdGhlIHN0ZW5jaWwgYnVmZmVyXG4gICAgICovXG4gICAgdGhpcy5vblJlbmRlclRhcmdldENoYW5nZSA9IG5ldyBTeXN0ZW1SdW5uZXIoXCJvblJlbmRlclRhcmdldENoYW5nZVwiKTtcbiAgICAvKiogdGhlIHByb2plY3Rpb24gbWF0cml4IHRoYXQgaXMgdXNlZCBieSB0aGUgc2hhZGVycyBiYXNlZCBvbiB0aGUgYWN0aXZlIHJlbmRlciB0YXJnZXQgYW5kIHRoZSB2aWV3cG9ydCAqL1xuICAgIHRoaXMucHJvamVjdGlvbk1hdHJpeCA9IG5ldyBNYXRyaXgoKTtcbiAgICAvKiogdGhlIGRlZmF1bHQgY2xlYXIgY29sb3IgZm9yIHJlbmRlciB0YXJnZXRzICovXG4gICAgdGhpcy5kZWZhdWx0Q2xlYXJDb2xvciA9IFswLCAwLCAwLCAwXTtcbiAgICAvKipcbiAgICAgKiBhIGhhc2ggdGhhdCBzdG9yZXMgdGhlIHJlbmRlciB0YXJnZXQgZm9yIGEgZ2l2ZW4gcmVuZGVyIHN1cmZhY2UuIFdoZW4geW91IHBhc3MgaW4gYSB0ZXh0dXJlIHNvdXJjZSxcbiAgICAgKiBhIHJlbmRlciB0YXJnZXQgaXMgY3JlYXRlZCBmb3IgaXQuIFRoaXMgbWFwIHN0b3JlcyBhbmQgbWFrZXMgaXQgZWFzeSB0byByZXRyaWV2ZSB0aGUgcmVuZGVyIHRhcmdldFxuICAgICAqL1xuICAgIHRoaXMuX3JlbmRlclN1cmZhY2VUb1JlbmRlclRhcmdldEhhc2ggPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICAgIC8qKiBBIGhhc2ggdGhhdCBzdG9yZXMgYSBncHUgcmVuZGVyIHRhcmdldCBmb3IgYSBnaXZlbiByZW5kZXIgdGFyZ2V0LiAqL1xuICAgIHRoaXMuX2dwdVJlbmRlclRhcmdldEhhc2ggPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAvKipcbiAgICAgKiBBIHN0YWNrIHRoYXQgc3RvcmVzIHRoZSByZW5kZXIgdGFyZ2V0IGFuZCBmcmFtZSB0aGF0IGlzIGN1cnJlbnRseSBiZWluZyByZW5kZXJlZCB0by5cbiAgICAgKiBXaGVuIHB1c2ggaXMgY2FsbGVkLCB0aGUgY3VycmVudCByZW5kZXIgdGFyZ2V0IGlzIHN0b3JlZCBpbiB0aGlzIHN0YWNrLlxuICAgICAqIFdoZW4gcG9wIGlzIGNhbGxlZCwgdGhlIHByZXZpb3VzIHJlbmRlciB0YXJnZXQgaXMgcmVzdG9yZWQuXG4gICAgICovXG4gICAgdGhpcy5fcmVuZGVyVGFyZ2V0U3RhY2sgPSBbXTtcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIHJlbmRlcmVyLnJlbmRlcmFibGVHQy5hZGRNYW5hZ2VkSGFzaCh0aGlzLCBcIl9ncHVSZW5kZXJUYXJnZXRIYXNoXCIpO1xuICB9XG4gIC8qKiBjYWxsZWQgd2hlbiBkZXYgd2FudHMgdG8gZmluaXNoIGEgcmVuZGVyIHBhc3MgKi9cbiAgZmluaXNoUmVuZGVyUGFzcygpIHtcbiAgICB0aGlzLmFkYXB0b3IuZmluaXNoUmVuZGVyUGFzcyh0aGlzLnJlbmRlclRhcmdldCk7XG4gIH1cbiAgLyoqXG4gICAqIGNhbGxlZCB3aGVuIHRoZSByZW5kZXJlciBzdGFydHMgdG8gcmVuZGVyIGEgc2NlbmUuXG4gICAqIEBwYXJhbSBvcHRpb25zXG4gICAqIEBwYXJhbSBvcHRpb25zLnRhcmdldCAtIHRoZSByZW5kZXIgdGFyZ2V0IHRvIHJlbmRlciB0b1xuICAgKiBAcGFyYW0gb3B0aW9ucy5jbGVhciAtIHRoZSBjbGVhciBtb2RlIHRvIHVzZS4gQ2FuIGJlIHRydWUgb3IgYSBDTEVBUiBudW1iZXIgJ0NPTE9SIHwgREVQVEggfCBTVEVOQ0lMJyAwYjExMVxuICAgKiBAcGFyYW0gb3B0aW9ucy5jbGVhckNvbG9yIC0gdGhlIGNvbG9yIHRvIGNsZWFyIHRvXG4gICAqIEBwYXJhbSBvcHRpb25zLmZyYW1lIC0gdGhlIGZyYW1lIHRvIHJlbmRlciB0b1xuICAgKi9cbiAgcmVuZGVyU3RhcnQoe1xuICAgIHRhcmdldCxcbiAgICBjbGVhcixcbiAgICBjbGVhckNvbG9yLFxuICAgIGZyYW1lXG4gIH0pIHtcbiAgICB0aGlzLl9yZW5kZXJUYXJnZXRTdGFjay5sZW5ndGggPSAwO1xuICAgIHRoaXMucHVzaChcbiAgICAgIHRhcmdldCxcbiAgICAgIGNsZWFyLFxuICAgICAgY2xlYXJDb2xvcixcbiAgICAgIGZyYW1lXG4gICAgKTtcbiAgICB0aGlzLnJvb3RWaWV3UG9ydC5jb3B5RnJvbSh0aGlzLnZpZXdwb3J0KTtcbiAgICB0aGlzLnJvb3RSZW5kZXJUYXJnZXQgPSB0aGlzLnJlbmRlclRhcmdldDtcbiAgICB0aGlzLnJlbmRlcmluZ1RvU2NyZWVuID0gaXNSZW5kZXJpbmdUb1NjcmVlbih0aGlzLnJvb3RSZW5kZXJUYXJnZXQpO1xuICAgIHRoaXMuYWRhcHRvci5wcmVyZW5kZXI/Lih0aGlzLnJvb3RSZW5kZXJUYXJnZXQpO1xuICB9XG4gIHBvc3RyZW5kZXIoKSB7XG4gICAgdGhpcy5hZGFwdG9yLnBvc3RyZW5kZXI/Lih0aGlzLnJvb3RSZW5kZXJUYXJnZXQpO1xuICB9XG4gIC8qKlxuICAgKiBCaW5kaW5nIGEgcmVuZGVyIHN1cmZhY2UhIFRoaXMgaXMgdGhlIG1haW4gZnVuY3Rpb24gb2YgdGhlIHJlbmRlciB0YXJnZXQgc3lzdGVtLlxuICAgKiBJdCB3aWxsIHRha2UgdGhlIFJlbmRlclN1cmZhY2UgKHdoaWNoIGNhbiBiZSBhIHRleHR1cmUsIGNhbnZhcywgb3IgcmVuZGVyIHRhcmdldCkgYW5kIGJpbmQgaXQgdG8gdGhlIHJlbmRlcmVyLlxuICAgKiBPbmNlIGJvdW5kIGFsbCBkcmF3IGNhbGxzIHdpbGwgYmUgcmVuZGVyZWQgdG8gdGhlIHJlbmRlciBzdXJmYWNlLlxuICAgKlxuICAgKiBJZiBhIGZyYW1lIGlzIG5vdCBwcm92aWRlIGFuZCB0aGUgcmVuZGVyIHN1cmZhY2UgaXMgYSB0ZXh0dXJlLCB0aGUgZnJhbWUgb2YgdGhlIHRleHR1cmUgd2lsbCBiZSB1c2VkLlxuICAgKiBAcGFyYW0gcmVuZGVyU3VyZmFjZSAtIHRoZSByZW5kZXIgc3VyZmFjZSB0byBiaW5kXG4gICAqIEBwYXJhbSBjbGVhciAtIHRoZSBjbGVhciBtb2RlIHRvIHVzZS4gQ2FuIGJlIHRydWUgb3IgYSBDTEVBUiBudW1iZXIgJ0NPTE9SIHwgREVQVEggfCBTVEVOQ0lMJyAwYjExMVxuICAgKiBAcGFyYW0gY2xlYXJDb2xvciAtIHRoZSBjb2xvciB0byBjbGVhciB0b1xuICAgKiBAcGFyYW0gZnJhbWUgLSB0aGUgZnJhbWUgdG8gcmVuZGVyIHRvXG4gICAqIEByZXR1cm5zIHRoZSByZW5kZXIgdGFyZ2V0IHRoYXQgd2FzIGJvdW5kXG4gICAqL1xuICBiaW5kKHJlbmRlclN1cmZhY2UsIGNsZWFyID0gdHJ1ZSwgY2xlYXJDb2xvciwgZnJhbWUpIHtcbiAgICBjb25zdCByZW5kZXJUYXJnZXQgPSB0aGlzLmdldFJlbmRlclRhcmdldChyZW5kZXJTdXJmYWNlKTtcbiAgICBjb25zdCBkaWRDaGFuZ2UgPSB0aGlzLnJlbmRlclRhcmdldCAhPT0gcmVuZGVyVGFyZ2V0O1xuICAgIHRoaXMucmVuZGVyVGFyZ2V0ID0gcmVuZGVyVGFyZ2V0O1xuICAgIHRoaXMucmVuZGVyU3VyZmFjZSA9IHJlbmRlclN1cmZhY2U7XG4gICAgY29uc3QgZ3B1UmVuZGVyVGFyZ2V0ID0gdGhpcy5nZXRHcHVSZW5kZXJUYXJnZXQocmVuZGVyVGFyZ2V0KTtcbiAgICBpZiAocmVuZGVyVGFyZ2V0LnBpeGVsV2lkdGggIT09IGdwdVJlbmRlclRhcmdldC53aWR0aCB8fCByZW5kZXJUYXJnZXQucGl4ZWxIZWlnaHQgIT09IGdwdVJlbmRlclRhcmdldC5oZWlnaHQpIHtcbiAgICAgIHRoaXMuYWRhcHRvci5yZXNpemVHcHVSZW5kZXJUYXJnZXQocmVuZGVyVGFyZ2V0KTtcbiAgICAgIGdwdVJlbmRlclRhcmdldC53aWR0aCA9IHJlbmRlclRhcmdldC5waXhlbFdpZHRoO1xuICAgICAgZ3B1UmVuZGVyVGFyZ2V0LmhlaWdodCA9IHJlbmRlclRhcmdldC5waXhlbEhlaWdodDtcbiAgICB9XG4gICAgY29uc3Qgc291cmNlID0gcmVuZGVyVGFyZ2V0LmNvbG9yVGV4dHVyZTtcbiAgICBjb25zdCB2aWV3cG9ydCA9IHRoaXMudmlld3BvcnQ7XG4gICAgY29uc3QgcGl4ZWxXaWR0aCA9IHNvdXJjZS5waXhlbFdpZHRoO1xuICAgIGNvbnN0IHBpeGVsSGVpZ2h0ID0gc291cmNlLnBpeGVsSGVpZ2h0O1xuICAgIGlmICghZnJhbWUgJiYgcmVuZGVyU3VyZmFjZSBpbnN0YW5jZW9mIFRleHR1cmUpIHtcbiAgICAgIGZyYW1lID0gcmVuZGVyU3VyZmFjZS5mcmFtZTtcbiAgICB9XG4gICAgaWYgKGZyYW1lKSB7XG4gICAgICBjb25zdCByZXNvbHV0aW9uID0gc291cmNlLl9yZXNvbHV0aW9uO1xuICAgICAgdmlld3BvcnQueCA9IGZyYW1lLnggKiByZXNvbHV0aW9uICsgMC41IHwgMDtcbiAgICAgIHZpZXdwb3J0LnkgPSBmcmFtZS55ICogcmVzb2x1dGlvbiArIDAuNSB8IDA7XG4gICAgICB2aWV3cG9ydC53aWR0aCA9IGZyYW1lLndpZHRoICogcmVzb2x1dGlvbiArIDAuNSB8IDA7XG4gICAgICB2aWV3cG9ydC5oZWlnaHQgPSBmcmFtZS5oZWlnaHQgKiByZXNvbHV0aW9uICsgMC41IHwgMDtcbiAgICB9IGVsc2Uge1xuICAgICAgdmlld3BvcnQueCA9IDA7XG4gICAgICB2aWV3cG9ydC55ID0gMDtcbiAgICAgIHZpZXdwb3J0LndpZHRoID0gcGl4ZWxXaWR0aDtcbiAgICAgIHZpZXdwb3J0LmhlaWdodCA9IHBpeGVsSGVpZ2h0O1xuICAgIH1cbiAgICBjYWxjdWxhdGVQcm9qZWN0aW9uKFxuICAgICAgdGhpcy5wcm9qZWN0aW9uTWF0cml4LFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICB2aWV3cG9ydC53aWR0aCAvIHNvdXJjZS5yZXNvbHV0aW9uLFxuICAgICAgdmlld3BvcnQuaGVpZ2h0IC8gc291cmNlLnJlc29sdXRpb24sXG4gICAgICAhcmVuZGVyVGFyZ2V0LmlzUm9vdFxuICAgICk7XG4gICAgdGhpcy5hZGFwdG9yLnN0YXJ0UmVuZGVyUGFzcyhyZW5kZXJUYXJnZXQsIGNsZWFyLCBjbGVhckNvbG9yLCB2aWV3cG9ydCk7XG4gICAgaWYgKGRpZENoYW5nZSkge1xuICAgICAgdGhpcy5vblJlbmRlclRhcmdldENoYW5nZS5lbWl0KHJlbmRlclRhcmdldCk7XG4gICAgfVxuICAgIHJldHVybiByZW5kZXJUYXJnZXQ7XG4gIH1cbiAgY2xlYXIodGFyZ2V0LCBjbGVhciA9IENMRUFSLkFMTCwgY2xlYXJDb2xvcikge1xuICAgIGlmICghY2xlYXIpXG4gICAgICByZXR1cm47XG4gICAgaWYgKHRhcmdldCkge1xuICAgICAgdGFyZ2V0ID0gdGhpcy5nZXRSZW5kZXJUYXJnZXQodGFyZ2V0KTtcbiAgICB9XG4gICAgdGhpcy5hZGFwdG9yLmNsZWFyKFxuICAgICAgdGFyZ2V0IHx8IHRoaXMucmVuZGVyVGFyZ2V0LFxuICAgICAgY2xlYXIsXG4gICAgICBjbGVhckNvbG9yLFxuICAgICAgdGhpcy52aWV3cG9ydFxuICAgICk7XG4gIH1cbiAgY29udGV4dENoYW5nZSgpIHtcbiAgICB0aGlzLl9ncHVSZW5kZXJUYXJnZXRIYXNoID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIH1cbiAgLyoqXG4gICAqIFB1c2ggYSByZW5kZXIgc3VyZmFjZSB0byB0aGUgcmVuZGVyZXIuIFRoaXMgd2lsbCBiaW5kIHRoZSByZW5kZXIgc3VyZmFjZSB0byB0aGUgcmVuZGVyZXIsXG4gICAqIEBwYXJhbSByZW5kZXJTdXJmYWNlIC0gdGhlIHJlbmRlciBzdXJmYWNlIHRvIHB1c2hcbiAgICogQHBhcmFtIGNsZWFyIC0gdGhlIGNsZWFyIG1vZGUgdG8gdXNlLiBDYW4gYmUgdHJ1ZSBvciBhIENMRUFSIG51bWJlciAnQ09MT1IgfCBERVBUSCB8IFNURU5DSUwnIDBiMTExXG4gICAqIEBwYXJhbSBjbGVhckNvbG9yIC0gdGhlIGNvbG9yIHRvIGNsZWFyIHRvXG4gICAqIEBwYXJhbSBmcmFtZSAtIHRoZSBmcmFtZSB0byB1c2Ugd2hlbiByZW5kZXJpbmcgdG8gdGhlIHJlbmRlciBzdXJmYWNlXG4gICAqL1xuICBwdXNoKHJlbmRlclN1cmZhY2UsIGNsZWFyID0gQ0xFQVIuQUxMLCBjbGVhckNvbG9yLCBmcmFtZSkge1xuICAgIGNvbnN0IHJlbmRlclRhcmdldCA9IHRoaXMuYmluZChyZW5kZXJTdXJmYWNlLCBjbGVhciwgY2xlYXJDb2xvciwgZnJhbWUpO1xuICAgIHRoaXMuX3JlbmRlclRhcmdldFN0YWNrLnB1c2goe1xuICAgICAgcmVuZGVyVGFyZ2V0LFxuICAgICAgZnJhbWVcbiAgICB9KTtcbiAgICByZXR1cm4gcmVuZGVyVGFyZ2V0O1xuICB9XG4gIC8qKiBQb3BzIHRoZSBjdXJyZW50IHJlbmRlciB0YXJnZXQgZnJvbSB0aGUgcmVuZGVyZXIgYW5kIHJlc3RvcmVzIHRoZSBwcmV2aW91cyByZW5kZXIgdGFyZ2V0LiAqL1xuICBwb3AoKSB7XG4gICAgdGhpcy5fcmVuZGVyVGFyZ2V0U3RhY2sucG9wKCk7XG4gICAgY29uc3QgY3VycmVudFJlbmRlclRhcmdldERhdGEgPSB0aGlzLl9yZW5kZXJUYXJnZXRTdGFja1t0aGlzLl9yZW5kZXJUYXJnZXRTdGFjay5sZW5ndGggLSAxXTtcbiAgICB0aGlzLmJpbmQoY3VycmVudFJlbmRlclRhcmdldERhdGEucmVuZGVyVGFyZ2V0LCBmYWxzZSwgbnVsbCwgY3VycmVudFJlbmRlclRhcmdldERhdGEuZnJhbWUpO1xuICB9XG4gIC8qKlxuICAgKiBHZXRzIHRoZSByZW5kZXIgdGFyZ2V0IGZyb20gdGhlIHByb3ZpZGUgcmVuZGVyIHN1cmZhY2UuIEVnIGlmIGl0cyBhIHRleHR1cmUsXG4gICAqIGl0IHdpbGwgcmV0dXJuIHRoZSByZW5kZXIgdGFyZ2V0IGZvciB0aGUgdGV4dHVyZS5cbiAgICogSWYgaXRzIGEgcmVuZGVyIHRhcmdldCwgaXQgd2lsbCByZXR1cm4gdGhlIHNhbWUgcmVuZGVyIHRhcmdldC5cbiAgICogQHBhcmFtIHJlbmRlclN1cmZhY2UgLSB0aGUgcmVuZGVyIHN1cmZhY2UgdG8gZ2V0IHRoZSByZW5kZXIgdGFyZ2V0IGZvclxuICAgKiBAcmV0dXJucyB0aGUgcmVuZGVyIHRhcmdldCBmb3IgdGhlIHJlbmRlciBzdXJmYWNlXG4gICAqL1xuICBnZXRSZW5kZXJUYXJnZXQocmVuZGVyU3VyZmFjZSkge1xuICAgIGlmIChyZW5kZXJTdXJmYWNlLmlzVGV4dHVyZSkge1xuICAgICAgcmVuZGVyU3VyZmFjZSA9IHJlbmRlclN1cmZhY2Uuc291cmNlO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fcmVuZGVyU3VyZmFjZVRvUmVuZGVyVGFyZ2V0SGFzaC5nZXQocmVuZGVyU3VyZmFjZSkgPz8gdGhpcy5faW5pdFJlbmRlclRhcmdldChyZW5kZXJTdXJmYWNlKTtcbiAgfVxuICAvKipcbiAgICogQ29waWVzIGEgcmVuZGVyIHN1cmZhY2UgdG8gYW5vdGhlciB0ZXh0dXJlLlxuICAgKlxuICAgKiBOT1RFOlxuICAgKiBmb3Igc291cmNlUmVuZGVyU3VyZmFjZVRleHR1cmUsIFRoZSByZW5kZXIgdGFyZ2V0IG11c3QgYmUgc29tZXRoaW5nIHRoYXQgaXMgd3JpdHRlbiB0b28gYnkgdGhlIHJlbmRlcmVyXG4gICAqXG4gICAqIFRoZSBmb2xsb3dpbmcgaXMgbm90IHZhbGlkOlxuICAgKiBAZXhhbXBsZVxuICAgKiBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKVxuICAgKiBjYW52YXMud2lkdGggPSAyMDA7XG4gICAqIGNhbnZhcy5oZWlnaHQgPSAyMDA7XG4gICAqXG4gICAqIGNvbnN0IGN0eCA9IGNhbnZhczIuZ2V0Q29udGV4dCgnMmQnKSFcbiAgICogY3R4LmZpbGxTdHlsZSA9ICdyZWQnXG4gICAqIGN0eC5maWxsUmVjdCgwLCAwLCAyMDAsIDIwMCk7XG4gICAqXG4gICAqIGNvbnN0IHRleHR1cmUgPSBSZW5kZXJUZXh0dXJlLmNyZWF0ZSh7XG4gICAqICAgd2lkdGg6IDIwMCxcbiAgICogICBoZWlnaHQ6IDIwMCxcbiAgICogfSlcbiAgICogY29uc3QgcmVuZGVyVGFyZ2V0ID0gcmVuZGVyZXIucmVuZGVyVGFyZ2V0LmdldFJlbmRlclRhcmdldChjYW52YXMyKTtcbiAgICpcbiAgICogcmVuZGVyZXIucmVuZGVyVGFyZ2V0LmNvcHlUb1RleHR1cmUocmVuZGVyVGFyZ2V0LHRleHR1cmUsIHt4OjAseTowfSx7d2lkdGg6MjAwLGhlaWdodDoyMDB9LHt4OjAseTowfSk7XG4gICAqXG4gICAqIFRoZSBiZXN0IHdheSB0byBjb3B5IGEgY2FudmFzIGlzIHRvIGNyZWF0ZSBhIHRleHR1cmUgZnJvbSBpdC4gVGhlbiByZW5kZXIgd2l0aCB0aGF0LlxuICAgKlxuICAgKiBQYXJzaW5nIGluIGEgUmVuZGVyVGFyZ2V0IGNhbnZhcyBjb250ZXh0ICh3aXRoIGEgMmQgY29udGV4dClcbiAgICogQHBhcmFtIHNvdXJjZVJlbmRlclN1cmZhY2VUZXh0dXJlIC0gdGhlIHJlbmRlciBzdXJmYWNlIHRvIGNvcHkgZnJvbVxuICAgKiBAcGFyYW0gZGVzdGluYXRpb25UZXh0dXJlIC0gdGhlIHRleHR1cmUgdG8gY29weSB0b1xuICAgKiBAcGFyYW0gb3JpZ2luU3JjIC0gdGhlIG9yaWdpbiBvZiB0aGUgY29weVxuICAgKiBAcGFyYW0gb3JpZ2luU3JjLnggLSB0aGUgeCBvcmlnaW4gb2YgdGhlIGNvcHlcbiAgICogQHBhcmFtIG9yaWdpblNyYy55IC0gdGhlIHkgb3JpZ2luIG9mIHRoZSBjb3B5XG4gICAqIEBwYXJhbSBzaXplIC0gdGhlIHNpemUgb2YgdGhlIGNvcHlcbiAgICogQHBhcmFtIHNpemUud2lkdGggLSB0aGUgd2lkdGggb2YgdGhlIGNvcHlcbiAgICogQHBhcmFtIHNpemUuaGVpZ2h0IC0gdGhlIGhlaWdodCBvZiB0aGUgY29weVxuICAgKiBAcGFyYW0gb3JpZ2luRGVzdCAtIHRoZSBkZXN0aW5hdGlvbiBvcmlnaW4gKHRvcCBsZWZ0IHRvIHBhc3RlIGZyb20hKVxuICAgKiBAcGFyYW0gb3JpZ2luRGVzdC54IC0gdGhlIHggb3JpZ2luIG9mIHRoZSBwYXN0ZVxuICAgKiBAcGFyYW0gb3JpZ2luRGVzdC55IC0gdGhlIHkgb3JpZ2luIG9mIHRoZSBwYXN0ZVxuICAgKi9cbiAgY29weVRvVGV4dHVyZShzb3VyY2VSZW5kZXJTdXJmYWNlVGV4dHVyZSwgZGVzdGluYXRpb25UZXh0dXJlLCBvcmlnaW5TcmMsIHNpemUsIG9yaWdpbkRlc3QpIHtcbiAgICBpZiAob3JpZ2luU3JjLnggPCAwKSB7XG4gICAgICBzaXplLndpZHRoICs9IG9yaWdpblNyYy54O1xuICAgICAgb3JpZ2luRGVzdC54IC09IG9yaWdpblNyYy54O1xuICAgICAgb3JpZ2luU3JjLnggPSAwO1xuICAgIH1cbiAgICBpZiAob3JpZ2luU3JjLnkgPCAwKSB7XG4gICAgICBzaXplLmhlaWdodCArPSBvcmlnaW5TcmMueTtcbiAgICAgIG9yaWdpbkRlc3QueSAtPSBvcmlnaW5TcmMueTtcbiAgICAgIG9yaWdpblNyYy55ID0gMDtcbiAgICB9XG4gICAgY29uc3QgeyBwaXhlbFdpZHRoLCBwaXhlbEhlaWdodCB9ID0gc291cmNlUmVuZGVyU3VyZmFjZVRleHR1cmU7XG4gICAgc2l6ZS53aWR0aCA9IE1hdGgubWluKHNpemUud2lkdGgsIHBpeGVsV2lkdGggLSBvcmlnaW5TcmMueCk7XG4gICAgc2l6ZS5oZWlnaHQgPSBNYXRoLm1pbihzaXplLmhlaWdodCwgcGl4ZWxIZWlnaHQgLSBvcmlnaW5TcmMueSk7XG4gICAgcmV0dXJuIHRoaXMuYWRhcHRvci5jb3B5VG9UZXh0dXJlKFxuICAgICAgc291cmNlUmVuZGVyU3VyZmFjZVRleHR1cmUsXG4gICAgICBkZXN0aW5hdGlvblRleHR1cmUsXG4gICAgICBvcmlnaW5TcmMsXG4gICAgICBzaXplLFxuICAgICAgb3JpZ2luRGVzdFxuICAgICk7XG4gIH1cbiAgLyoqXG4gICAqIGVuc3VyZXMgdGhhdCB3ZSBoYXZlIGEgZGVwdGggc3RlbmNpbCBidWZmZXIgYXZhaWxhYmxlIHRvIHJlbmRlciB0b1xuICAgKiBUaGlzIGlzIHVzZWQgYnkgdGhlIG1hc2sgc3lzdGVtIHRvIG1ha2Ugc3VyZSB3ZSBoYXZlIGEgc3RlbmNpbCBidWZmZXIuXG4gICAqL1xuICBlbnN1cmVEZXB0aFN0ZW5jaWwoKSB7XG4gICAgaWYgKCF0aGlzLnJlbmRlclRhcmdldC5zdGVuY2lsKSB7XG4gICAgICB0aGlzLnJlbmRlclRhcmdldC5zdGVuY2lsID0gdHJ1ZTtcbiAgICAgIHRoaXMuYWRhcHRvci5zdGFydFJlbmRlclBhc3ModGhpcy5yZW5kZXJUYXJnZXQsIGZhbHNlLCBudWxsLCB0aGlzLnZpZXdwb3J0KTtcbiAgICB9XG4gIH1cbiAgLyoqIG51a2VzIHRoZSByZW5kZXIgdGFyZ2V0IHN5c3RlbSAqL1xuICBkZXN0cm95KCkge1xuICAgIHRoaXMuX3JlbmRlcmVyID0gbnVsbDtcbiAgICB0aGlzLl9yZW5kZXJTdXJmYWNlVG9SZW5kZXJUYXJnZXRIYXNoLmZvckVhY2goKHJlbmRlclRhcmdldCwga2V5KSA9PiB7XG4gICAgICBpZiAocmVuZGVyVGFyZ2V0ICE9PSBrZXkpIHtcbiAgICAgICAgcmVuZGVyVGFyZ2V0LmRlc3Ryb3koKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLl9yZW5kZXJTdXJmYWNlVG9SZW5kZXJUYXJnZXRIYXNoLmNsZWFyKCk7XG4gICAgdGhpcy5fZ3B1UmVuZGVyVGFyZ2V0SGFzaCA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpO1xuICB9XG4gIF9pbml0UmVuZGVyVGFyZ2V0KHJlbmRlclN1cmZhY2UpIHtcbiAgICBsZXQgcmVuZGVyVGFyZ2V0ID0gbnVsbDtcbiAgICBpZiAoQ2FudmFzU291cmNlLnRlc3QocmVuZGVyU3VyZmFjZSkpIHtcbiAgICAgIHJlbmRlclN1cmZhY2UgPSBnZXRDYW52YXNUZXh0dXJlKHJlbmRlclN1cmZhY2UpLnNvdXJjZTtcbiAgICB9XG4gICAgaWYgKHJlbmRlclN1cmZhY2UgaW5zdGFuY2VvZiBSZW5kZXJUYXJnZXQpIHtcbiAgICAgIHJlbmRlclRhcmdldCA9IHJlbmRlclN1cmZhY2U7XG4gICAgfSBlbHNlIGlmIChyZW5kZXJTdXJmYWNlIGluc3RhbmNlb2YgVGV4dHVyZVNvdXJjZSkge1xuICAgICAgcmVuZGVyVGFyZ2V0ID0gbmV3IFJlbmRlclRhcmdldCh7XG4gICAgICAgIGNvbG9yVGV4dHVyZXM6IFtyZW5kZXJTdXJmYWNlXVxuICAgICAgfSk7XG4gICAgICBpZiAocmVuZGVyU3VyZmFjZS5zb3VyY2UgaW5zdGFuY2VvZiBDYW52YXNTb3VyY2UpIHtcbiAgICAgICAgcmVuZGVyVGFyZ2V0LmlzUm9vdCA9IHRydWU7XG4gICAgICB9XG4gICAgICByZW5kZXJTdXJmYWNlLm9uY2UoXCJkZXN0cm95XCIsICgpID0+IHtcbiAgICAgICAgcmVuZGVyVGFyZ2V0LmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5fcmVuZGVyU3VyZmFjZVRvUmVuZGVyVGFyZ2V0SGFzaC5kZWxldGUocmVuZGVyU3VyZmFjZSk7XG4gICAgICAgIGNvbnN0IGdwdVJlbmRlclRhcmdldCA9IHRoaXMuX2dwdVJlbmRlclRhcmdldEhhc2hbcmVuZGVyVGFyZ2V0LnVpZF07XG4gICAgICAgIGlmIChncHVSZW5kZXJUYXJnZXQpIHtcbiAgICAgICAgICB0aGlzLl9ncHVSZW5kZXJUYXJnZXRIYXNoW3JlbmRlclRhcmdldC51aWRdID0gbnVsbDtcbiAgICAgICAgICB0aGlzLmFkYXB0b3IuZGVzdHJveUdwdVJlbmRlclRhcmdldChncHVSZW5kZXJUYXJnZXQpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgdGhpcy5fcmVuZGVyU3VyZmFjZVRvUmVuZGVyVGFyZ2V0SGFzaC5zZXQocmVuZGVyU3VyZmFjZSwgcmVuZGVyVGFyZ2V0KTtcbiAgICByZXR1cm4gcmVuZGVyVGFyZ2V0O1xuICB9XG4gIGdldEdwdVJlbmRlclRhcmdldChyZW5kZXJUYXJnZXQpIHtcbiAgICByZXR1cm4gdGhpcy5fZ3B1UmVuZGVyVGFyZ2V0SGFzaFtyZW5kZXJUYXJnZXQudWlkXSB8fCAodGhpcy5fZ3B1UmVuZGVyVGFyZ2V0SGFzaFtyZW5kZXJUYXJnZXQudWlkXSA9IHRoaXMuYWRhcHRvci5pbml0R3B1UmVuZGVyVGFyZ2V0KHJlbmRlclRhcmdldCkpO1xuICB9XG4gIHJlc2V0U3RhdGUoKSB7XG4gICAgdGhpcy5yZW5kZXJUYXJnZXQgPSBudWxsO1xuICAgIHRoaXMucmVuZGVyU3VyZmFjZSA9IG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IHsgUmVuZGVyVGFyZ2V0U3lzdGVtIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1SZW5kZXJUYXJnZXRTeXN0ZW0ubWpzLm1hcFxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBpc1JlbmRlcmluZ1RvU2NyZWVuKHJlbmRlclRhcmdldCkge1xuICBjb25zdCByZXNvdXJjZSA9IHJlbmRlclRhcmdldC5jb2xvclRleHR1cmUuc291cmNlLnJlc291cmNlO1xuICByZXR1cm4gZ2xvYmFsVGhpcy5IVE1MQ2FudmFzRWxlbWVudCAmJiByZXNvdXJjZSBpbnN0YW5jZW9mIEhUTUxDYW52YXNFbGVtZW50ICYmIGRvY3VtZW50LmJvZHkuY29udGFpbnMocmVzb3VyY2UpO1xufVxuXG5leHBvcnQgeyBpc1JlbmRlcmluZ1RvU2NyZWVuIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc1JlbmRlcmluZ1RvU2NyZWVuLm1qcy5tYXBcbiIsIlwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gY2FsY3VsYXRlUHJvamVjdGlvbihwbSwgeCwgeSwgd2lkdGgsIGhlaWdodCwgZmxpcFkpIHtcbiAgY29uc3Qgc2lnbiA9IGZsaXBZID8gMSA6IC0xO1xuICBwbS5pZGVudGl0eSgpO1xuICBwbS5hID0gMSAvIHdpZHRoICogMjtcbiAgcG0uZCA9IHNpZ24gKiAoMSAvIGhlaWdodCAqIDIpO1xuICBwbS50eCA9IC0xIC0geCAqIHBtLmE7XG4gIHBtLnR5ID0gLXNpZ24gLSB5ICogcG0uZDtcbiAgcmV0dXJuIHBtO1xufVxuXG5leHBvcnQgeyBjYWxjdWxhdGVQcm9qZWN0aW9uIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jYWxjdWxhdGVQcm9qZWN0aW9uLm1qcy5tYXBcbiIsIlwidXNlIHN0cmljdFwiO1xuY29uc3QgYmxlbmRNb2RlSWRzID0ge1xuICBub3JtYWw6IDAsXG4gIGFkZDogMSxcbiAgbXVsdGlwbHk6IDIsXG4gIHNjcmVlbjogMyxcbiAgb3ZlcmxheTogNCxcbiAgZXJhc2U6IDUsXG4gIFwibm9ybWFsLW5wbVwiOiA2LFxuICBcImFkZC1ucG1cIjogNyxcbiAgXCJzY3JlZW4tbnBtXCI6IDgsXG4gIG1pbjogOSxcbiAgbWF4OiAxMFxufTtcbmNvbnN0IEJMRU5EID0gMDtcbmNvbnN0IE9GRlNFVCA9IDE7XG5jb25zdCBDVUxMSU5HID0gMjtcbmNvbnN0IERFUFRIX1RFU1QgPSAzO1xuY29uc3QgV0lORElORyA9IDQ7XG5jb25zdCBERVBUSF9NQVNLID0gNTtcbmNvbnN0IF9TdGF0ZSA9IGNsYXNzIF9TdGF0ZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuZGF0YSA9IDA7XG4gICAgdGhpcy5ibGVuZE1vZGUgPSBcIm5vcm1hbFwiO1xuICAgIHRoaXMucG9seWdvbk9mZnNldCA9IDA7XG4gICAgdGhpcy5ibGVuZCA9IHRydWU7XG4gICAgdGhpcy5kZXB0aE1hc2sgPSB0cnVlO1xuICB9XG4gIC8qKlxuICAgKiBBY3RpdmF0ZXMgYmxlbmRpbmcgb2YgdGhlIGNvbXB1dGVkIGZyYWdtZW50IGNvbG9yIHZhbHVlcy5cbiAgICogQGRlZmF1bHQgdHJ1ZVxuICAgKi9cbiAgZ2V0IGJsZW5kKCkge1xuICAgIHJldHVybiAhISh0aGlzLmRhdGEgJiAxIDw8IEJMRU5EKTtcbiAgfVxuICBzZXQgYmxlbmQodmFsdWUpIHtcbiAgICBpZiAoISEodGhpcy5kYXRhICYgMSA8PCBCTEVORCkgIT09IHZhbHVlKSB7XG4gICAgICB0aGlzLmRhdGEgXj0gMSA8PCBCTEVORDtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEFjdGl2YXRlcyBhZGRpbmcgYW4gb2Zmc2V0IHRvIGRlcHRoIHZhbHVlcyBvZiBwb2x5Z29uJ3MgZnJhZ21lbnRzXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBnZXQgb2Zmc2V0cygpIHtcbiAgICByZXR1cm4gISEodGhpcy5kYXRhICYgMSA8PCBPRkZTRVQpO1xuICB9XG4gIHNldCBvZmZzZXRzKHZhbHVlKSB7XG4gICAgaWYgKCEhKHRoaXMuZGF0YSAmIDEgPDwgT0ZGU0VUKSAhPT0gdmFsdWUpIHtcbiAgICAgIHRoaXMuZGF0YSBePSAxIDw8IE9GRlNFVDtcbiAgICB9XG4gIH1cbiAgLyoqIFRoZSBjdWxsaW5nIHNldHRpbmdzIGZvciB0aGlzIHN0YXRlIG5vbmUgLSBObyBjdWxsaW5nIGJhY2sgLSBCYWNrIGZhY2UgY3VsbGluZyBmcm9udCAtIEZyb250IGZhY2UgY3VsbGluZyAqL1xuICBzZXQgY3VsbE1vZGUodmFsdWUpIHtcbiAgICBpZiAodmFsdWUgPT09IFwibm9uZVwiKSB7XG4gICAgICB0aGlzLmN1bGxpbmcgPSBmYWxzZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5jdWxsaW5nID0gdHJ1ZTtcbiAgICB0aGlzLmNsb2Nrd2lzZUZyb250RmFjZSA9IHZhbHVlID09PSBcImZyb250XCI7XG4gIH1cbiAgZ2V0IGN1bGxNb2RlKCkge1xuICAgIGlmICghdGhpcy5jdWxsaW5nKSB7XG4gICAgICByZXR1cm4gXCJub25lXCI7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmNsb2Nrd2lzZUZyb250RmFjZSA/IFwiZnJvbnRcIiA6IFwiYmFja1wiO1xuICB9XG4gIC8qKlxuICAgKiBBY3RpdmF0ZXMgY3VsbGluZyBvZiBwb2x5Z29ucy5cbiAgICogQGRlZmF1bHQgZmFsc2VcbiAgICovXG4gIGdldCBjdWxsaW5nKCkge1xuICAgIHJldHVybiAhISh0aGlzLmRhdGEgJiAxIDw8IENVTExJTkcpO1xuICB9XG4gIHNldCBjdWxsaW5nKHZhbHVlKSB7XG4gICAgaWYgKCEhKHRoaXMuZGF0YSAmIDEgPDwgQ1VMTElORykgIT09IHZhbHVlKSB7XG4gICAgICB0aGlzLmRhdGEgXj0gMSA8PCBDVUxMSU5HO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQWN0aXZhdGVzIGRlcHRoIGNvbXBhcmlzb25zIGFuZCB1cGRhdGVzIHRvIHRoZSBkZXB0aCBidWZmZXIuXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBnZXQgZGVwdGhUZXN0KCkge1xuICAgIHJldHVybiAhISh0aGlzLmRhdGEgJiAxIDw8IERFUFRIX1RFU1QpO1xuICB9XG4gIHNldCBkZXB0aFRlc3QodmFsdWUpIHtcbiAgICBpZiAoISEodGhpcy5kYXRhICYgMSA8PCBERVBUSF9URVNUKSAhPT0gdmFsdWUpIHtcbiAgICAgIHRoaXMuZGF0YSBePSAxIDw8IERFUFRIX1RFU1Q7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBFbmFibGVzIG9yIGRpc2FibGVzIHdyaXRpbmcgdG8gdGhlIGRlcHRoIGJ1ZmZlci5cbiAgICogQGRlZmF1bHQgdHJ1ZVxuICAgKi9cbiAgZ2V0IGRlcHRoTWFzaygpIHtcbiAgICByZXR1cm4gISEodGhpcy5kYXRhICYgMSA8PCBERVBUSF9NQVNLKTtcbiAgfVxuICBzZXQgZGVwdGhNYXNrKHZhbHVlKSB7XG4gICAgaWYgKCEhKHRoaXMuZGF0YSAmIDEgPDwgREVQVEhfTUFTSykgIT09IHZhbHVlKSB7XG4gICAgICB0aGlzLmRhdGEgXj0gMSA8PCBERVBUSF9NQVNLO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogU3BlY2lmaWVzIHdoZXRoZXIgb3Igbm90IGZyb250IG9yIGJhY2stZmFjaW5nIHBvbHlnb25zIGNhbiBiZSBjdWxsZWQuXG4gICAqIEBkZWZhdWx0IGZhbHNlXG4gICAqL1xuICBnZXQgY2xvY2t3aXNlRnJvbnRGYWNlKCkge1xuICAgIHJldHVybiAhISh0aGlzLmRhdGEgJiAxIDw8IFdJTkRJTkcpO1xuICB9XG4gIHNldCBjbG9ja3dpc2VGcm9udEZhY2UodmFsdWUpIHtcbiAgICBpZiAoISEodGhpcy5kYXRhICYgMSA8PCBXSU5ESU5HKSAhPT0gdmFsdWUpIHtcbiAgICAgIHRoaXMuZGF0YSBePSAxIDw8IFdJTkRJTkc7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBUaGUgYmxlbmQgbW9kZSB0byBiZSBhcHBsaWVkIHdoZW4gdGhpcyBzdGF0ZSBpcyBzZXQuIEFwcGx5IGEgdmFsdWUgb2YgYG5vcm1hbGAgdG8gcmVzZXQgdGhlIGJsZW5kIG1vZGUuXG4gICAqIFNldHRpbmcgdGhpcyBtb2RlIHRvIGFueXRoaW5nIG90aGVyIHRoYW4gTk9fQkxFTkQgd2lsbCBhdXRvbWF0aWNhbGx5IHN3aXRjaCBibGVuZGluZyBvbi5cbiAgICogQGRlZmF1bHQgJ25vcm1hbCdcbiAgICovXG4gIGdldCBibGVuZE1vZGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2JsZW5kTW9kZTtcbiAgfVxuICBzZXQgYmxlbmRNb2RlKHZhbHVlKSB7XG4gICAgdGhpcy5ibGVuZCA9IHZhbHVlICE9PSBcIm5vbmVcIjtcbiAgICB0aGlzLl9ibGVuZE1vZGUgPSB2YWx1ZTtcbiAgICB0aGlzLl9ibGVuZE1vZGVJZCA9IGJsZW5kTW9kZUlkc1t2YWx1ZV0gfHwgMDtcbiAgfVxuICAvKipcbiAgICogVGhlIHBvbHlnb24gb2Zmc2V0LiBTZXR0aW5nIHRoaXMgcHJvcGVydHkgdG8gYW55dGhpbmcgb3RoZXIgdGhhbiAwIHdpbGwgYXV0b21hdGljYWxseSBlbmFibGUgcG9seWdvbiBvZmZzZXQgZmlsbC5cbiAgICogQGRlZmF1bHQgMFxuICAgKi9cbiAgZ2V0IHBvbHlnb25PZmZzZXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3BvbHlnb25PZmZzZXQ7XG4gIH1cbiAgc2V0IHBvbHlnb25PZmZzZXQodmFsdWUpIHtcbiAgICB0aGlzLm9mZnNldHMgPSAhIXZhbHVlO1xuICAgIHRoaXMuX3BvbHlnb25PZmZzZXQgPSB2YWx1ZTtcbiAgfVxuICB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gYFtwaXhpLmpzL2NvcmU6U3RhdGUgYmxlbmRNb2RlPSR7dGhpcy5ibGVuZE1vZGV9IGNsb2Nrd2lzZUZyb250RmFjZT0ke3RoaXMuY2xvY2t3aXNlRnJvbnRGYWNlfSBjdWxsaW5nPSR7dGhpcy5jdWxsaW5nfSBkZXB0aE1hc2s9JHt0aGlzLmRlcHRoTWFza30gcG9seWdvbk9mZnNldD0ke3RoaXMucG9seWdvbk9mZnNldH1dYDtcbiAgfVxuICAvKipcbiAgICogQSBxdWlja2x5IGdldHRpbmcgYW4gaW5zdGFuY2Ugb2YgYSBTdGF0ZSB0aGF0IGlzIGNvbmZpZ3VyZWQgZm9yIDJkIHJlbmRlcmluZy5cbiAgICogQHJldHVybnMgYSBuZXcgU3RhdGUgd2l0aCB2YWx1ZXMgc2V0IGZvciAyZCByZW5kZXJpbmdcbiAgICovXG4gIHN0YXRpYyBmb3IyZCgpIHtcbiAgICBjb25zdCBzdGF0ZSA9IG5ldyBfU3RhdGUoKTtcbiAgICBzdGF0ZS5kZXB0aFRlc3QgPSBmYWxzZTtcbiAgICBzdGF0ZS5ibGVuZCA9IHRydWU7XG4gICAgcmV0dXJuIHN0YXRlO1xuICB9XG59O1xuX1N0YXRlLmRlZmF1bHQyZCA9IF9TdGF0ZS5mb3IyZCgpO1xubGV0IFN0YXRlID0gX1N0YXRlO1xuXG5leHBvcnQgeyBTdGF0ZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3RhdGUubWpzLm1hcFxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCB1bmlmb3JtUGFyc2VycyA9IFtcbiAgLy8gdXBsb2FkaW5nIHBpeGkgbWF0cml4IG9iamVjdCB0byBtYXQzXG4gIHtcbiAgICB0eXBlOiBcIm1hdDN4MzxmMzI+XCIsXG4gICAgdGVzdDogKGRhdGEpID0+IHtcbiAgICAgIGNvbnN0IHZhbHVlID0gZGF0YS52YWx1ZTtcbiAgICAgIHJldHVybiB2YWx1ZS5hICE9PSB2b2lkIDA7XG4gICAgfSxcbiAgICB1Ym86IGBcbiAgICAgICAgICAgIHZhciBtYXRyaXggPSB1dltuYW1lXS50b0FycmF5KHRydWUpO1xuICAgICAgICAgICAgZGF0YVtvZmZzZXRdID0gbWF0cml4WzBdO1xuICAgICAgICAgICAgZGF0YVtvZmZzZXQgKyAxXSA9IG1hdHJpeFsxXTtcbiAgICAgICAgICAgIGRhdGFbb2Zmc2V0ICsgMl0gPSBtYXRyaXhbMl07XG4gICAgICAgICAgICBkYXRhW29mZnNldCArIDRdID0gbWF0cml4WzNdO1xuICAgICAgICAgICAgZGF0YVtvZmZzZXQgKyA1XSA9IG1hdHJpeFs0XTtcbiAgICAgICAgICAgIGRhdGFbb2Zmc2V0ICsgNl0gPSBtYXRyaXhbNV07XG4gICAgICAgICAgICBkYXRhW29mZnNldCArIDhdID0gbWF0cml4WzZdO1xuICAgICAgICAgICAgZGF0YVtvZmZzZXQgKyA5XSA9IG1hdHJpeFs3XTtcbiAgICAgICAgICAgIGRhdGFbb2Zmc2V0ICsgMTBdID0gbWF0cml4WzhdO1xuICAgICAgICBgLFxuICAgIHVuaWZvcm06IGBcbiAgICAgICAgICAgIGdsLnVuaWZvcm1NYXRyaXgzZnYodWRbbmFtZV0ubG9jYXRpb24sIGZhbHNlLCB1dltuYW1lXS50b0FycmF5KHRydWUpKTtcbiAgICAgICAgYFxuICB9LFxuICAvLyB1cGxvYWRpbmcgYSBwaXhpIHJlY3RhbmdsZSBhcyBhIHZlYzRcbiAge1xuICAgIHR5cGU6IFwidmVjNDxmMzI+XCIsXG4gICAgdGVzdDogKGRhdGEpID0+IGRhdGEudHlwZSA9PT0gXCJ2ZWM0PGYzMj5cIiAmJiBkYXRhLnNpemUgPT09IDEgJiYgZGF0YS52YWx1ZS53aWR0aCAhPT0gdm9pZCAwLFxuICAgIHVibzogYFxuICAgICAgICAgICAgdiA9IHV2W25hbWVdO1xuICAgICAgICAgICAgZGF0YVtvZmZzZXRdID0gdi54O1xuICAgICAgICAgICAgZGF0YVtvZmZzZXQgKyAxXSA9IHYueTtcbiAgICAgICAgICAgIGRhdGFbb2Zmc2V0ICsgMl0gPSB2LndpZHRoO1xuICAgICAgICAgICAgZGF0YVtvZmZzZXQgKyAzXSA9IHYuaGVpZ2h0O1xuICAgICAgICBgLFxuICAgIHVuaWZvcm06IGBcbiAgICAgICAgICAgIGN2ID0gdWRbbmFtZV0udmFsdWU7XG4gICAgICAgICAgICB2ID0gdXZbbmFtZV07XG4gICAgICAgICAgICBpZiAoY3ZbMF0gIT09IHYueCB8fCBjdlsxXSAhPT0gdi55IHx8IGN2WzJdICE9PSB2LndpZHRoIHx8IGN2WzNdICE9PSB2LmhlaWdodCkge1xuICAgICAgICAgICAgICAgIGN2WzBdID0gdi54O1xuICAgICAgICAgICAgICAgIGN2WzFdID0gdi55O1xuICAgICAgICAgICAgICAgIGN2WzJdID0gdi53aWR0aDtcbiAgICAgICAgICAgICAgICBjdlszXSA9IHYuaGVpZ2h0O1xuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm00Zih1ZFtuYW1lXS5sb2NhdGlvbiwgdi54LCB2LnksIHYud2lkdGgsIHYuaGVpZ2h0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgYFxuICB9LFxuICAvLyB1cGxvYWRpbmcgYSBwaXhpIHBvaW50IGFzIGEgdmVjMlxuICB7XG4gICAgdHlwZTogXCJ2ZWMyPGYzMj5cIixcbiAgICB0ZXN0OiAoZGF0YSkgPT4gZGF0YS50eXBlID09PSBcInZlYzI8ZjMyPlwiICYmIGRhdGEuc2l6ZSA9PT0gMSAmJiBkYXRhLnZhbHVlLnggIT09IHZvaWQgMCxcbiAgICB1Ym86IGBcbiAgICAgICAgICAgIHYgPSB1dltuYW1lXTtcbiAgICAgICAgICAgIGRhdGFbb2Zmc2V0XSA9IHYueDtcbiAgICAgICAgICAgIGRhdGFbb2Zmc2V0ICsgMV0gPSB2Lnk7XG4gICAgICAgIGAsXG4gICAgdW5pZm9ybTogYFxuICAgICAgICAgICAgY3YgPSB1ZFtuYW1lXS52YWx1ZTtcbiAgICAgICAgICAgIHYgPSB1dltuYW1lXTtcbiAgICAgICAgICAgIGlmIChjdlswXSAhPT0gdi54IHx8IGN2WzFdICE9PSB2LnkpIHtcbiAgICAgICAgICAgICAgICBjdlswXSA9IHYueDtcbiAgICAgICAgICAgICAgICBjdlsxXSA9IHYueTtcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtMmYodWRbbmFtZV0ubG9jYXRpb24sIHYueCwgdi55KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgYFxuICB9LFxuICAvLyB1cGxvYWRpbmcgYSBwaXhpIGNvbG9yIGFzIGEgdmVjNFxuICB7XG4gICAgdHlwZTogXCJ2ZWM0PGYzMj5cIixcbiAgICB0ZXN0OiAoZGF0YSkgPT4gZGF0YS50eXBlID09PSBcInZlYzQ8ZjMyPlwiICYmIGRhdGEuc2l6ZSA9PT0gMSAmJiBkYXRhLnZhbHVlLnJlZCAhPT0gdm9pZCAwLFxuICAgIHVibzogYFxuICAgICAgICAgICAgdiA9IHV2W25hbWVdO1xuICAgICAgICAgICAgZGF0YVtvZmZzZXRdID0gdi5yZWQ7XG4gICAgICAgICAgICBkYXRhW29mZnNldCArIDFdID0gdi5ncmVlbjtcbiAgICAgICAgICAgIGRhdGFbb2Zmc2V0ICsgMl0gPSB2LmJsdWU7XG4gICAgICAgICAgICBkYXRhW29mZnNldCArIDNdID0gdi5hbHBoYTtcbiAgICAgICAgYCxcbiAgICB1bmlmb3JtOiBgXG4gICAgICAgICAgICBjdiA9IHVkW25hbWVdLnZhbHVlO1xuICAgICAgICAgICAgdiA9IHV2W25hbWVdO1xuICAgICAgICAgICAgaWYgKGN2WzBdICE9PSB2LnJlZCB8fCBjdlsxXSAhPT0gdi5ncmVlbiB8fCBjdlsyXSAhPT0gdi5ibHVlIHx8IGN2WzNdICE9PSB2LmFscGhhKSB7XG4gICAgICAgICAgICAgICAgY3ZbMF0gPSB2LnJlZDtcbiAgICAgICAgICAgICAgICBjdlsxXSA9IHYuZ3JlZW47XG4gICAgICAgICAgICAgICAgY3ZbMl0gPSB2LmJsdWU7XG4gICAgICAgICAgICAgICAgY3ZbM10gPSB2LmFscGhhO1xuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm00Zih1ZFtuYW1lXS5sb2NhdGlvbiwgdi5yZWQsIHYuZ3JlZW4sIHYuYmx1ZSwgdi5hbHBoYSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIGBcbiAgfSxcbiAgLy8gdXBsb2FkaW5nIGEgcGl4aSBjb2xvciBhcyBhIHZlYzNcbiAge1xuICAgIHR5cGU6IFwidmVjMzxmMzI+XCIsXG4gICAgdGVzdDogKGRhdGEpID0+IGRhdGEudHlwZSA9PT0gXCJ2ZWMzPGYzMj5cIiAmJiBkYXRhLnNpemUgPT09IDEgJiYgZGF0YS52YWx1ZS5yZWQgIT09IHZvaWQgMCxcbiAgICB1Ym86IGBcbiAgICAgICAgICAgIHYgPSB1dltuYW1lXTtcbiAgICAgICAgICAgIGRhdGFbb2Zmc2V0XSA9IHYucmVkO1xuICAgICAgICAgICAgZGF0YVtvZmZzZXQgKyAxXSA9IHYuZ3JlZW47XG4gICAgICAgICAgICBkYXRhW29mZnNldCArIDJdID0gdi5ibHVlO1xuICAgICAgICBgLFxuICAgIHVuaWZvcm06IGBcbiAgICAgICAgICAgIGN2ID0gdWRbbmFtZV0udmFsdWU7XG4gICAgICAgICAgICB2ID0gdXZbbmFtZV07XG4gICAgICAgICAgICBpZiAoY3ZbMF0gIT09IHYucmVkIHx8IGN2WzFdICE9PSB2LmdyZWVuIHx8IGN2WzJdICE9PSB2LmJsdWUpIHtcbiAgICAgICAgICAgICAgICBjdlswXSA9IHYucmVkO1xuICAgICAgICAgICAgICAgIGN2WzFdID0gdi5ncmVlbjtcbiAgICAgICAgICAgICAgICBjdlsyXSA9IHYuYmx1ZTtcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtM2YodWRbbmFtZV0ubG9jYXRpb24sIHYucmVkLCB2LmdyZWVuLCB2LmJsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICBgXG4gIH1cbl07XG5cbmV4cG9ydCB7IHVuaWZvcm1QYXJzZXJzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD11bmlmb3JtUGFyc2Vycy5tanMubWFwXG4iLCJcInVzZSBzdHJpY3RcIjtcbmNsYXNzIEJhdGNoYWJsZVNwcml0ZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuYmF0Y2hlck5hbWUgPSBcImRlZmF1bHRcIjtcbiAgICB0aGlzLnRvcG9sb2d5ID0gXCJ0cmlhbmdsZS1saXN0XCI7XG4gICAgLy8gYmF0Y2ggc3BlY2lmaWMuLlxuICAgIHRoaXMuYXR0cmlidXRlU2l6ZSA9IDQ7XG4gICAgdGhpcy5pbmRleFNpemUgPSA2O1xuICAgIHRoaXMucGFja0FzUXVhZCA9IHRydWU7XG4gICAgdGhpcy5yb3VuZFBpeGVscyA9IDA7XG4gICAgdGhpcy5fYXR0cmlidXRlU3RhcnQgPSAwO1xuICAgIC8vIGxvY2F0aW9uIGluIHRoZSBidWZmZXJcbiAgICB0aGlzLl9iYXRjaGVyID0gbnVsbDtcbiAgICB0aGlzLl9iYXRjaCA9IG51bGw7XG4gIH1cbiAgZ2V0IGJsZW5kTW9kZSgpIHtcbiAgICByZXR1cm4gdGhpcy5yZW5kZXJhYmxlLmdyb3VwQmxlbmRNb2RlO1xuICB9XG4gIGdldCBjb2xvcigpIHtcbiAgICByZXR1cm4gdGhpcy5yZW5kZXJhYmxlLmdyb3VwQ29sb3JBbHBoYTtcbiAgfVxuICByZXNldCgpIHtcbiAgICB0aGlzLnJlbmRlcmFibGUgPSBudWxsO1xuICAgIHRoaXMudGV4dHVyZSA9IG51bGw7XG4gICAgdGhpcy5fYmF0Y2hlciA9IG51bGw7XG4gICAgdGhpcy5fYmF0Y2ggPSBudWxsO1xuICAgIHRoaXMuYm91bmRzID0gbnVsbDtcbiAgfVxuICBkZXN0cm95KCkge1xuICB9XG59XG5cbmV4cG9ydCB7IEJhdGNoYWJsZVNwcml0ZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QmF0Y2hhYmxlU3ByaXRlLm1qcy5tYXBcbiIsImltcG9ydCB7IEdsb2JhbFJlc291cmNlUmVnaXN0cnkgfSBmcm9tICcuLi8uLi8uLi8uLi8uLi91dGlscy9wb29sL0dsb2JhbFJlc291cmNlUmVnaXN0cnkubWpzJztcbmltcG9ydCB7IENhbnZhc1NvdXJjZSB9IGZyb20gJy4uL3NvdXJjZXMvQ2FudmFzU291cmNlLm1qcyc7XG5pbXBvcnQgeyBUZXh0dXJlIH0gZnJvbSAnLi4vVGV4dHVyZS5tanMnO1xuXG5cInVzZSBzdHJpY3RcIjtcbmNvbnN0IGNhbnZhc0NhY2hlID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbkdsb2JhbFJlc291cmNlUmVnaXN0cnkucmVnaXN0ZXIoY2FudmFzQ2FjaGUpO1xuZnVuY3Rpb24gZ2V0Q2FudmFzVGV4dHVyZShjYW52YXMsIG9wdGlvbnMpIHtcbiAgaWYgKCFjYW52YXNDYWNoZS5oYXMoY2FudmFzKSkge1xuICAgIGNvbnN0IHRleHR1cmUgPSBuZXcgVGV4dHVyZSh7XG4gICAgICBzb3VyY2U6IG5ldyBDYW52YXNTb3VyY2Uoe1xuICAgICAgICByZXNvdXJjZTogY2FudmFzLFxuICAgICAgICAuLi5vcHRpb25zXG4gICAgICB9KVxuICAgIH0pO1xuICAgIGNvbnN0IG9uRGVzdHJveSA9ICgpID0+IHtcbiAgICAgIGlmIChjYW52YXNDYWNoZS5nZXQoY2FudmFzKSA9PT0gdGV4dHVyZSkge1xuICAgICAgICBjYW52YXNDYWNoZS5kZWxldGUoY2FudmFzKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHRleHR1cmUub25jZShcImRlc3Ryb3lcIiwgb25EZXN0cm95KTtcbiAgICB0ZXh0dXJlLnNvdXJjZS5vbmNlKFwiZGVzdHJveVwiLCBvbkRlc3Ryb3kpO1xuICAgIGNhbnZhc0NhY2hlLnNldChjYW52YXMsIHRleHR1cmUpO1xuICB9XG4gIHJldHVybiBjYW52YXNDYWNoZS5nZXQoY2FudmFzKTtcbn1cbmZ1bmN0aW9uIGhhc0NhY2hlZENhbnZhc1RleHR1cmUoY2FudmFzKSB7XG4gIHJldHVybiBjYW52YXNDYWNoZS5oYXMoY2FudmFzKTtcbn1cblxuZXhwb3J0IHsgZ2V0Q2FudmFzVGV4dHVyZSwgaGFzQ2FjaGVkQ2FudmFzVGV4dHVyZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2V0Q2FudmFzVGV4dHVyZS5tanMubWFwXG4iXSwibmFtZXMiOlsiX1JlbmRlclRhcmdldCIsImNvbnN0cnVjdG9yIiwiZGVzY3JpcHRvciIsInRoaXMiLCJ1aWQiLCJjb2xvclRleHR1cmVzIiwiZGlydHlJZCIsImlzUm9vdCIsIl9zaXplIiwiRmxvYXQzMkFycmF5IiwiX21hbmFnZWRDb2xvclRleHR1cmVzIiwiZGVmYXVsdE9wdGlvbnMiLCJzdGVuY2lsIiwiZGVwdGgiLCJpIiwicHVzaCIsIndpZHRoIiwiaGVpZ2h0IiwicmVzb2x1dGlvbiIsImFudGlhbGlhcyIsIm1hcCIsInRleHR1cmUiLCJzb3VyY2UiLCJjb2xvclNvdXJjZSIsImNvbG9yVGV4dHVyZSIsInJlc2l6ZSIsIl9yZXNvbHV0aW9uIiwib24iLCJvblNvdXJjZVJlc2l6ZSIsImRlcHRoU3RlbmNpbFRleHR1cmUiLCJlbnN1cmVEZXB0aFN0ZW5jaWxUZXh0dXJlIiwic2l6ZSIsInBpeGVsV2lkdGgiLCJwaXhlbEhlaWdodCIsImZvcm1hdCIsImF1dG9HZW5lcmF0ZU1pcG1hcHMiLCJtaXBMZXZlbENvdW50Iiwic2tpcENvbG9yVGV4dHVyZSIsImZvckVhY2giLCJkZXN0cm95Iiwib2ZmIiwiUmVuZGVyVGFyZ2V0IiwiQnVmZmVyUmVzb3VyY2UiLCJidWZmZXIiLCJvZmZzZXQiLCJzdXBlciIsIl9yZXNvdXJjZVR5cGUiLCJfdG91Y2hlZCIsIl9yZXNvdXJjZUlkIiwiX2J1ZmZlclJlc291cmNlIiwiZGVzdHJveWVkIiwib25CdWZmZXJDaGFuZ2UiLCJlbWl0IiwiZGVzdHJveUJ1ZmZlciIsIkdwdVN0ZW5jaWxNb2Rlc1RvUGl4aSIsIk5PTkUiLCJESVNBQkxFRCIsInN0ZW5jaWxXcml0ZU1hc2siLCJzdGVuY2lsUmVhZE1hc2siLCJSRU5ERVJJTkdfTUFTS19BREQiLCJzdGVuY2lsRnJvbnQiLCJjb21wYXJlIiwicGFzc09wIiwic3RlbmNpbEJhY2siLCJSRU5ERVJJTkdfTUFTS19SRU1PVkUiLCJNQVNLX0FDVElWRSIsIklOVkVSU0VfTUFTS19BQ1RJVkUiLCJsb29wTWF0cml4IiwiY29sIiwicm93IiwidWJvU3luY0Z1bmN0aW9uc1NURDQwIiwiZjMyIiwiaTMyIiwidWJvU3luY0Z1bmN0aW9uc1dHU0wiLCJDdXN0b21SZW5kZXJQaXBlIiwicmVuZGVyZXIiLCJfcmVuZGVyZXIiLCJ1cGRhdGVSZW5kZXJhYmxlIiwiZGVzdHJveVJlbmRlcmFibGUiLCJ2YWxpZGF0ZVJlbmRlcmFibGUiLCJhZGRSZW5kZXJhYmxlIiwiY29udGFpbmVyIiwiaW5zdHJ1Y3Rpb25TZXQiLCJyZW5kZXJQaXBlcyIsImJhdGNoIiwiYnJlYWsiLCJhZGQiLCJleGVjdXRlIiwiaXNSZW5kZXJhYmxlIiwicmVuZGVyIiwiZXh0ZW5zaW9uIiwidHlwZSIsIldlYkdMUGlwZXMiLCJXZWJHUFVQaXBlcyIsIkNhbnZhc1BpcGVzIiwibmFtZSIsImV4ZWN1dGVJbnN0cnVjdGlvbnMiLCJyZW5kZXJHcm91cCIsImluc3RydWN0aW9ucyIsImluc3RydWN0aW9uU2l6ZSIsImluc3RydWN0aW9uIiwicmVuZGVyUGlwZUlkIiwidGVtcE1hdHJpeCIsIk1hdHJpeCIsIlJlbmRlckdyb3VwUGlwZSIsImFkZFJlbmRlckdyb3VwIiwiaXNDYWNoZWRBc1RleHR1cmUiLCJfYWRkUmVuZGVyYWJsZUNhY2hlQXNUZXh0dXJlIiwiX2FkZFJlbmRlcmFibGVEaXJlY3QiLCJfZXhlY3V0ZUNhY2hlQXNUZXh0dXJlIiwiX2V4ZWN1dGVEaXJlY3QiLCJfYmF0Y2hhYmxlUmVuZGVyR3JvdXAiLCJyZXR1cm4iLCJiYXRjaGFibGVSZW5kZXJHcm91cCIsImdldCIsIkJhdGNoYWJsZVNwcml0ZSIsInJlbmRlcmFibGUiLCJyb290IiwidHJhbnNmb3JtIiwicmVsYXRpdmVHcm91cFRyYW5zZm9ybSIsImJvdW5kcyIsIl90ZXh0dXJlQm91bmRzIiwiYmxlbmRNb2RlIiwicHVzaEJsZW5kTW9kZSIsImdyb3VwQmxlbmRNb2RlIiwiYWRkVG9CYXRjaCIsInBvcEJsZW5kTW9kZSIsInRleHR1cmVOZWVkc1VwZGF0ZSIsIndvcmxkVHJhbnNmb3JtTWF0cml4IiwiaWRlbnRpdHkiLCJ0cmFuc2xhdGUiLCJ4IiwieSIsInJlbmRlclRhcmdldCIsImZyYW1lIiwiZ2xvYmFsVW5pZm9ybXMiLCJ3b3JsZENvbG9yIiwiZmluaXNoUmVuZGVyUGFzcyIsInBvcCIsIl9iYXRjaGVyIiwidXBkYXRlRWxlbWVudCIsImdlb21ldHJ5IiwiYnVmZmVycyIsInVwZGF0ZSIsImludmVyc2VQYXJlbnRUZXh0dXJlVHJhbnNmb3JtIiwid29ybGRDb2xvckFscGhhIiwiY2xlYXJMaXN0IiwibGlzdCIsImluZGV4IiwiaiIsImxlbmd0aCIsInRlbXBDb250YWluZXIiLCJDb250YWluZXIiLCJVUERBVEVfQkxFTkRfQ09MT1JfVklTSUJMRSIsInVwZGF0ZVJlbmRlckdyb3VwVHJhbnNmb3JtcyIsInVwZGF0ZUNoaWxkUmVuZGVyR3JvdXBzIiwid29ybGRBbHBoYSIsInJlbmRlckdyb3VwUGFyZW50Iiwid29ybGRUcmFuc2Zvcm0iLCJhcHBlbmRGcm9tIiwibXVsdGlwbHlDb2xvcnMiLCJncm91cENvbG9yIiwiZ3JvdXBBbHBoYSIsImNvcHlGcm9tIiwibG9jYWxUcmFuc2Zvcm0iLCJsb2NhbENvbG9yIiwibG9jYWxBbHBoYSIsInVwZGF0ZVJlbmRlckdyb3VwVHJhbnNmb3JtIiwiY2hpbGRyZW5Ub1VwZGF0ZSIsInVwZGF0ZVRpY2siLCJyZW5kZXJHcm91cERlcHRoIiwiTnVtYmVyIiwiY2hpbGRyZW5BdERlcHRoIiwiY2hpbGQiLCJwYXJlbnRSZW5kZXJHcm91cCIsInJlbGF0aXZlUmVuZGVyR3JvdXBEZXB0aCIsInVwZGF0ZVRyYW5zZm9ybUFuZENoaWxkcmVuIiwicmVuZGVyR3JvdXBDaGlsZHJlbiIsInVwZGF0ZUZsYWdzIiwiZGlkQ2hhbmdlIiwidXBkYXRlTG9jYWxUcmFuc2Zvcm0iLCJwYXJlbnQiLCJfdXBkYXRlRmxhZ3MiLCJ1cGRhdGVDb2xvckJsZW5kVmlzaWJpbGl0eSIsImNoaWxkcmVuIiwic3RydWN0dXJlRGlkQ2hhbmdlIiwiZ3JvdXBDb2xvckFscGhhIiwibG9jYWxCbGVuZE1vZGUiLCJnbG9iYWxEaXNwbGF5U3RhdHVzIiwibG9jYWxEaXNwbGF5U3RhdHVzIiwiUmVuZGVyR3JvdXBTeXN0ZW0iLCJvcmlnaW5hbExvY2FsVHJhbnNmb3JtIiwiX3VwZGF0ZUNhY2hlZFJlbmRlckdyb3VwcyIsIl91cGRhdGVSZW5kZXJHcm91cHMiLCJzdGFydCIsInVuaWZvcm1CYXRjaCIsInJlbmRlckVuZCIsImNsb3Nlc3RDYWNoZUFzVGV4dHVyZSIsIl9wYXJlbnRDYWNoZUFzVGV4dHVyZVJlbmRlckdyb3VwIiwiaW52YWxpZGF0ZU1hdHJpY2VzIiwiZ2V0TG9jYWxCb3VuZHMiLCJjZWlsIiwibGFzdFRleHR1cmUiLCJUZXh0dXJlUG9vbCIsInJldHVyblRleHR1cmUiLCJ0ZXh0dXJlT3B0aW9ucyIsInZpZXciLCJzY2FsZU1vZGUiLCJnZXRPcHRpbWFsVGV4dHVyZSIsIl9zb3VyY2UiLCJzdHlsZSIsIlRleHR1cmVTdHlsZSIsIkJvdW5kcyIsInJ1bk9uUmVuZGVyIiwiY2hpbGRyZW5SZW5kZXJhYmxlc1RvVXBkYXRlIiwicmVidWlsZFJlcXVpcmVkIiwidmFsaWRhdGVSZW5kZXJhYmxlcyIsIl9idWlsZEluc3RydWN0aW9ucyIsIl91cGRhdGVSZW5kZXJhYmxlcyIsInVwbG9hZCIsImRpZFZpZXdVcGRhdGUiLCJyZW5kZXJlck9yUGlwZXMiLCJyZXNldCIsImJ1aWxkU3RhcnQiLCJjb2xvck1hc2siLCJzb3J0YWJsZUNoaWxkcmVuIiwic29ydENoaWxkcmVuIiwiY29sbGVjdFJlbmRlcmFibGVzV2l0aEVmZmVjdHMiLCJidWlsZEVuZCIsIldlYkdMU3lzdGVtIiwiV2ViR1BVU3lzdGVtIiwiQ2FudmFzU3lzdGVtIiwiU3ByaXRlUGlwZSIsInNwcml0ZSIsImdwdVNwcml0ZSIsIl9nZXRHcHVTcHJpdGUiLCJfdXBkYXRlQmF0Y2hhYmxlU3ByaXRlIiwiY2hlY2tBbmRVcGRhdGVUZXh0dXJlIiwiX3RleHR1cmUiLCJiYXRjaGFibGVTcHJpdGUiLCJ2aXN1YWxCb3VuZHMiLCJfZ3B1RGF0YSIsIl9pbml0R1BVU3ByaXRlIiwiZ3JvdXBUcmFuc2Zvcm0iLCJyb3VuZFBpeGVscyIsIl9yb3VuZFBpeGVscyIsIl9CYXRjaGVyUGlwZSIsImFkYXB0b3IiLCJzdGF0ZSIsIlN0YXRlIiwiZm9yMmQiLCJfYmF0Y2hlcnNCeUluc3RydWN0aW9uU2V0IiwiT2JqZWN0IiwiY3JlYXRlIiwiX2FjdGl2ZUJhdGNoZXMiLCJfYWRhcHRvciIsImluaXQiLCJnZXRCYXRjaGVyIiwiX2F2YWlsYWJsZUJhdGNoZXJzIiwiYmF0Y2hlcnMiLCJkZWZhdWx0IiwiRGVmYXVsdEJhdGNoZXIiLCJtYXhUZXh0dXJlcyIsImxpbWl0cyIsIm1heEJhdGNoYWJsZVRleHR1cmVzIiwiX2FjdGl2ZUJhdGNoIiwiYmVnaW4iLCJiYXRjaGFibGVPYmplY3QiLCJiYXRjaGVyTmFtZSIsImJhdGNoZXMiLCJpbmRleEJ1ZmZlciIsInNldERhdGFXaXRoU2l6ZSIsImluZGV4U2l6ZSIsImF0dHJpYnV0ZUJ1ZmZlciIsImZsb2F0MzJWaWV3IiwiYXR0cmlidXRlU2l6ZSIsImJhdGNoZXIiLCJkaXJ0eSIsImFjdGlvbiIsInNoYWRlciIsIkJhdGNoZXJQaXBlIiwiaGFuZGxlQnlNYXAiLCJCYXRjaGVyIiwiTWFza0ZpbHRlciIsIkZpbHRlciIsIm9wdGlvbnMiLCJyZXN0IiwidGV4dHVyZU1hdHJpeCIsIlRleHR1cmVNYXRyaXgiLCJmaWx0ZXJVbmlmb3JtcyIsIlVuaWZvcm1Hcm91cCIsInVGaWx0ZXJNYXRyaXgiLCJ2YWx1ZSIsInVNYXNrQ2xhbXAiLCJ1Q2xhbXBGcmFtZSIsInVBbHBoYSIsInVJbnZlcnNlIiwiaW52ZXJzZSIsImdwdVByb2dyYW0iLCJHcHVQcm9ncmFtIiwiZnJvbSIsInZlcnRleCIsImVudHJ5UG9pbnQiLCJmcmFnbWVudCIsImdsUHJvZ3JhbSIsIkdsUHJvZ3JhbSIsImNsaXBUb1ZpZXdwb3J0IiwicmVzb3VyY2VzIiwidU1hc2tUZXh0dXJlIiwiX3RleHR1cmVNYXRyaXgiLCJ1bmlmb3JtcyIsImFwcGx5IiwiZmlsdGVyTWFuYWdlciIsImlucHV0Iiwib3V0cHV0IiwiY2xlYXJNb2RlIiwiY2FsY3VsYXRlU3ByaXRlTWF0cml4IiwicHJlcGVuZCIsIm1hcENvb3JkIiwiYXBwbHlGaWx0ZXIiLCJ0ZW1wQm91bmRzIiwiQWxwaGFNYXNrRWZmZWN0IiwiRmlsdGVyRWZmZWN0IiwiZmlsdGVycyIsIlNwcml0ZSIsIlRleHR1cmUiLCJFTVBUWSIsIkFscGhhTWFza1BpcGUiLCJfYWN0aXZlTWFza1N0YWdlIiwibWFzayIsIm1hc2tlZENvbnRhaW5lciIsIl9tYXNrT3B0aW9ucyIsImNhbkJ1bmRsZSIsInJlbmRlck1hc2tUb1RleHR1cmUiLCJtYXNrQ29udGFpbmVyIiwiaW5jbHVkZUluQnVpbGQiLCJjb2xsZWN0UmVuZGVyYWJsZXMiLCJfbWFza2VkQ29udGFpbmVyIiwicmVuZGVyTWFzayIsImZpbHRlckVmZmVjdCIsIm1lYXN1cmFibGUiLCJnZXRHbG9iYWxCb3VuZHMiLCJjb2xvclRleHR1cmVTb3VyY2UiLCJmaWx0ZXJUZXh0dXJlIiwidHgiLCJtaW5YIiwidHkiLCJtaW5ZIiwibWFza0RhdGEiLCJXRUJHTCIsImZpbHRlciIsIkNvbG9yTWFza1BpcGUiLCJfY29sb3JTdGFjayIsIl9jb2xvclN0YWNrSW5kZXgiLCJfY3VycmVudENvbG9yIiwiX2NvbnRhaW5lciIsImNvbG9yU3RhY2siLCJjdXJyZW50Q29sb3IiLCJfbWFzayIsInNldE1hc2siLCJTdGVuY2lsTWFza1BpcGUiLCJfbWFza1N0YWNrSGFzaCIsIl9tYXNrSGFzaCIsIldlYWtNYXAiLCJfYSIsImVmZmVjdCIsInNldEJsZW5kTW9kZSIsImhhcyIsInNldCIsImluc3RydWN0aW9uc1N0YXJ0IiwiaW5zdHJ1Y3Rpb25zTGVuZ3RoIiwicmVuZGVyVGFyZ2V0VWlkIiwibWFza1N0YWNrSW5kZXgiLCJlbnN1cmVEZXB0aFN0ZW5jaWwiLCJzZXRTdGVuY2lsTW9kZSIsImNsZWFyIiwiU1RFTkNJTCIsIl9CYWNrZ3JvdW5kU3lzdGVtIiwiY2xlYXJCZWZvcmVSZW5kZXIiLCJfYmFja2dyb3VuZENvbG9yIiwiQ29sb3IiLCJjb2xvciIsImFscGhhIiwiYmFja2dyb3VuZCIsImJhY2tncm91bmRDb2xvciIsImJhY2tncm91bmRBbHBoYSIsInNldEFscGhhIiwic2hhcmVkIiwic2V0VmFsdWUiLCJ3YXJuIiwiY29sb3JSZ2JhIiwidG9BcnJheSIsInByaW9yaXR5IiwiQmFja2dyb3VuZFN5c3RlbSIsIkJMRU5EX01PREVfRklMVEVSUyIsImhhbmRsZSIsIkJsZW5kTW9kZSIsIkVycm9yIiwicmVmIiwiQmxlbmRNb2RlUGlwZSIsIl9ibGVuZE1vZGVTdGFjayIsIl9pc0FkdmFuY2VkIiwiX2ZpbHRlckhhc2giLCJydW5uZXJzIiwicHJlcmVuZGVyIiwiX2FjdGl2ZUJsZW5kTW9kZSIsImlzUmVuZGVyR3JvdXAiLCJSZW5kZXJHcm91cCIsIl9lbmRBZHZhbmNlZEJsZW5kTW9kZSIsIl9iZWdpbkFkdmFuY2VkQmxlbmRNb2RlIiwiX3JlbmRlcmFibGVMaXN0IiwiX2Vuc3VyZUZpbHRlckVmZmVjdCIsInJlbmRlcmFibGVzIiwiaW1hZ2VUeXBlcyIsInBuZyIsImpwZyIsIndlYnAiLCJfRXh0cmFjdFN5c3RlbSIsIl9ub3JtYWxpemVPcHRpb25zIiwiZGVmYXVsdHMiLCJ0YXJnZXQiLCJpbWFnZSIsImNyZWF0ZUltYWdlIiwic3JjIiwiYmFzZTY0IiwiZGVmYXVsdEltYWdlT3B0aW9ucyIsInF1YWxpdHkiLCJjYW52YXMiLCJ0b0Jsb2IiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImJsb2IiLCJyZWFkZXIiLCJGaWxlUmVhZGVyIiwib25sb2FkIiwicmVzdWx0Iiwib25lcnJvciIsInJlYWRBc0RhdGFVUkwiLCJ0b0RhdGFVUkwiLCJjb252ZXJ0VG9CbG9iIiwiZ2VuZXJhdGVDYW52YXMiLCJ0ZXh0dXJlR2VuZXJhdG9yIiwiZ2VuZXJhdGVUZXh0dXJlIiwicGl4ZWxzIiwicGl4ZWxJbmZvIiwiZ2V0UGl4ZWxzIiwiZG93bmxvYWQiLCJsaW5rIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiZmlsZW5hbWUiLCJocmVmIiwiYm9keSIsImFwcGVuZENoaWxkIiwiY2xpY2siLCJyZW1vdmVDaGlsZCIsImxvZyIsImNvbnNvbGUiLCJqb2luIiwiRXh0cmFjdFN5c3RlbSIsIlJlbmRlclRleHR1cmUiLCJUZXh0dXJlU291cmNlIiwidGVtcFJlY3QiLCJSZWN0YW5nbGUiLCJub0NvbG9yIiwiR2VuZXJhdGVUZXh0dXJlU3lzdGVtIiwidGV4dHVyZVNvdXJjZU9wdGlvbnMiLCJjbGVhckNvbG9yIiwiQXJyYXkiLCJpc0FycmF5IiwicmVnaW9uIiwiY29weVRvIiwicmVjdGFuZ2xlIiwiTWF0aCIsIm1heCIsInVwZGF0ZU1pcG1hcHMiLCJHbG9iYWxVbmlmb3JtU3lzdGVtIiwiX3N0YWNrSW5kZXgiLCJfZ2xvYmFsVW5pZm9ybURhdGFTdGFjayIsIl91bmlmb3Jtc1Bvb2wiLCJfYWN0aXZlVW5pZm9ybXMiLCJfYmluZEdyb3VwUG9vbCIsIl9hY3RpdmVCaW5kR3JvdXBzIiwiYmluZCIsInByb2plY3Rpb25NYXRyaXgiLCJjdXJyZW50R2xvYmFsVW5pZm9ybURhdGEiLCJwcm9qZWN0aW9uRGF0YSIsIlBvaW50IiwiZ2xvYmFsVW5pZm9ybURhdGEiLCJiaW5kR3JvdXAiLCJ1bmlmb3JtR3JvdXAiLCJfY3JlYXRlVW5pZm9ybXMiLCJ1UHJvamVjdGlvbk1hdHJpeCIsInVSZXNvbHV0aW9uIiwidVdvcmxkVHJhbnNmb3JtTWF0cml4IiwidVdvcmxkQ29sb3JBbHBoYSIsImdldFVuaWZvcm1CaW5kR3JvdXAiLCJCaW5kR3JvdXAiLCJzZXRSZXNvdXJjZSIsIl9jdXJyZW50R2xvYmFsVW5pZm9ybURhdGEiLCJpc1N0YXRpYyIsIlNjaGVkdWxlclN5c3RlbSIsIl90YXNrcyIsIl9vZmZzZXQiLCJUaWNrZXIiLCJzeXN0ZW0iLCJfdXBkYXRlIiwicmVwZWF0IiwiZnVuYyIsImR1cmF0aW9uIiwidXNlT2Zmc2V0IiwiaWQiLCJwZXJmb3JtYW5jZSIsIm5vdyIsImxhc3QiLCJjYW5jZWwiLCJzcGxpY2UiLCJ0YXNrIiwiZWxhcHNlZCIsInJlbW92ZSIsInNhaWRIZWxsbyIsIkhlbGxvU3lzdGVtIiwiaGVsbG8iLCJjb250ZXh0Iiwid2ViR0xWZXJzaW9uIiwiZ2V0TmF2aWdhdG9yIiwidXNlckFnZW50IiwidG9Mb3dlckNhc2UiLCJpbmRleE9mIiwiYXJncyIsImdsb2JhbFRoaXMiLCJzYXlIZWxsbyIsImNsZWFuSGFzaCIsImhhc2giLCJjbGVhbiIsImNsZWFuSGFzaDIiLCJjbGVhbkFycmF5IiwiYXJyIiwicmVuZGVyYWJsZUdDVGljayIsIl9SZW5kZXJhYmxlR0NTeXN0ZW0iLCJfbWFuYWdlZFJlbmRlcmFibGVzIiwiX21hbmFnZWRIYXNoZXMiLCJfbWFuYWdlZEFycmF5cyIsIm1heFVudXNlZFRpbWUiLCJyZW5kZXJhYmxlR0NNYXhVbnVzZWRUaW1lIiwiX2ZyZXF1ZW5jeSIsInJlbmRlcmFibGVHQ0ZyZXF1ZW5jeSIsImVuYWJsZWQiLCJyZW5kZXJhYmxlR0NBY3RpdmUiLCJfaGFuZGxlciIsInNjaGVkdWxlciIsInJ1biIsIl9oYXNoSGFuZGxlciIsIl9hcnJheUhhbmRsZXIiLCJhcnJheSIsImFkZE1hbmFnZWRIYXNoIiwiYWRkTWFuYWdlZEFycmF5IiwiX25vdyIsImdjVGljayIsIl91cGRhdGVJbnN0cnVjdGlvbkdDVGljayIsIl9sYXN0VXNlZCIsIm9uY2UiLCJfcmVtb3ZlUmVuZGVyYWJsZSIsIm1hbmFnZWRSZW5kZXJhYmxlcyIsImN1cnJlbnRUaWNrIiwicnAiLCJSZW5kZXJhYmxlR0NTeXN0ZW0iLCJfVGV4dHVyZUdDU3lzdGVtIiwiY291bnQiLCJjaGVja0NvdW50IiwiY2hlY2tDb3VudE1heCIsInRleHR1cmVHQ0NoZWNrQ291bnRNYXgiLCJtYXhJZGxlIiwidGV4dHVyZUdDQU1heElkbGUiLCJ0ZXh0dXJlR0NNYXhJZGxlIiwiYWN0aXZlIiwidGV4dHVyZUdDQWN0aXZlIiwicG9zdHJlbmRlciIsInJlbmRlcmluZ1RvU2NyZWVuIiwibWFuYWdlZFRleHR1cmVzIiwiYXV0b0dhcmJhZ2VDb2xsZWN0IiwicmVzb3VyY2UiLCJ1bmxvYWQiLCJUZXh0dXJlR0NTeXN0ZW0iLCJfVmlld1N5c3RlbSIsImF1dG9EZW5zaXR5IiwiZGVwcmVjYXRpb24iLCJzY3JlZW4iLCJjcmVhdGVDYW52YXMiLCJnZXRDYW52YXNUZXh0dXJlIiwidHJhbnNwYXJlbnQiLCJkZXNpcmVkU2NyZWVuV2lkdGgiLCJkZXNpcmVkU2NyZWVuSGVpZ2h0IiwicmVtb3ZlVmlldyIsInBhcmVudE5vZGUiLCJTaGFyZWRTeXN0ZW1zIiwiU2hhcmVkUmVuZGVyUGlwZXMiLCJsb2NhbFVuaWZvcm1CaXQiLCJoZWFkZXIiLCJtYWluIiwiZW5kIiwibG9jYWxVbmlmb3JtQml0R3JvdXAyIiwicmVwbGFjZSIsImxvY2FsVW5pZm9ybUJpdEdsIiwiY29sb3IzMkJpdFRvVW5pZm9ybSIsImFiZ3IiLCJvdXQiLCJ0ZXh0dXJlQml0IiwidGV4dHVyZUJpdEdsIiwiY3JlYXRlVWJvU3luY0Z1bmN0aW9uIiwidWJvRWxlbWVudHMiLCJwYXJzZXJDb2RlIiwiYXJyYXlHZW5lcmF0aW9uRnVuY3Rpb24iLCJzaW5nbGVTZXR0ZXJzTWFwIiwiZnVuY0ZyYWdtZW50cyIsInByZXYiLCJ1Ym9FbGVtZW50IiwiZGF0YSIsInBhcnNlZCIsInRlc3QiLCJ1Ym8iLCJ0ZW1wbGF0ZSIsImZyYWdtZW50U3JjIiwiRnVuY3Rpb24iLCJfRmlsdGVyIiwiX3N0YXRlIiwicGFkZGluZyIsImJsZW5kUmVxdWlyZWQiLCJhZGRSZXNvdXJjZSIsImdwdSIsImdsIiwiVWJvU3lzdGVtIiwiX3N5bmNGdW5jdGlvbkhhc2giLCJfc3lzdGVtQ2hlY2siLCJlbnN1cmVVbmlmb3JtR3JvdXAiLCJ1bmlmb3JtRGF0YSIsImdldFVuaWZvcm1Hcm91cERhdGEiLCJsYXlvdXQiLCJ1c2FnZSIsIlVOSUZPUk0iLCJDT1BZX0RTVCIsIl9zaWduYXR1cmUiLCJfaW5pdFVuaWZvcm1Hcm91cCIsInVuaWZvcm1Hcm91cFNpZ25hdHVyZSIsImVsZW1lbnRzIiwia2V5cyIsInVuaWZvcm1TdHJ1Y3R1cmVzIiwiY3JlYXRlVWJvRWxlbWVudHMiLCJzeW5jRnVuY3Rpb24iLCJfZ2VuZXJhdGVVYm9TeW5jIiwiZ2VuZXJhdGVVYm9TeW5jIiwic3luY1VuaWZvcm1Hcm91cCIsInVuaWZvcm1Hcm91cERhdGEiLCJkYXRhSW50MzIiLCJ1cGRhdGVVbmlmb3JtR3JvdXAiLCJfZGlydHlJZCIsInN5bmNlZCIsImVuc3VyZUF0dHJpYnV0ZXMiLCJleHRyYWN0ZWREYXRhIiwiYXR0cmlidXRlcyIsImF0dHJpYnV0ZSIsImF0dHJpYnV0ZURhdGEiLCJpbnN0YW5jZSIsInRlbXBTdHJpZGUiLCJ0ZW1wU3RhcnQiLCJzdHJpZGUiLCJlbnN1cmVTdGFydEFuZFN0cmlkZSIsIlJlbmRlclRhcmdldFN5c3RlbSIsInJvb3RWaWV3UG9ydCIsInZpZXdwb3J0Iiwib25SZW5kZXJUYXJnZXRDaGFuZ2UiLCJTeXN0ZW1SdW5uZXIiLCJkZWZhdWx0Q2xlYXJDb2xvciIsIl9yZW5kZXJTdXJmYWNlVG9SZW5kZXJUYXJnZXRIYXNoIiwiTWFwIiwiX2dwdVJlbmRlclRhcmdldEhhc2giLCJfcmVuZGVyVGFyZ2V0U3RhY2siLCJyZW5kZXJhYmxlR0MiLCJyZW5kZXJTdGFydCIsInJvb3RSZW5kZXJUYXJnZXQiLCJIVE1MQ2FudmFzRWxlbWVudCIsImNvbnRhaW5zIiwiaXNSZW5kZXJpbmdUb1NjcmVlbiIsInJlbmRlclN1cmZhY2UiLCJnZXRSZW5kZXJUYXJnZXQiLCJncHVSZW5kZXJUYXJnZXQiLCJnZXRHcHVSZW5kZXJUYXJnZXQiLCJyZXNpemVHcHVSZW5kZXJUYXJnZXQiLCJwbSIsImZsaXBZIiwic2lnbiIsImEiLCJkIiwiY2FsY3VsYXRlUHJvamVjdGlvbiIsInN0YXJ0UmVuZGVyUGFzcyIsIkFMTCIsImNvbnRleHRDaGFuZ2UiLCJjdXJyZW50UmVuZGVyVGFyZ2V0RGF0YSIsImlzVGV4dHVyZSIsIl9pbml0UmVuZGVyVGFyZ2V0IiwiY29weVRvVGV4dHVyZSIsInNvdXJjZVJlbmRlclN1cmZhY2VUZXh0dXJlIiwiZGVzdGluYXRpb25UZXh0dXJlIiwib3JpZ2luU3JjIiwib3JpZ2luRGVzdCIsIm1pbiIsImtleSIsIkNhbnZhc1NvdXJjZSIsImRlbGV0ZSIsImRlc3Ryb3lHcHVSZW5kZXJUYXJnZXQiLCJpbml0R3B1UmVuZGVyVGFyZ2V0IiwicmVzZXRTdGF0ZSIsImJsZW5kTW9kZUlkcyIsIm5vcm1hbCIsIm11bHRpcGx5Iiwib3ZlcmxheSIsImVyYXNlIiwiX1N0YXRlIiwicG9seWdvbk9mZnNldCIsImJsZW5kIiwiZGVwdGhNYXNrIiwib2Zmc2V0cyIsImN1bGxNb2RlIiwiY3VsbGluZyIsImNsb2Nrd2lzZUZyb250RmFjZSIsImRlcHRoVGVzdCIsIl9ibGVuZE1vZGUiLCJfYmxlbmRNb2RlSWQiLCJfcG9seWdvbk9mZnNldCIsInRvU3RyaW5nIiwiZGVmYXVsdDJkIiwidW5pZm9ybVBhcnNlcnMiLCJ1bmlmb3JtIiwicmVkIiwidG9wb2xvZ3kiLCJwYWNrQXNRdWFkIiwiX2F0dHJpYnV0ZVN0YXJ0IiwiX2JhdGNoIiwiY2FudmFzQ2FjaGUiLCJvbkRlc3Ryb3kiLCJyZWdpc3RlciJdLCJzb3VyY2VSb290IjoiIn0=